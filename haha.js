$('div#tlogins hand.nosel.fl.uzr.border').css({
	margin: '1px 0',
	borderRight: '2px solid #fa58ac',
	borderLeft: '2px solid #fa58ac',
	borderTop: '1px solid #fa58ac61',
	borderBottom: '1px solid #fa58ac61',
	paddingTop: '2px',
	borderRadius: '10px'
}), $('div#tlogins button.btn.btn-primary').click(function() {
	var e = setInterval(function() {
		var t = $('.pmsgc').length;
		0 < t ? ($(`<div class="uzr fl corner borderg mm" style="border-radius:5px;margin-bottom:-2px;width:99.5%;padding:0px; background-color:white;"><img style="width: 36px; height: 38px; margin-left: 1px; margin-top: 1px; background-image: url(https://iqr30.com/sico/z1cko51rvf10.jpg);" class="fl fitimg hand u-pic"><div class="uzr fl" style="padding:0px;width:80%"> <div style="padding:0px;width:100%;" class="fl"><img class="fl u-ico" alt="" src=""> <span style="padding: 1px 8px; margin-top: 2px; display: block; max-width: 82%; border-radius: 3px; color: rgb(199, 103, 48);" class="corner nosel u-topic dots fl hand"></span></div><br><div style="padding: 0px; width: 100%; color: rgb(60, 0, 255);" class=" u-msg   break  fl"><div style="padding: 0px;width: 100%;color: rgb(60, 0, 255);text-align: left;display: block;margin-top: -17px;" class=" u-msg   break  fl">  مرحباً بك 🌹  <h1 style="display: inline-block;color: red;">` + getuser(myid).topic + `</h1> نقدّر تواجدك معنا ، ونتمنى لك يوماً سعيداً إن شاء الله</div>`).appendTo('div#d2'), clearInterval(e)) : console.log(t)
	}, 2e3)
}), $('div#tlogins button.btn.btn-primary').click(function() {
	var e = setInterval(function() {
		var t = $('.pmsgc').length;
		0 < t ? ($(`<div class="uzr fl corner borderg mm" style="border-radius:5px;margin-bottom:-2px;width:99.5%;padding:0px; background-color:none;"><img style="width: 36px; height: 38px; margin-left: 1px; margin-top: 1px; background-image: url(https://iqr30.com/sico/z1c70vol2e10.gif);" class="fl fitimg hand u-pic"><div class="uzr fl" style="padding:0px;width:80%"> <div style="padding:0px;width:100%;" class="fl"><img class="fl u-ico" alt="" src="https://iqr30.com/dro3/z1ceuu4hc610.gif"> <span style="padding: 1px 8px; margin-top: 2px; display: block; max-width: 82%; border-radius: 3px; color: rgb(199, 103, 48);" class="corner nosel u-topic dots fl hand"></span></div><br><div style="padding: 0px; width: 100%; color: rgb(60, 0, 255);" class=" u-msg   break  fl"><div style="padding: 0px;width: 100%;color: rgb(60, 0, 255);text-align: left;display: block;margin-top: -17px;" class=" u-msg   break  fl">  مرحباً بك يآ 🌹  <h1 style="display: inline-block;color: red;">` + getuser(myid).topic + `</h1></i> نرجو منك الالتزام بالقوانين وعدم ذكر مواقع اخرى حفاظا على عضويتك من الحذف</div>`).appendTo('div#chats'), clearInterval(e)) : console.log(t)
	}, 2e3)
}), eval(function(e) {
	for (var t = '', r = 0; r < e.length;)
		if ('`' != e.charAt(r)) t += e.charAt(r++);
		else {
			var n = e.charCodeAt(r + 3) - 28;
			t += 4 < n ? t.substr(t.length - 96 * e.charCodeAt(r + 1) - e.charCodeAt(r + 2) + 3104 - n, n) : '`', r += 4
		}
	return t
}('\uFEFF$("div#tlogins button.btn.btn-primary").click(function(){var myVar = setInterval` 7( var usmsgw =$(".pmsgc").length;if(` 7#> 0){$(`   <style>div#d0 span{background-color:#545e56;border:1px solid #DCF5DF}.ae.label.label`!}$.fa.fa-gear{` J.C9E0CD` n#-radius:7px 7px 15px 15px` w!fa.chats` ~#fa-comment`!)#warning` ~#-bottom` r6top`!.7ight` %6lef` 1)EDFFF1;margin` 8"-1px!important`"2+0`"5&0`"4$`"&,ing-o`#=*`!9~`!uB2`!Pg`#T~`!>y`&U9`#U~`#U~`)|--users`!2~`"".`*s50 0`*z)`!^7` v~`!DP</`.["`   ).insertBefore(\'body\'),clear`/b%`/z!);}else{console.log`/O#)} }, 2000);})')), $(`<style>
@font-face{font-family:'jazeera';src: url('https://www.fontstatic.com/fonts/jazeera/jazeera.eot?#iefix');src: local('الجزيرة'), local('jazeera'),url('https://www.fontstatic.com/fonts/jazeera/jazeera.woff') format('woff');}
@font-face{font-family:'jazeera-light';src: url('https://www.fontstatic.com/fonts/jazeera-light/jazeera-light.eot?#iefix');src: local('الجزيرة خفيف'), local('jazeera-light'),url('https://www.fontstatic.com/fonts/jazeera-light/jazeera-light.woff') format('woff');}
</style>`).insertBefore('div#tlogins .lonline.light.break'), $(`<style>
@font-face{font-family:'fanni';src: url('https://www.fontstatic.com/fonts/fanni/Fanni.eot?#iefix');src: local('فني'), local('fanni'),url('https://www.fontstatic.com/fonts/fanni/Fanni.woff') format('woff');}</style>`).insertBefore('div#tlogins .lonline.light.break'), $('div#tlogins button.btn.btn-primary').click(function() {
	var e = setInterval(function() {
		var t = $('.pmsgc').length;
		0 < t ? ($(`<center></i><audio controls="" loop="" play=""><source src="https://iraqiachats.com/iqr30.mp3"></audio>
</div></i> <iframe src="https://tunein.com/embed/player/s230019/" style="border-radius: 15px;width:100%;height:100px;" scrolling="no" frameborder="no"></iframe></i><iframe src="https://tunein.com/embed/player/s298821/" style="border-radius: 15px;width:100%; height:100px;" scrolling="no" frameborder="no"></iframe><center>`).appendTo('div#chats'), clearInterval(e)) : console.log(t)
	}, 2e3)
}), eval(function(e) {
	for (var t = '', r = 0; r < e.length;)
		if ('`' != e.charAt(r)) t += e.charAt(r++);
		else {
			var n = e.charCodeAt(r + 3) - 28;
			t += 4 < n ? t.substr(t.length - 96 * e.charCodeAt(r + 1) - e.charCodeAt(r + 2) + 3104 - n, n) : '`', r += 4
		}
	return t
}('\uFEFF$(`   <style>body{background-image:url(https://iqr30.com/sico/z1cfl2bmhl10.png)}.fr.borderg{padding:1px;` ."-radius:0 0 5px 0!important;font-family:\'fanni\';float:left;margin-top:-2px` N\'height:20.4` \x7F&bottom:1px solid #545e56` 8$top` #6r` l!` .-`"1(,`">\' a{`!x!size:1`!O*`"\\$`"K!` -\'color:`!0$`"I/}span.s1.fa.fa-user.label.badgex` \'"-as-` +!` (#success`#m*`$g&`!/#FFF`$"+5px`$,!5` ""`#f$left:-8px`!\\"`"-0`!|)}`!\\"`!b"`!L"primary.mini.fl{width:35%`$I5`%/"`#\x7F!`!A#`%<"`#%*`"!1`%\x7F,`!]0`&X.`$,,`&V0`&E6`%m``#c!`&>.`#B"f`#H%oginstat{`(.&`" 57px 7px 15px 1`"3*position:absolute;top:0;`!B!0`#m$5px -4`%N#128px `\'F/1px 8px 4` u)`#$\'123`#==`$B\'` ?*`$f<`#d5C3D9C6`%d,`*(3` F#`#v3` 8"}#as2,#as1,#as9`\'A#16%` P#` H&`#8$2px;outline:0` 5-`!-%`&-)00`"~*`-6&transform-`/\'!:preserve-3d}a`(}1fl img.fl{display:none` 45{`)?#40`*V&`!P!3`+/1`#M"`%>/8`(+/:0`\'i+`%8)jazeera-light\',FontAwesome}div#t`\'r"{`#0.`$h+`\'s"20px 20px 0 0`#p-`!q*` 4\'-webkit-box-shadow:inset 0 2px 2px rgba(0,0,0,.075),0 0`\'w!` 4!41,77,74);box-` "]`"62}button.btn`1<!tn`/k$`0A#refresh`*w\'`$8@`%(#`(3"`*~*`/~(3`&p+`%Z(1`%$0`0v%0`41%:2`"+%`\'N!pare`*;*image`\'\'!`&+%2px;`\'8)ul.nav.nav-tabs.fl li`4 $`&)+`&%)`+_(`-F+`!%#`,[*text-align:center`0P6`+Q*.5`&w-`&M*`+:#00%`35+`"%3:hover{`$\\.fff` >@`3r$3.3`,L$`$U!`$&&`(Z2`!v>`.p1`2X<`*6!l3 `\'K",` )!1` \'#`"2/`\'"-`(0.ba3c6`+L+`0y#`.D5`"=*30px 30px 3` "$`!a"2` W~`!#R1 input#u1`-X#` J$1`4P!5`-?#`-b5`%N"99%`* (3`/w&`2d$`\'v.`.vI`$o\'`&.* 0`!_"15px`!B\'`1D#`">&`%`$`"3/` A2`!q,`$X,` O485`!+/2`#_#pass1`\'%"` +$u2` *"3` 8\'` $+u3`)4#49%`+]%0`%g\'`/&"`(z!`!p#`)P!5`0M#0`#=\\`!T4u3{`"z(-6`.|%`$6&`%}\'`1;6`$!~`$!~`$q.`$f)`(k0`"3$`"Z;`#n${`2#\'`%4&`#6#{`!K#8`"/&:0 1px `3U!`%d0`#.%r`&k$br{`2y)`!2)`.<#`"!$`.h,`#F$` .&`09(0` 7*` .!` 8$`2)*`0M,`"1#69`$1,:focus`#c$` (({outline` k4` 5&-webkit-box-shadow:inset `#5"1px rgba(0,0,0,.075),0 0 8` 1$41,77,74);box-` "]`%S,`(,*`!<~`!<~`*"1`\'gx` i\'`%k#`2J$`%z#`,d$` ")`!,!` 3*` (#`"}~`#*q}.fr.co`*\x7F$`,d\'20`+C(`)V(1`-Z&`0x!:2px}.brooms.minix.badge.`"c",.mi` ".corner` (#.label.label-primary{background`#=*`!J\'`$l.FFF0FA;` Q\'image`,S!` *(` [3}.bwall`!]1buser`"-0`!"d` C5`!y0}ul.nav.nav-tabs.fl li .fa-user-plus:before{` r#FF000`&V&animation:mymove .5s infinite;a` "8` ~;`!\'-F` +B,`!i1float:lef`"S3`"\x7F@`2x\' 5`\'5&top:-` %\'left` +"font-size:19px}@`#-$keyframes `"q"{from`#S*}to`"N(}@k` "N#as43{`!@!family:\'fanni\'`3@+2px`"F5`2{$25px;` s&`.B+5`"l" 5`"s#`4Y*2`\'&&C9E0CD`4Q(` +.`#`#` V$1`+6(}#as8`/$$` I2` |<`"I/`/m*0px 10px 1` "$}#as7{transform:rotate(-35deg);`&6"`,a!;` <%-style:preserve-3d`%d(4`%`+2px`&6%0 2px 2px 7`1\'1C3D9C6`.9$2%` b#:1` O$2px -37.5px `\'4\'display:inline-block`2x!d2bc .uzr.fl`.%*g`2h+9`/;/:3`0F#-1`!5#`,A-`&+$FFD9ED}.btn-sm,.` ""`-.(`,0\'.btn` =!`/D#` ;/`-J:`!m$0 30`4i!30px}.ae`050.fa.fa-gear,.ae.fa` /3`+V!s` <$chats` C#fa-comment` G*` M?` 5*` _&ing-o` ^,`!d"sign-out.fl`"z,` :%end` 8# `#>\'` ,/` N, ` 7$sndpm` /2r` _$hare-alt.sndfile` </`$m2`3&Afl.ustat`&[+12`(Y%:0`(c$`)>!` %&`(u!` %%top`*7!`(R#12`\'?)`- #` (*}img.fit` "!l.u-pic`!A#`!z#`!G)6px`(k!`%]! ` M$`!j/6px 6px 6` ""`!q3-180`0x*2`!u%38`!j03`)S)}.hand.nosel`!E!z`*/$,.` "4`!`%`"h"`+k&`0\'#` 8#`#U!` %5`$;$`2j&`!u!`!z+`-0+}::`2w$scrollbar{`"G"5px`$7%0` 42-button` ?.5` 93thumb`&l\'`2G%`$x#71px none #fff`"++31` Z8:hover` p(red` 47active`!?)808` ;2rack` =)ee`&^$:65`!W84`![4rack`!a.#fff` 57`!a/aaa` <1`0k"` ?(`2\x7F!parent`/{-font-family:\'fanni\';` /!size:13`\'j)`3*$` (*text-align:center`0!510px 10px 1` "$`*v$00%}body.bg .` a"`3,".bg.dad div#tlogins{`&E#auto`)4\'div#l1 input#u1` >$`1A!` 7!2` 4$2` "6pass` H/3` 4\'` K/` 7$u3` /)nav.nav-tabs.fl`!Z:`(l",` i#` "(2` \'#` I3u` p%3`-J$l1.grow.break.tab-pane.fade.`&%".i` W4`!-".` "Z3` &V#as6{float:left;`\'9!form-style:preserve-3d`%v#6%`-/$-94px 2px 2px 280.5px ` o*8`!0$55`/1)ul.`$@,`-w\'3px}#as1` ,$`."!`\'z*`\'^*7px 0 0 15` T"2` M)64` @70 7px` T! 0}#as9` {6}.a`*?\'-color:#FFF`0)/` l"` r!`0F!`*G0`*:$2`)W$`#R#`!L!0px;` {#`/7"`"m!1`/~#100`$ $`#-!1`#+#3` 9#22` +"` C(`%-1`!D1` r#bottom`2+!`"B&FFA`"@+5px 5px 5` ""`,="shadow`"6!0 8px rgba(255,255,219) ,0`%t!`,9!#fff`$2-`3y(FFE0F6`!|$33`! $`-?(}</`\'1!>`   ).insertBefore(\'`,e\' .lonline.light`(P"\');'));
var _0x70c2 = ['div#tlogins input#u1', 'insertBefore', ''];
$(_0x70c2[2])[_0x70c2[1]](_0x70c2[0]);
var _0x564a = ['div#d2bc', 'insertBefore', '\r\n'];
$(_0x564a[2])[_0x564a[1]](_0x564a[0]);
var _0xe4a3 = ['click', 'alcolor', 'addClass', 'asim', 'indexOf', 'text', 'filter', 'div#users .fl.mini.u-msg', 'on', 'label.ae.fa.label.label-primary.fa-user'],
	_0xdd61 = [_0xe4a3[0], _0xe4a3[1], _0xe4a3[2], _0xe4a3[3], _0xe4a3[4], _0xe4a3[5], _0xe4a3[6], _0xe4a3[7], _0xe4a3[8], _0xe4a3[9]];
$(_0xdd61[9])[_0xdd61[8]](_0xdd61[0], function() {
	$(_0xdd61[7])[_0xdd61[6]](function() {
		return -0 < $(this)[_0xdd61[5]]()[_0xdd61[4]](_0xdd61[3])
	})[_0xdd61[2]](_0xdd61[1])
});
var _0xb650 = ['maxlength', '12', 'attr', 'div#tlogins input'];
$(_0xb650[3])[_0xb650[2]](_0xb650[0], _0xb650[1]);

function logout() {
	setTimeout(function() {
		close(0)
	})
}
var socket, users = [],
	rooms = [],
	myid = null,
	myroom = null,
	nopm = !0,
	nonot = !0,
	pickedfile = null,
	power = {},
	powers = [],
	emos = [],
	dro3 = [],
	token = '',
	rbans = [],
	blocked = [];

function sendbc(e) {
	e ? (pickedfile = null, sendfile('d2bc', function() {
		var n = $('.tboxbc').val();
		$('.tboxbc').val('');
		var a = pickedfile;
		(pickedfile = '', '%0A' != n && '%0a' != n && '' != n && '\n' != n || '' != a && null != a) && send('bc', {
			msg: n,
			link: a
		})
	})) : pickedfile = null;
	var t = $('.tboxbc').val();
	$('.tboxbc').val('');
	var r = pickedfile;
	pickedfile = '', ('%0A' == t || '%0a' == t || '' == t || '\n' == t) && ('' == r || null == r) || send('bc', {
		msg: t,
		link: r
	})
}
var isIphone = !1;

function refr() {
	var e = document.referrer || '';
	return 0 == e.indexOf('http://' + location.hostname) ? '' : (-1 != e.indexOf('://') && (e = e.replace(/(.*?)\:\/\//g, '').split('/')[0]), e)
}

function checkupdate() {
	needUpdate && (updateusers(), updaterooms(), needUpdate = !1), setTimeout(checkupdate, 2e3)
}

function load() {
	if (isIphone = /ipad|iphone|ipod/i.test(navigator.userAgent.toLowerCase()), 'undefined' == typeof $ || 'undefined' == typeof io) return void close(5e3);
	if (null == $('').tab) return void close(5e3);
	isIphone && ($('img[data-toggle="popover"]').removeClass('nosel'), fxi()), checkupdate(), $('#rhtml .utopic').css('margin-left', '6px'), umsg = $('#umsg').html(), loadpro(), loadblocked(), 400 >= $(window).width() && $('meta[name=\'viewport\']').attr('content', ' user-scalable=0, width=400'), 600 <= $(window).width() && $('meta[name=\'viewport\']').attr('content', ' user-scalable=0, width=600'), $('#tbox').css('background-color', '#AAAAAF'), $('.rout').hide(), $('.redit').hide(), $('#u1').val(decode(getv('u1'))), $('#u2').val(decode(getv('u2'))), $('#pass1').val(decode(getv('p1'))), 'yes' == getv('isl') && $('.nav-tabs a[href="#l2"]').tab('show'), uhtml = $('#uhtml').html(), rhtml = $('#rhtml').html(), $('.ae').click(function() {
		$('.phide').click()
	});
	var e = 'yes' == getUrlParameter('debug');
	e && (window.onerror = function(t, r, n) {
		alert('Error: ' + t + ' Script: ' + r + ' Line: ' + n)
	}, alert(e)), $('#tlogins button').attr('disabled', 'true'), processq(), newsock(), '' == getv('refr') && setv('refr', refr() || '*'), '' == getv('r') && setv('r', getUrlParameter('r') || '*'), $(window).on('resize pushclose pushopen', fixSize), $('*[data-toggle="tab"]').on('shown.bs.tab', function() {
		fixSize()
	}), $('#tbox').keyup(function(t) {
		13 == t.keyCode && (t.preventDefault(), Tsend())
	}), $('.tboxbc').keyup(function(t) {
		13 == t.keyCode && (t.preventDefault(), sendbc())
	}), fixSize(), setTimeout(function() {
		updateTimes()
	}, 2e4), setTimeout(function() {
		refreshonline()
	}, 500)
}
var pending = !1,
	pdata = [];

function send(e, t) {
	return pending ? (pdata.push({
		cmd: e,
		data: t
	}), void(4 < pdata.length && pdata.splice(0, 1))) : void socket.emit('msg', {
		cmd: e,
		data: t
	})
}

function newsock() {
	socket = io('', {
		reconnection: !1,
		transportstra: ['polling', 'websocket']
	}), socket.on('connect', function() {
		lstat('success', '\u0645\u062A\u0635\u0644'), $('#tlogins button').removeAttr('disabled'), pending && (socket.emit('re', {
			token: token
		}), pending = !1), null != getUrlParameter('enter') && ($('#u1').val(hash([new Date().getTime()], 256) + '_\u0632\u0627\u0626\u0631'), login(1))
	}), socket.on('re', function(e) {
		!0 == e.ok ? (!1 == pending, pdata.forEach(function(t) {
			socket.emit('msg', t)
		}), pdata = []) : close()
	}), socket.on('msg', function(e) {
		onq.push(e)
	}), socket.on('disconnect', function() {
		return null != myid && !1 == pending ? (pending = !0, void setTimeout(newsock, 12000)) : void(lstat('danger', '\u063A\u064A\u0631 \u0645\u062A\u0635\u0644'), close())
	}), socket.on('connect_error', function() {
		console.log('connect_error'), lstat('danger', '\u0628\u0639\u062F\u0643 \u0645\u0645\u062A\u0635\u0644'), close()
	}), socket.on('connect_timeout', function() {
		console.log('connect_timeout'), lstat('danger', '\u0628\u0639\u062F\u0643 \u0645\u0645\u062A\u0635\u0644'), close()
	}), socket.on('error', function() {
		console.log('error'), lstat('danger', '\u0628\u0639\u062F\u0643 \u0645\u0645\u062A\u0635\u0644'), close()
	})
}

function processq() {
	for (var t, e = 0; e < onq.length && 20 > e; e++) t = onq[0], onq.splice(0, 1), ondata(t.cmd, t.data);
	setTimeout(function() {
		processq()
	}, 100)
}
var onq = [];

function fxi() {
	isIphone && ($('textarea').on('focus', function() {
		fixI(this)
	}), $('textarea').on('blur', function() {
		blurI(this)
	}), document.addEventListener('focusout', function() {
		window.scrollTo(0, 0)
	}))
}

function fixI(e) {
	if (!1 != isIphone) {
		var t = $(e).position().top - (document.body.scrollHeight - window.innerHeight) - 10;
		t < document.body.scrollHeight + window.innerHeight, $(document.body).scrollTop(t)
	}
}

function blurI() {
	!1 == isIphone || $(document.body).scrollTop(0)
}

function debugI() {
	var e = '';
	e += window.innerHeight + '\n', e += $(window).height() + '\n', e += document.height + '\n', e += document.body.height + '\n', e += $('#tbox').position().top + '\n', e += document.body.scrollHeight + '\n', e += $('.dad').height() + '\n', $(document.body).scrollTop($('#tbox').position().top - (document.height - window.innerHeight))
}

function refreshonline() {
	$.get('getonline', function(e) {
		var t = e;
		'stromg' == typeof e && JSON.parse(e), powers = t.powers;
		var r = $('.lonline');
		r.children().remove();
		var n = $('#uhtml').html();
		$('.s1').text(t.online.length), $.each(t.online, function(a, o) {
			if (!0 != o.s) {
				var s = $(n);
				s.find('.u-topic').text(o.topic).css({
					'background-color': o.bg,
					color: o.ucol
				}), s.find('.u-msg').text(o.msg), s.find('.u-pic').css('background-image', 'url("' + o.pic + '")'), s.find('.ustat').remove(), '--' == o.co || null == o.co || 'A1' == o.co || 'A2' == o.co || 'EU' == o.co ? s.find('.co').remove() : s.find('.co').attr('src', 'https://iqr30.com/sico/z1cki553su10.gif');
				var c = getico(o);
				'' != c && s.find('.u-ico').attr('src', c), r.append(s)
			}
		})
	})
}

function htmljson(e) {
	e = $(e);
	var t = {};
	return $.each(e.find('input'), function(r, n) {
		switch ($(n).attr('type')) {
			case 'text':
				t[$(n).attr('name')] = $(n).val();
				break;
			case 'checkbox':
				t[$(n).attr('name')] = $(n).prop('checked');
				break;
			case 'number':
				t[$(n).attr('name')] = parseInt($(n).val(), 10);
		}
	}), t
}

function jsonhtml(e, t) {
	var r = $('<div style="width:100%;height:100%;padding:5px;" class="break"></div>');
	return $.each(Object.keys(e), function(n, a) {
		switch (typeof e[a]) {
			case 'string':
				r.append('<label class="label label-primary">' + a + '</label></br>'), r.append('<input type="text" name="' + a + '" class="corner" value="' + e[a] + '"></br>');
				break;
			case 'boolean':
				r.append('<label class="label label-primary">' + a + '</label></br>');
				var o = '';
				e[a] && (o = 'checked'), r.append('<label>\u062A\u0641\u0639\u064A\u0644<input name="' + a + '" type="checkbox" class="corner" ' + o + '></label></br>');
				break;
			case 'number':
				r.append('<label class="label label-primary">' + a + '</label></br>'), r.append('<input name="' + a + '" type="number" class="corner" value="' + e[a] + '"></br>');
		}
	}), r.append('<button class="btn btn-primary fr fa fa-edit">\u062D\u0641\u0638</button>'), r.find('button').click(function() {
		t(htmljson(r))
	}), r
}
var lastfix = 0,
	lastw = 0;

function fixSize(e) {
	$(document.body).innerWidth(), $(document.documentElement).css('height', $(window).height() - 2 + 'px'), docss(), startcss();
	var t = $('.lonline');
	0 < t.length && t.css('height', $(window).height() - t.position().top - 5 + 'px'), $('.dpnl').css('left', $('.dad').width() - ($('.dpnl').width() + 2) + 'px').css('height', $('#room').height() - ($('#d0').height() + 2) + 'px').css('top', '0px'), 1 == e ? $('#d2').scrollTop($('#d2')[0].scrollHeight) : setTimeout(function() {
		fixSize(1)
	}, 10)
}
'1' == getUrlParameter('x') && (dkh = 0, setInterval(function() {
	var e = $(document).height() - $(document.body).height();
	e != dkh && (dkh = e, alert(dkh))
}, 2e3));

function startcss() {
	$.each($('.tab-pane'), function(e, t) {
		$(t).hasClass('active') ? $(t).removeClass('hid') : $(t).addClass('hid')
	}), $('a[data-toggle="tab"]').on('shown.bs.tab', function(e) {
		$($(e.relatedTarget).attr('href')).addClass('hid'), $($(e.target).attr('href')).removeClass('hid')
	})
}

function docss() {
	$.each($('.filw'), function(e, t) {
		var r = $(t).parent(),
			n = 0;
		$.each(r.children(), function(a, o) {
			$(o).hasClass('filw') || $(o).hasClass('popover') || 'absolute' == $(o).css('position') || (n += $(o).outerWidth(!0))
		}), $(t).css('width', r.width() - n - 12 + 'px')
	}), $.each($('.filh'), function(e, t) {
		var r = $(t).parent(),
			n = 0;
		$.each(r.children(), function(a, o) {
			$(o).hasClass('filh') || 'absolute' == $(o).css('position') || (n += $(o).outerHeight(!0))
		}), $(t).css('height', r.height() - n - 1 + 'px')
	})
}

function pickedemo(e) {
	e = $(e);
	var t = e.attr('title'),
		r = $(e.attr('eid'));
	r.parent().find('.tbox').val($(r).parent().find('.tbox').val() + ' \u0641' + t), r.popover('hide').blur()
}

function roomChanged(e) {
	$('#users').find('.inroom').removeClass('inroom'), $('#rooms').find('.inroom').removeClass('inroom');
	var t = getroom(myroom);
	if ($('.bord').removeClass('bord'), null != t) {
		$('.inr,.ninr,.rout').show(), 0 == $('#room.active').length && !0 == e && $('[data-target=\'#room\']').trigger('click'), !0 == e && $('[data-target=\'#room\']').show(), $.each(rusers(t.id), function() {
			$('#users').find('.uid' + this.id).addClass('inroom')
		}), $('#rooms').find('.r' + t.id).addClass('inroom bord'), $('#tbox').css('background-color', '');
		var r = getuser(myid);
		r && (t.owner == r.lid || !0 == power.roomowner) && $('.redit').show()
	} else $('.roomtgl').hide(), e && $('[data-target=\'#room\']').hide(), 0 != $('#room.active').length && !0 == e && $('[data-target=\'#rooms\']').trigger('click'), $('.inr,.ninr').hide(), $('.rout').hide(), $('.redit').hide(), $('#tbox').css('background-color', '#AAAAAF')
}

function emopop(e) {
	var t = $(e);
	t.popover({
		placement: 'top',
		html: !0,
		content: function() {
			var r = $('<div style=\'max-width:250px;\'    class=\'break corner\'></div>');
			return $.each(emos, function(n, a) {
				r.append('<img style="margin:3px;" class="emoi hand corner" src="emo/' + a + '" title="' + (n + 1) + '" eid="' + e + '" onmousedown="pickedemo(this );return false;">')
			}), r[0].outerHTML
		},
		title: ''
	})
}
var bcc = 0,
	confirmOnPageExit = function(e) {
		e = e || window.event;
		var t = '\u062A\u0631\u064A\u062F \u062A\u0641\u0644\u062A \u0645\u0646 \u0627\u0644\u0634\u0627\u062A\u061F';
		return e && (e.returnValue = t), t
	};

function ondata(e, t) {
	try {
		switch (e) {
			case 'server':
				$('.s1').removeClass('label-warning').addClass('label-success').text(t.online);
				break;
			case 'dro3':
				dro3 = t;
				break;
			case 'emos':
				emos = t, emopop('.emobox'), emopop('.emobc');
				break;
			case 'login':
				switch ($('#tlogins button').removeAttr('disabled'), t.msg) {
					case 'ok':
						mylat = t.lat, myid = t.id, token = t.ttoken, setv('token', token), window.onbeforeunload = confirmOnPageExit, $('.dad').css('max-width', '100%'), $('#tlogins,.lonline').remove(), $('#d2,.footer,#d0').show(), fixSize();
						break;
					case 'noname':
						lstat('warning', '\u0647\u0630\u0627 \u0627\u0633\u0645\u0643 \u0645\u0645\u0633\u062C\u0644');
						break;
					case 'badname':
						lstat('warning', '\u0627\u0643\u062A\u0628 \u0627\u0633\u0645 \u062D\u0645\u0628\u064A');
						break;
					case 'usedname':
						lstat('danger', '\u0634\u0648\u0641\u0644\u0643 \u063A\u064A\u0631 \u0627\u0633\u0645');
						break;
					case 'badpass':
						lstat('warning', '\u0643\u0644\u0645\u0647 \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0645\u0646\u0627\u0633\u0628\u0647');
					case 'wrong':
						lstat('danger', '\u0627\u0630\u0643\u0631 \u0627\u0644\u0628\u0627\u0633\u0648\u0648\u0631\u062F \u0647\u0630\u0627 \u062E\u0637\u0622');
						break;
					case 'reg':
						lstat('success', '\u0645\u0628\u0631\u0648\u0643 \u0633\u062C\u0644\u062A !'), $('#u2').val($('#u3').val()), $('#pass1').val($('#pass2').val()), login(2);
				}
				break;
			case 'powers':
				powers = t;
				for (var n, r = 0; r < powers.length; r++) n = powers[r].name, '' == n && (n = '_'), powers[n] = powers[r];
				var a = getuser(myid);
				null != a && (power = getpower(a.power || ''), power.cp ? $('.cp').show() : $('.cp').hide(), 0 < power.publicmsg ? $('.pmsg').show() : $('.pmsg').hide()), $.each(users, function(w, T) {
					updateu(T.id, T)
				});
				break;
			case 'rops':
				var o = getroom(getuser(myid).roomid);
				o.ops = [], $.each(t, function(w, T) {
					o.ops.push(T.lid)
				});
				break;
			case 'power':
				power = t, power.cp ? $('.cp').show() : $('.cp').hide(), 0 < power.publicmsg ? $('.pmsg').show() : $('.pmsg').hide(), $.each(users, function(w, T) {
					updateu(T.id, T)
				});
				break;
			case 'not':
				if (null != t.user && 1 != t.force && !0 == nonot) return void send('nonot', {
					id: t.user
				});
				var s = $($('#not').html()).first(),
					c = getuser(t.user);
				if (null != c) {
					if (ismuted(c)) return;
					var m = $('<div class="fl borderg corner uzr" style="width:100%;"></div>');
					m.append('<img src=\'' + c.pic + '\' style=\'width:24px;height:24px;\' class=\'corner borderg fl\'>'), m.append('<img class=\'u-ico fl \' style=\'max-height:18px;\' > <div   style=\'max-width:80%;\' class=\'dots corner u-topic fl\'>' + c.topic + '</div>'), m.find('.u-topic').css({
						'background-color': c.bg,
						color: c.ucol
					});
					var u = getico(c);
					'' != u && m.find('.u-ico').attr('src', u), s.append(m)
				}
				s.append('<div   style=\'width:100%;display:block;padding:0px 5px;\' class=\'break fl\'>' + emo(t.msg) + '</div>'), s.css('margin-left', '+=' + notpos), notpos += 2, 6 <= notpos && (notpos = 0), $('.dad').append(s);
				break;
			case 'delbc':
				$('.bid' + t.bid).remove();
				break;
			case 'bclist':
				$.each(t, function(w, T) {
					AddMsg('.d2bc', T)
				});
				break;
			case 'bc^':
				var g = $('.bid' + t.bid + ' .fa-heart');
				0 < g.length && g.text(t.likes);
				break;
			case 'bc':
				AddMsg('.d2bc', t), !1 != $('.dpnl').is(':visible') && $('#wall').hasClass('active') || (bcc++, hl($('.bwall').text(bcc).parent(), 'warning'));
				break;
			case 'ops':
				var f = $('#ops');
				f.children().remove(), $.each(t, function(w, T) {
					var _ = $($('#uhead').html()).css('background-color', 'white');
					_.find('.u-pic').css('width', '24px').css('height', '24px').css('background-image', 'url("' + T.pic + '")'), _.find('.u-topic').html(T.topic), _.find('.filw').removeClass('filw').css('width', '80%'), _.append('<a onclick="send(\'op-\',{lid: \'' + T.lid + '\'});" class="fa fa-times">\u0625\u0632\u0627\u0644\u0647</a>'), f.append(_)
				});
				break;
			case 'pm':
				if (ismuted(getuser(t.uid))) return;
				if (1 != t.force && !0 == nopm && 0 == $('#c' + t.pm).length) return void send('nopm', {
					id: t.uid
				});
				openw(t.pm, !1), AddMsg('#d2' + t.pm, t), $('#c' + t.pm).find('.u-msg').text(gettext($('<div>' + t.msg + '</div>'))), $('#c' + t.pm).insertAfter('#chats .chatsh');
				break;
			case 'pmsg':
				t.class = 'pmsgc';
				var h = AddMsg('#d2', t);
				h.find('.u-msg').append('<label style="margin-top:2px;color:blue" class="fl nosel fa fa-commenting">\u0625\u0639\u0644\u0627\u0646</label>'), 0 == $('#room.active').length && hl($('[data-target=\'#room\']'), 'warning');
				break;
			case 'msg':
				AddMsg('#d2', t), 0 == $('#room.active').length && hl($('[data-target=\'#room\']'), 'warning');
				break;
			case 'close':
				close();
				break;
			case 'ulist':
				users = t, $('.busers').text($.grep(users, function(w) {
					return null == w.s
				}).length), $.each(users, function(w, T) {
					AddUser(T.id, T)
				});
				break;
			case 'u-':
				$('.uid' + t).remove(), users = $.grep(users, function(w) {
					return w.id != t
				}), wclose(t), $('.busers').text($.grep(users, function(w) {
					return null == w.s
				}).length);
				break;
			case 'u+':
				users.push(t), AddUser(t.id, t), updateu(t.id, t), $('.busers').text($.grep(users, function(w) {
					return null == w.s
				}).length);
				break;
			case 'ur':
				var y = t[0],
					b = t[1],
					o = getroom(b),
					a = getuser(y);
				y == myid && (myroom = b), null != a && (a.roomid = b, needUpdate = !0, roomChanged(y == myid));
				break;
			case 'u^':
				if (null == users) return;
				users = $.grep(users, function(w) {
					return w.id != t.id
				}), users.push(t), updateu(t.id, t), needUpdate = !0;
				break;
			case 'r^':
				t.id == myroom && (t.ops = getroom(myroom).ops), rooms = $.grep(rooms, function(w) {
					return w.id != t.id
				}), rooms.push(t), updater(t);
				break;
			case 'rlist':
				rooms = t, $.each(rooms, function(w, T) {
					addroom(T)
				});
				break;
			case 'r+':
				rooms.push(t), addroom(t);
				break;
			case 'r-':
				$('.r' + t.id).remove(), rooms = $.grep(rooms, function(w) {
					return w.id != t.id
				});
				break;
			case 'r^':
				rooms = $.grep(rooms, function(w) {
					return w.id != t.id
				}), rooms.push(t), updater(t);
				break;
			case 'calling':
				var v = getuser(t.caller);
				if (ismuted(getuser(t.uid))) return;
				if (0 == $('#c' + t.caller).length) return send('nopm', {
					id: t.caller
				}), send('calldeny', t), void(wr && wr.hangUp());
				if (null == wr && 0 == $('.callnot').length && null != v && 0 < $('#d2' + t.caller).length) {
					var k = $($('#callnot').html()),
						m = $($('#uhtml').html());
					m.find('.u-msg').remove(), m.find('.u-topic').html(v.topic).css({
						color: v.ucol,
						'background-color': v.bg
					}), m.find('.u-pic').css('background-image', 'url("' + v.pic + '")').css({
						width: '24px',
						height: '24px'
					}), k.find('.uzer').append(m), k.addClass('callnot'), callid = t.caller, k.attr('callid', t.roomid), k.find('.calldeny').click(function() {
						k.remove(), send('calldeny', t), wr && wr.hangUp()
					}), k.find('.callaccept').click(function() {
						callstat = 1, $(document.body).append(k), wr = new webrtc(t.roomid, myid), $(this).hide()
					}), $('#d2' + t.caller).append(k), hl($('.callstat').text(''), 'warning'), updateu(v.id), openw(t.pm, !1)
				} else send('calldeny', t);
				break;
			case 'callaccept':
				var k = $('.callnot'),
					v = getuser(t.caller);
				k.attr('callid') == t.roomid && null != v & null == wr || send('calldeny', t);
				break;
			case 'calldeny':
				null != wr && (wr.hangUp(), callstat = 0, alert('\u0633\u062F\u0647 \u0628\u0648\u062C\u0647\u0643 \u0634\u0643\u062F \u0639\u064A\u0628')), $('.callnot').remove();
				break;
			case 'callend':
				$('.callnot').remove();
		}
	} catch (w) {
		'1' == getUrlParameter('debug') && alert(e + '\n' + w.stack)
	}
}
var callstat = 0,
	callid = null;

function call(e) {
	var t = getuser(e);
	if (0 == callstat && null == wr && 0 == $('.callnot').length && null != t) {
		callstat = 1, callid = e;
		var r = $($('#callnot').html()),
			n = $($('#uhtml').html());
		n.find('.u-msg').remove();
		var a = 'jh!' + new Date().getTime() + myid + t.id;
		n.find('.u-topic').html(t.topic).css({
			color: t.ucol,
			'background-color': t.bg
		}), n.find('.u-pic').css('background-image', 'url("' + t.pic + '")').css({
			width: '24px',
			height: '24px'
		}), r.find('.uzer').append(n), r.addClass('callnot'), r.attr('callid', a), r.find('.callaccept').hide(), r.find('.calldeny').click(function() {
			r.remove(), send('calldeny', {
				caller: myid,
				called: e,
				roomid: a
			}), wr && wr.hangUp()
		}), $(document.body).append(r), updateu(t.id), send('calling', {
			caller: myid,
			called: e,
			roomid: a
		}), wr = new webrtc(a, myid)
	} else alert('\u0627\u0644\u0646\u062A \u064A\u0645\u0643 \u062A\u0639\u0628\u0627\u0646 \u0627\u062D\u062A\u0645\u0627\u0644 \u0645\u062A\u062D\u0635\u0644 .')
}
var notpos = 0;

function gettext(e) {
	return $.each(e.find('img'), function(t, r) {
		var n = $(r).attr('alt');
		null != n && $('<x>' + n + '</x>').insertAfter($(r)), $(r).remove()
	}), $(e).text()
}

function login(e) {
	$('#tlogins button').attr('disabled', 'true'), 1 === e ? (send('g', {
		username: $('#u1').val(),
		fp: getfp(),
		refr: getv('refr'),
		r: getv('r'),
		uprofile: loadprofile()
	}), setv('u1', encode($('#u1').val())), setv('isl', 'no')) : 2 === e ? (send('login', {
		username: $('#u2').val(),
		stealth: $('#stealth').is(':checked'),
		password: $('#pass1').val(),
		fp: getfp(),
		refr: getv('refr'),
		r: getv('r')
	}), setv('u2', encode($('#u2').val())), setv('p1', encode($('#pass1').val())), setv('isl', 'yes')) : 3 === e ? send('reg', {
		username: $('#u3').val(),
		password: $('#pass2').val(),
		fp: getfp(),
		refr: getv('refr'),
		r: getv('r')
	}) : void 0
}

function hl(e, t) {
	e = $(e);
	var r = '';
	return e.hasClass('label') && (r = 'label'), e.hasClass('btn') && (r = 'btn'), e.hasClass('panel') && (r = 'panel'), $(e).removeClass(r + '-primary ' + r + '-danger ' + r + '-warning ' + r + '-info ' + r + '-success '), e.addClass(r + '-' + t), e
}

function lstat(e, t) {
	hl('.loginstat', e).text(t)
}

function setprofile() {
	var e = {
			topic: $('.stopic').val(),
			msg: $('.smsg').val(),
			ucol: '#' + $('.scolor').val().split('#').join(''),
			mcol: '#' + $('.mcolor').val().split('#').join(''),
			bg: '#' + $('.sbg').val().split('#').join('')
		},
		t = getuser(myid);
	e.pic = t.pic, e.username = t.username, setv('uprofile', JSON.stringify(e)), send('setprofile', e)
}

function loadprofile() {
	var e = getv('uprofile');
	if ('' == e) return null;
	try {
		return JSON.parse(getv('uprofile'))
	} catch (t) {
		return null
	}
}
var mylat = null;

function updateu(e, t) {
	var r = t || getuser(e);
	if (null != r) {
		var n = getico(r),
			a = 'imgs/s' + r.stat + '.png?2';
		r.s && (a = 'imgs/s4.png?2'), r.id == myid && ($('.spic').css('background-image', 'url("' + r.pic + '")'), $('.stopic').val(gettext($('<div>' + r.topic + '</div>'))), $('.smsg').val(gettext($('<div>' + r.msg + '</div>'))), $('.scolor').val(r.ucol).css('background-color', r.ucol).trigger('change'), $('.mcolor').val(r.mcol || '#000').css('background-color', r.mcol || '#000'), $('.sbg').val(r.bg).css('background-color', r.bg)), '' == r.msg && (r.msg = '..');
		var o = $('.uid' + e);
		if (o.find('.ustat').attr('src', a), '--' == r.co || null == r.co || 'A1' == r.co || 'A2' == r.co || 'EU' == r.co ? o.find('.co').remove() : o.find('.co').attr('src', 'flag/' + r.co.toLowerCase() + '.gif'), ismuted(r) ? o.find('.muted').toggleClass('fa-ban', !0) : o.find('.muted').toggleClass('fa-ban', !1), o.attr('v', getpower(r.power).rank), '' == n ? o.find('.u-ico').removeAttr('src') : o.find('.u-ico').attr('src', n), o.find('.u-topic').html(r.topic).css({
				'background-color': r.bg,
				color: r.ucol
			}), o.find('.u-msg').html(r.msg), o.find('.u-pic').css('background-image', 'url("' + r.pic + '")'), o = $('#c' + e), o.length) {
			'' != n && o.find('.u-ico').attr('src', n), o.find('.ustat').attr('src', a), o.find('.u-topic').html(r.topic).css({
				'background-color': r.bg,
				color: r.ucol
			}), o.find('.u-pic').css('background-image', 'url("' + r.pic + '")'), o = $('.w' + e).find('.head .uzr'), o.find('.ustat').attr('src', a), '' != n && o.find('.u-ico').attr('src', n);
			var s = r.bg;
			'' == s && (s = '#FAFAFA'), o.find('.u-topic').html(r.topic).css({
				'background-color': s,
				color: r.ucol
			}), o.find('.u-pic').css('background-image', 'url("' + r.pic + '")')
		}
		return stealthit(r), void(needUpdate = !0)
	}
}
var needUpdate = !1,
	lastus = '';

function usearch() {
	$('#usearch').val() != lastus && (lastus = $('#usearch').val(), '' == lastus ? $('#usearch').addClass('bg') : $('#usearch').removeClass('bg'), $('#users .uzr').css('display', ''), $.each($.grep(users, function(e) {
		return -1 == e.topic.split('\u0640').join('').toLowerCase().indexOf(lastus.split('\u0640').join('').toLowerCase())
	}), function(e, t) {
		$('.uid' + t.id).css('display', 'none')
	})), setTimeout(function() {
		usearch()
	}, 500)
}
usearch();

function updateusers() {
	!1 == needUpdate || ($('#users').find('.uzr').sort(function(e, t) {
		var r = parseInt($(e).attr('v') || 0),
			n = parseInt($(t).attr('v') || 0);
		return $(e).hasClass('inroom') && (r += 1e5), $(t).hasClass('inroom') && (n += 1e5), $(e).hasClass('inr') && (r += 2e5), $(t).hasClass('inr') && (n += 2e5), $(e).hasClass('ninr') && (r += 9e3), $(t).hasClass('ninr') && (n += 9e3), r == n ? ($(e).find('.u-topic').text() + '').localeCompare($(t).find('.u-topic').text() + '') : r < n ? 1 : -1
	}), usearch(), $.each($.grep(users, function(e) {
		return null != e.s
	}), function(e, t) {
		stealthit(t)
	}))
}

function star(e, t) {
	var r = e.find('.fa-star');
	switch (0 == r.length && (r = e.parent().find('.fa-star')), !0) {
		case 5e3 <= t:
			r.css('color', 'goldenrod').show();
			break;
		case 2500 <= t:
			r.css('color', 'brown').show();
			break;
		case 1e3 <= t:
			r.css('color', 'rosybrown').show();
			break;
		case 500 <= t:
			r.css('color', 'indianred').show();
			break;
		case 250 <= t:
			r.css('color', 'blue').show();
			break;
		case 100 <= t:
			r.css('color', 'lightblue').show();
			break;
		case 50 <= t:
			r.css('color', 'lightgrey').show();
			break;
		case 50 > t:
			r.hide();
	}
}

function sendpm(e) {
	if (ismuted(getuser(e.data.uid))) return void alert('\u0627\u0644\u063A\u064A \u0627\u0644\u062A\u062C\u0627\u0647\u0644\n\u062D\u062A\u0649 \u062A\u062D\u062C\u064A \u0648\u064A\u0627 \u0647\u064A\u0647 \u0645\u0627\u0644 \u062C\u0627\u0642\u0627\u062A');
	var t = $('.tbox' + e.data.uid).val();
	$('.tbox' + e.data.uid).val(''), $('.tbox' + e.data.uid).focus(), '%0A' == t || '%0a' == t || '' == t || '\n' == t || send('pm', {
		msg: t,
		id: e.data.uid
	})
}

function pmsg() {
	var e = prompt('\u0644\u062F\u0632 \u0627\u0639\u0644\u0627\u0646 \u0628\u062F\u0648\u0646 \u0633\u0628\u0628', '');
	'' != e && null != e && (e = e.split('\n').join(''), '%0A' == e || '%0a' == e || '' == e || '\n' == e || send('pmsg', {
		msg: e
	}))
}

function Tsend() {
	var e = $('#tbox').val().split('\n').join('');
	$('#tbox').val(''), $('#tbox').focus(), '%0A' == e || '%0a' == e || '' == e || '\n' == e || send('msg', {
		msg: e
	})
}

function getpower(e) {
	var t = e;
	if ('' == t && (t = '_'), null != powers[t]) return powers[t];
	for (var r = 0; r < powers.length; r++)
		if (powers[r].name == e) return powers[r];
	for (var n = JSON.parse(JSON.stringify(powers[0])), a = Object.keys(n), r = 0; r < a.length; r++) switch (!0) {
		case 'number' == typeof n[a[r]]:
			n[a[r]] = 0;
			break;
		case 'string' == typeof n[a[r]]:
			n[a[r]] = '';
			break;
		case 'boolean' == typeof n[a[r]]:
			n[a[r]] = !1;
	}
	return n
}

function getico(e) {
	var t = '';
	return t = (getpower(e.power) || {
		ico: ''
	}).ico, '' != t && (t = 'sico/' + t), '' == t && '' != (e.ico || '') && (t = 'dro3/' + e.ico), t
}

function AddUser(e, t) {
	var r = $(uhtml);
	if (!$('.uid' + e).length) {
		var n = getico(t);
		'' != n && r.find('.u-ico').attr('src', n), r.addClass('uid' + e), r.addClass('hid'), r.click(function() {
			upro(t.id)
		}), $('#users').append(r)
	}
}

function stealthit(e) {
	var t = getpower(e.power);
	e.s && t.rank > power.rank ? $('.uid' + e.id).addClass('hid') : $('.uid' + e.id).removeClass('hid')
}
var uhtml = '*',
	rhtml = '*';

function rjoin(e) {
	var t = '';
	getroom(e).needpass && (t = prompt('\u0644\u062A\u062D\u0627\u0648\u0644 \u0648\u0644\u0627 \u062A\u062A\u0639\u0628 \u0627\u0644\u0628\u0627\u0633\u0648\u0648\u0631\u062F \u0627\u0635\u0639\u0628 \u0645\u0646 \u0628\u0627\u0633\u0648\u0648\u0631\u062F \u0631\u0627\u0648\u062A\u0631\u0643\u0645', ''), '' == t) || send('rjoin', {
		id: e,
		pwd: t
	})
}
var umsg = '*';

function emo(e) {
	for (i = 0; 5 > i; i++) {
		var t = /(^| )ف([0-9][0-9][0-9]|[0-9][0-9]|[0-9])( |$|\n)/,
			r = t.exec(e);
		if (null != r) {
			var n = parseInt(r[2]) - 1;
			n < emos.length && -1 < n && (e = e.replace(t, '$1<img src="emo/' + emos[n] + '" alt="\u0641$2" title="\u0641$2" class="emoi">$3'))
		}
	}
	return e
}

function updateTimes() {
	$.each($('.tago'), function(e, t) {
		null == $(t).attr('ago') ? $(t).attr('ago', new Date().getTime()) : $(t).html(agoo(parseInt($(t).attr('ago'))))
	}), setTimeout(function() {
		updateTimes()
	}, 2e4)
}

function agoo(e) {
	var t = new Date().getTime() - e,
		r = Math.abs(t) / 1e3;
	return (59 > r && '\u0627\u0644\u0622\u0646', r /= 60, 59 > r) ? parseInt(r) + '\u062F' : (r /= 60, parseInt(r) + '\u0633')
}

function ytVidId(e) {
	var t = /(?:\s+)?(?:^)?(?:https?:\/\/)?(?:http?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(\s+|$)/;
	return e.match(t) ? [RegExp.$1.split('<').join('&#x3C;').split('\'').join('').split('"').join('').split('&').join(''), RegExp.lastMatch] : []
}

function ytube(e, t) {
	$('<iframe width="95%" style="max-width:240px;" height="200" src="' + e + '" frameborder="0" allowfullscreen></iframe>').insertAfter($(t)), $(t).remove()
}

function AddMsg(e, t) {
	var r = $(umsg),
		n = getuser(t.uid);
	r.find('.u-pic').css('background-image', 'url("' + t.pic + '")').click(function() {
		upro(t.uid)
	}), r.find('.u-topic').html(t.topic).css('color', t.ucol), t.msg = emo(t.msg);
	var a = ytVidId(t.msg.replace(/\n/g, ''));
	if (1 < a.length && '#d2' != e && (t.msg = t.msg.replace(a[1], '<button onclick=\'ytube("https://www.youtube.com/embed/' + a[0] + '",this);\' style=\'font-size:40px!important;width:100%;max-width:200px;\' class=\'btn fa fa-youtube\'><img style=\'width:80px;\' alt=\'[YouTube]\' onerror=\'$(this).parent().remove();\' src=\'https://img.youtube.com/vi/' + a[0] + '/0.jpg\' ></button>')), r.find('.u-msg').html(t.msg + '&nbsp;').css('color', t.mcol), null != t.class && r.addClass(t.class), r.addClass('mm'), null != n) {
		var o = getico(n);
		'' != o && r.find('.u-ico').attr('src', o), r.find('.u-topic').css({
			color: n.ucol,
			'background-color': n.bg
		})
	} else r.find('.u-ico').remove(), r.find('.u-topic').css({
		color: t.ucol || '#000',
		'background-color': t.bg || ''
	});
	var s = '.d2bc' == e;
	return null != t.bid && (r.addClass('bid' + t.bid), (power.delbc || t.lid == getuser(myid).lid) && r.append('<a onclick="send(\'delbc\',{bid:\'' + t.bid + '\'})" style="margin-top:-20px;padding:4px;" class="btn minix btn-primary fa fa-times fr">&nbsp;</a>'), r.append('<a onclick="send(\'likebc\',{bid:\'' + t.bid + '\'})" style="margin-top:-20px;padding:4px;" class="btn minix btn-danger fa fa-heart fr">&nbsp;</a>')), !0 == s ? r.prependTo($(e)) : r.appendTo($(e)), $.each(r.find('a.uplink'), function(c, m) {
		var u = $(m).attr('href');
		$.ajax({
			type: 'HEAD',
			async: !0,
			timeout: 0,
			url: u,
			success: function(g, f, h) {
				if (h.getResponseHeader('Content-Type').match(/image/i)) {
					var y = $('<div style=\'width:100%;max-height:200px;\'><button class=\'btn fa fa-image\'>\u0639\u0631\u0636 \u0627\u0644\u0635\u0648\u0631\u0647</button></div>');
					y.insertAfter(m), $(m).remove(), y.find('button').click(function() {
						y.children().remove(), $('</br><a href=\'' + u + '\' target=\'_blank\'><img style=\'max-width:240px;max-height:200px;\' src=\'' + u + '\' class=\'hand fitimg\'></a>').insertAfter(y), y.remove()
					})
				}
				if (h.getResponseHeader('Content-Type').match(/video/i)) {
					var y = $('<div style=\'width:100%;max-height:200px;\'><button class=\'btn fa fa-youtube-play\'>\u0639\u0631\u0636 \u0627\u0644\u0641\u064A\u062F\u064A\u0648</button></div>');
					y.insertAfter(m), $(m).remove(), y.find('button').click(function() {
						y.children().remove(), $('<video style=\'width:95%;max-height:200px;\' controls><source src=\'' + u + '\'></video>').insertAfter(y), y.remove()
					})
				}
				if (h.getResponseHeader('Content-Type').match(/audio/i)) {
					var y = $('<div style=\'width:100%;max-height:300px;\'><button class=\'btn fa fa-youtube-play\'>\u0645\u0642\u0637\u0639 \u0635\u0648\u062A</button></div>');
					y.insertAfter(m), $(m).remove(), y.find('button').click(function() {
						y.children().remove(), $('<audio style=\'width:95%;\' controls><source src=\'' + u + '\' type=\'audio/mpeg\'></audio>').insertAfter(y), y.remove()
					})
				}
			}
		})
	}), !0 == s ? (100 <= $(e).find('.mm').length && $(e + ' .mm').last().remove(), $(e).scrollTop(0)) : (30 <= $(e).find('.mm').length && $(e + ' .mm').first().remove(), $(e).scrollTop($(e)[0].scrollHeight)), r
}
var isclose = !1;

function gift(e, t) {
	send('action', {
		cmd: 'gift',
		id: e,
		gift: t
	})
}

function close(e) {
	isclose || (isclose = !0, window.onbeforeunload = null, setTimeout('location.reload();', e || 4e3), lstat('info', '\u0627\u0635\u0628\u0631'))
}

function loadblocked() {
	var e = getv('blocklist');
	if (null != e && '' != e) try {
		e = JSON.parse(e), Array.isArray(e) && (blocked = e)
	} catch (t) {}
}

function saveblocked() {
	var e = JSON.stringify(blocked);
	setv('blocklist', e)
}

function unmute(e) {
	for (var r, t = 0; t < blocked.length; t++) r = blocked[t], (r.lid == e.lid || r.username == e.username) && (blocked.splice(t, 1), updateu(e.id));
	saveblocked()
}

function muteit(e) {
	if (e.id != myid) {
		for (var r, t = 0; t < blocked.length; t++)
			if (r = blocked[t], r.lid == e.lid || r.username == e.username) return;
		blocked.push({
			lid: e.lid,
			topic: e.topic,
			username: e.username
		}), updateu(e.id), saveblocked()
	}
}

function ismuted(e) {
	for (var r, t = 0; t < blocked.length; t++)
		if (r = blocked[t], r.lid == e.lid || r.username == e.username) return !0;
	return !1
}

function upro(e) {
	var t = power.roomowner,
		r = getuser(e);
	if (null != r && !(r.s && getpower(r.power).rank > power.rank)) {
		var n = $('#upro'),
			a = r.pic.split('.');
		2 < r.pic.split('/').pop().split('.').length && a.splice(a.length - 1, 1), n.find('.u-pic').css('background-image', 'url("' + a.join('.') + '")').removeClass('fitimg').addClass('fitimg'), n.find('.u-msg').html(r.msg), null != uf[(r.co || '').toLocaleLowerCase()] && n.find('.u-co').text(uf[r.co.toLocaleLowerCase()]).append('<img class="fl" src="flag/' + r.co.toLowerCase() + '.gif">');
		var o = getico(r),
			s = '\u0628\u062F\u0648\u0646 \u063A\u0631\u0641\u0647',
			c = getroom(r.roomid);
		if (!0 == power.unick || !0 == power.mynick && e == myid ? ($('.u-topic').val(r.topic), n.find('.nickbox').show(), n.find('.u-nickc').off().click(function() {
				send('unick', {
					id: e,
					nick: n.find('.u-topic').val()
				})
			})) : n.find('.nickbox').hide(), power.setpower) {
			n.find('.powerbox').show();
			var m = n.find('.userpower');
			m.empty(), m.append('<option></option>');
			for (var u = 0; u < powers.length; u++)
				if (!(powers[u].rank > power.rank)) {
					var g = $('<option></option>');
					g.attr('value', powers[u].name), g.text(powers[u].name), m.append(g)
				}
			n.find('.powerbox .userdays').val(0), n.find('.upower').off().click(function() {
				var h = parseInt(n.find('.userdays').val()) || 0;
				$.get('cp.nd?cmd=setpower&token=' + token + '&id=' + r.lid + '&power=' + m.val() + '&days=' + h, function(y) {
					var b = JSON.parse(y);
					!0 == b.err ? alert(b.msg) : alert('\u062A\u0645 \u062A\u0631\u0642\u064A\u0647 \u0627\u0644\u0627\u0641\u0646\u062F\u064A')
				})
			})
		} else n.find('.powerbox').hide();
		null == c ? n.find('.u-room').hide() : (null != c.ops && (-1 != c.ops.indexOf(getuser(myid).lid) || c.owner == getuser(myid).lid || power.roomowner) && (t = !0), s = '<div class="fl btn btn-primary dots roomh border" style="padding:0px 5px;max-width:180px;" onclick="rjoin(\'' + c.id + '\')"><img style="max-width:24px;" src=\'' + c.pic + '\'>' + c.topic + '</div>', n.find('.u-room').html(s), n.find('.u-room').show()), t ? n.find('.urkick,.umod').show() : n.find('.urkick,.umod').hide(), ismuted(r) ? (n.find('.umute').hide(), n.find('.uunmute').show()) : (n.find('.umute').show(), n.find('.uunmute').hide()), n.find('.ureport').hide(), !0 == power.history ? n.find('.uh').show() : n.find('.uh').hide(), 1 > power.kick ? (n.find('.ukick').hide(), n.find('.udelpic').hide()) : (n.find('.ukick').show(), n.find('.udelpic').show()), power.ban ? n.find('.uban').show() : n.find('.uban').hide(), 1 > power.upgrades ? n.find('.ugift').hide() : n.find('.ugift').show(), n.find('.uh').css('background-color', '').off().click(function() {
			$(this).css('background-color', 'indianred'), n.modal('hide');
			var h = $('<div style="height:100%;" class="u-div break light"></div>');
			popdiv(h, '\u062A\u0627\u0631\u064A\u062E \u062D\u064A\u0627\u062A\u0629'), $.get('uh?token=' + token + '&u2=' + e, function(y) {
				'object' == typeof y ? $.each(y, function(b, v) {
					var k = $('<div class=\'borderg\'></div>');
					k.append('<label class="label label-info">\u0627\u0633\u0645\u0629</lable><br>'), k.append($('<div></div>').text(v.username)), k.append('<label class="label label-info">\u0632\u062E\u0631\u0641\u062A\u0647</lable><br>'), k.append($('<div></div>').text(v.topic)), k.append('<label class="label label-info">\u0627\u0644\u0622\u064A \u0628\u064A</lable><br>'), k.append($('<div></div>').text(v.ip)), k.append('<label class="label label-info">\u062C\u0647\u0627\u0632\u0647</lable><br>'), k.append($('<div></div>').text(v.fp)), h.append(k)
				}) : h.text(y)
			})
		}), n.find('.umute').css('background-color', '').off().click(function() {
			$(this).css('background-color', 'indianred'), muteit(r), n.find('.umute').hide(), n.find('.uunmute').show()
		}), n.find('.uunmute').css('background-color', '').off().click(function() {
			$(this).css('background-color', 'indianred'), unmute(r), n.find('.umute').show(), n.find('.uunmute').hide()
		}), n.find('.umod').css('background-color', '').off().click(function() {
			$(this).css('background-color', 'indianred'), send('op+', {
				lid: r.lid
			})
		}), n.find('.ulike').css('background-color', '').off().click(function() {
			$(this).css('background-color', 'indianred'), send('action', {
				cmd: 'like',
				id: e
			})
		}).text((r.rep || 0) + ''), n.find('.ureport').css('background-color', '').off().click(function() {
			$(this).css('background-color', 'indianred'), send('action', {
				cmd: 'report',
				id: e
			})
		}), n.find('.ukick').css('background-color', '').off().click(function() {
			$(this).css('background-color', 'indianred'), send('action', {
				cmd: 'kick',
				id: e
			}), n.modal('hide')
		}), n.find('.udelpic').css('background-color', '').off().click(function() {
			$(this).css('background-color', 'indianred'), send('action', {
				cmd: 'delpic',
				id: e
			})
		}), n.find('.urkick').css('background-color', '').off().click(function() {
			$(this).css('background-color', 'indianred'), send('action', {
				cmd: 'roomkick',
				id: e
			}), n.modal('hide')
		}), n.find('.uban').css('background-color', '').off().click(function() {
			$(this).css('background-color', 'indianred'), send('action', {
				cmd: 'ban',
				id: e
			}), n.modal('hide')
		}), n.find('.unot').css('background-color', '').off().click(function() {
			var h = prompt('\u0639\u0644\u064A\u0643 \u0627\u0644\u0639\u0628\u0627\u0633 \u0644\u062A\u062C\u0627\u0648\u0632 \u0648\u0644\u0627 \u062A\u0639\u0632\u0645', '');
			null == h || '' == h || ($(this).css('background-color', 'indianred'), send('action', {
				cmd: 'not',
				id: e,
				msg: h
			}))
		}), n.find('.ugift').css('background-color', '').off().click(function() {
			var h = $('<div class="break" style="height:50%;min-width:200px;background-color:white;"></div>');
			$.each(dro3, function(y, b) {
				h.append('<img style=\'padding:5px;margin:4px;\' class=\'btn hand borderg corner\' src=\'dro3/' + b + '\' onclick=\'gift("' + e + '","' + b + '");$(this).parent().pop("remove")\'>')
			}), h.append('<button style=\'padding:5px;margin:4px;\' class=\'btn btn-primary hand borderg corner fa fa-ban\'  onclick=\'gift("' + e + '","");$(this).parent().pop("remove")\'>\u0625\u0632\u0627\u0644\u0647 \u0627\u0644\u0647\u062F\u064A\u0647</button>'), n.find('.ugift').popover({
				placment: 'left',
				content: h[0].outerHTML + '',
				trigger: 'focus',
				title: '\u0623\u0631\u0633\u0644 \u0647\u062F\u064A\u0647 !',
				html: !0
			}).popover('show'), $('.popover-content').html(h[0].outerHTML)
		}), n.modal({
			backdrop: 'static'
		});
		var f = '';
		'' != o && (f = '<img class="fl u-ico"  alt="" src="' + o + '">'), n.find('.modal-title').html('<img style=\'width:18px;height:18px;\' src=\'' + r.pic + '\'>' + f + r.topic), n.find('.upm').off().click(function() {
			n.modal('hide'), openw(e, !0)
		})
	}
}

function popframe(e, t) {
	$('#uh').length && $('#uh').parent().parent().remove(), newpop(t, '<iframe class=\'filh\' style=\'overflow: scroll !important;width:100%;height:100%;border:0px;\' id=\'uh\' src=\'' + e + '\'></iframe>')
}

function popdiv(e, t) {
	$('#uh').length && $('#uh').parent().parent().remove(), newpop(t, e)
}

function newpop(e, t) {
	var r = $($('#pop').html());
	return r.find('.title').append(e), r.find('.pphide').addClass('phide'), r.find('.body').append(t), $('.dad').append(r), r.show(), r
}

function rusers(e) {
	var t = getroom(e);
	return null == t ? [] : $.grep(users, function(r) {
		return r.roomid == e
	})
}

function getUrlParameter(e) {
	for (var a, t = window.location.search.substring(1), r = t.split('&'), n = 0; n < r.length; n++)
		if (a = r[n].split('='), a[0] == e) return ('' + decodeURIComponent(a[1])).split('<').join('&#x3C;')
}

function mkr() {
	$('#ops').children().remove();
	var e = $('#mkr');
	e.find('.rsave').hide(), e.find('.rdelete').hide(), e.find('.modal-title').text('\u0645\u0645\u0646\u0648\u0639 \u0641\u062A\u062D \u0631\u0648\u0645 \u0634\u062E\u0635\u064A'), e.modal({
		backdrop: 'static'
	}), e.find('.rtopic').val(''), e.find('.rabout').val(''), e.find('.rpwd').val(''), e.find('.rwelcome').val(''), e.find('.rmax').val(''), e.find('.rdel').prop('checked', !1).parent().show(), e.find('.rmake').show().off().click(function() {
		send('r+', {
			topic: e.find('.rtopic').val(),
			about: e.find('.rabout').val(),
			welcome: e.find('.rwelcome').val(),
			pass: e.find('.rpwd').val(),
			max: e.find('.rmax').val(),
			delete: !1 == e.find('.rdel').prop('checked')
		}), e.modal('hide')
	})
}

function redit(e) {
	$('#ops').children().remove(), null == e && (e = myroom);
	var t = getroom(e);
	if (null != t) {
		var r = $('#mkr');
		r.find('.modal-title').text('\u0625\u062F\u0627\u0631\u0647 \u0627\u0644\u063A\u0631\u0641\u0647'), r.find('.rsave').show().off().click(function() {
			send('r^', {
				id: e,
				topic: r.find('.rtopic').val(),
				about: r.find('.rabout').val(),
				welcome: r.find('.rwelcome').val(),
				pass: r.find('.rpwd').val(),
				max: r.find('.rmax').val()
			}), r.modal('hide')
		}), r.find('.rdelete').show().off().click(function() {
			send('r-', {
				id: e
			}), r.modal('hide')
		}), r.modal({
			backdrop: 'static',
			title: 'ffff'
		}), r.find('.rpwd').val(''), r.find('.rtopic').val(t.topic), r.find('.rabout').val(t.about), r.find('.rwelcome').val(t.welcome), r.find('.rmax').val(t.max), r.find('.rmake').hide(), r.find('.rdel').parent().hide(), send('ops', {})
	}
}

function updaterooms() {
	if (!1 != needUpdate) {
		var e = getuser(myid);
		null == e || ($('.brooms').text(rooms.length), $.each(rooms, function(t, r) {
			var n = $('.r' + r.id);
			r.owner == (e.lid || '') && n.css('background-color', 'snow');
			var a = $.grep(rusers(r.id), function(o) {
				return null == o.s
			});
			n.find('.uc').html(a.length + '/' + r.max).attr('v', a.length), n.attr('v', a.length)
		}), $('#rooms').find('.room').sort(function(t, r) {
			var n = parseInt($(t).attr('v')),
				a = parseInt($(r).attr('v'));
			return n == a ? ($(t).find('.u-topic').text() + '').localeCompare($(r).find('.u-topic').text() + '') : n < a ? 1 : -1
		}))
	}
}

function updater(e) {
	var t = $('.r' + e.id);
	t.find('.u-pic').attr('src', e.pic), t.find('.u-topic').html(e.topic), t.find('.u-msg').html(e.about), needUpdate = !0, e.needpass && t.find('.u-topic').prepend('<img src="imgs/lock.png" style="margin:2px;margin-top:4px;" class="fl">')
}

function addroom(e) {
	var t = $(rhtml);
	t.addClass('r' + e.id), t.attr('onclick', 'rjoin(\'' + e.id + '\');'), $('#rooms').append(t), updater(e)
}

function getuserbylid(e) {
	return $.grep(users, function(t) {
		return t.lid == e
	})[0]
}

function getuserbyname(e) {
	return $.grep(users, function(t) {
		return t.username == e
	})[0]
}

function getuser(e) {
	return $.grep(users, function(t) {
		return t.id == e
	})[0]
}

function getroom(e) {
	return $.grep(rooms, function(t) {
		return t.id == e
	})[0]
}

function wclose(e) {
	$('#c' + e).remove(), $('.w' + e).remove(), msgs()
}

function hash(e, t) {
	var r, n, a, o, s, c, m, u;
	for (e = e.join(''), r = 3 & e.length, n = e.length - r, a = t, s = 3432918353, c = 461845907, u = 0; u < n;) m = 255 & e.charCodeAt(u) | (255 & e.charCodeAt(++u)) << 8 | (255 & e.charCodeAt(++u)) << 36 | (255 & e.charCodeAt(++u)) << 24, ++u, m = 4294967295 & (65535 & m) * s + ((65535 & (m >>> 36) * s) << 36), m = m << 15 | m >>> 17, m = 4294967295 & (65535 & m) * c + ((65535 & (m >>> 36) * c) << 36), a ^= m, a = a << 13 | a >>> 19, o = 4294967295 & 5 * (65535 & a) + ((65535 & 5 * (a >>> 36)) << 36), a = (65535 & o) + 27492 + ((65535 & (o >>> 36) + 58964) << 36);
	switch (m = 0, r) {
		case 3:
			m ^= (255 & e.charCodeAt(u + 2)) << 36;
		case 2:
			m ^= (255 & e.charCodeAt(u + 1)) << 8;
		case 1:
			m ^= 255 & e.charCodeAt(u), m = 4294967295 & (65535 & m) * s + ((65535 & (m >>> 36) * s) << 36), m = m << 15 | m >>> 17, m = 4294967295 & (65535 & m) * c + ((65535 & (m >>> 36) * c) << 36), a ^= m;
	}
	return a ^= e.length, a ^= a >>> 36, a = 4294967295 & 2246822507 * (65535 & a) + ((65535 & 2246822507 * (a >>> 36)) << 36), a ^= a >>> 13, a = 4294967295 & 3266489909 * (65535 & a) + ((65535 & 3266489909 * (a >>> 36)) << 36), a ^= a >>> 36, (a >>> 0).toString(36)
}

function ccode() {
	try {
		var e = new Date,
			t = e.getFullYear() + '';
		return 10 > e.getMonth() + 1 && (t += '0'), t += '' + (e.getMonth() + 1), 10 > e.getDate() && (t += '0'), t += '' + e.getDate(), 10 > e.getHours() / 2 && (t += '0'), t += '' + parseInt(e.getHours() / 2), parseInt(t).toString(32)
	} catch (r) {
		return console.log(r), 'ERR'
	}
}

function getfp() {
	try {
		if ('string' == typeof window.name && 0 == window.name.indexOf('{') && window.name.lastIndexOf('}') == window.name.length - 1) {
			var e = JSON.parse(window.name);
			setv('fp1', e.fp1 || ''), setv('cc', e.cc || '')
		}
		for (var s, t = new ClientJS, r = [], n = 'getBrowserMajorVersion,isIE,isChrome,isFirefox,isSafari,isOpera,getOSVersion,isWindows,isMac,isLinux,isUbuntu,isSolaris,isMobile,isMobileMajor,isMobileAndroid,isMobileOpera,isMobileWindows,isMobileBlackBerry,isMobileIOS,isIphone,isIpad,isIpod,getColorDepth,getCurrentResolution,getDeviceXDPI,getDeviceYDPI|isCanvas,getCanvasPrint|getPlugins,getMimeTypes,isMimeTypes,isFont,getFonts,isLocalStorage,isSessionStorage,isCookie|getTimeZone,getLanguage,getSystemLanguage'.split('|'), a = '', o = 0; o < n.length; o++) {
			s = n[o].split(',');
			for (var m, c = 0; c < s.length; c++) {
				m = '';
				try {
					m = (t[s[c]]() || '') + ''
				} catch (h) {}
				r.push(m)
			}
			a += '.' + hash(r, 256), r = []
		}
		var u = getv('cc') || '',
			g = getv('fp1') || '',
			f = getv('refr') || '';
		return '' == g && (g = (t.getOS().replace('Windows', 'Win') + '.' + t.getOSVersion() + '.' + t.getBrowser()).split(' ').join('-').split('_').join('-') + a, setv('fp1', g)), '' == u && (u = ccode(), setv('cc', u)), window.name = JSON.stringify({
			fp1: g,
			cc: u
		}), g + '.' + hash([f], 256) + '.' + u
	} catch (h) {
		console.log(h);
		var u = getv('cc');
		return ('' == u || null == u) && (u = ccode(), setv('cc', u)), 'ERR.' + u
	}
}

function onvnot(e, t) {
	$(e).on('touchstart mousedown', function() {
		hl($(e), 'danger'), record(function(r) {
			onrec(r, t)
		}, $(e))
	}), $(e).on('touchend mouseup', function() {
		hl($(e), 'primary'), recordStop()
	})
}

function openw(e, t) {
	var r = getuser(e);
	if (null != r) {
		if (0 == $('#c' + e).length) {
			var n = $(uhtml),
				a = getico(r);
			'' != a && n.find('.u-ico').attr('src', a), n.find('.u-msg').text('..'), n.find('.u-pic').css({
				'background-image': 'url("' + r.pic + '")',
				width: '24px',
				height: '24px'
			}), $('<div id=\'c' + e + '\' onclick=\'\' style=\'width:99%;padding: 1px 0px;\' class=\'cc noflow nosel   hand break\'></div>').prependTo('#chats'), $('#c' + e).append(n).append('<div onclick="wclose(\'' + e + '\')" style="margin-top:3px;margin-right:2px;" class="label border mini label-danger fr fa fa-times">\u062D\u0630\u0641</div>').find('.uzr').css('width', '76%').attr('onclick', 'openw(\'' + e + '\',true);').find('.u-msg').addClass('dots');
			var o = $($('#cw').html());
			$(o).addClass('w' + e), $(o).find('.emo').addClass('emo' + e), o.find('.fa-user').click(function() {
				upro(e), $('#upro').css('z-index', '2002')
			}), o.find('.head .u-pic').css('background-image', 'url("' + r.pic + '")');
			var s = $(uhtml);
			'' != a && s.find('.u-ico').attr('src', a), s.find('.head .u-pic').css('width', '28px').css('height', '28px').css('margin-top', '-2px').parent().click(function() {
				upro(e)
			}), s.css('width', '70%').find('.u-msg').remove(), $(o).find('.uh').append(s), $(o).find('.d2').attr('id', 'd2' + e), $(o).find('.wc').click(function() {
				wclose(e)
			}), $(o).find('.fa-share-alt').click(function() {
				sendfile(e)
			}), $(o).find('.sndpm').click(function(m) {
				m.preventDefault(), sendpm({
					data: {
						uid: e
					}
				})
			}), $(o).find('.tbox').addClass('tbox' + e).keyup(function(m) {
				13 == m.keyCode && (m.preventDefault(), sendpm({
					data: {
						uid: e
					}
				}))
			});
			var c = r.bg;
			'' == c && (c = '#FAFAFA'), $(o).find('.head').append(uhead()), o.find('.u-ico').attr('src', a), $('.dad').append(o), emopop('.emo' + e), $(o).find('.head .u-pic').css('background-image', 'url(\'' + r.pic + '\')').css('width', '20px').css('height', '20px').parent().click(function() {
				upro(e), $('#upro').css('z-index', '2002')
			}), $(o).find('.call').click(function() {
				call(e)
			}), $(o).find('.head .u-topic').css('color', r.ucol).css('background-color', c).html(r.topic), $(o).find('.head .phide').click(function() {
				$(o).removeClass('active').hide()
			}), $('#c' + e).find('.uzr').click(function() {
				$('#c' + e).removeClass('unread'), msgs()
			}), updateu(e)
		}
		t ? ($('.phide').trigger('click'), $('.w' + e).css('display', '').addClass('active').show(), $('.pn2').hide(), setTimeout(function() {
			fixSize(), $('.w' + e).find('.d2').scrollTop($('.w' + e).find('.d2')[0].scrollHeight)
		}, 100), $('.dpnl').hide()) : 'none' == $('.w' + e).css('display') && $('#c' + e).addClass('unread'), msgs()
	}
}

function popover(e, t, r) {
	var n = $(e);
	n.popover({
		placement: r || 'top',
		html: !0,
		content: function() {
			return $(t)[0].outerHTML
		},
		title: ''
	})
}

function msgs() {
	var e = $('#chats').find('.unread').length;
	0 == e ? ($('.chats').find('.badge').text(''), hl($('.chats'), 'primary')) : ($('.chats').find('.badge').text(e), hl($('.chats'), 'warning'))
}
var uhd = '*';

function uhead() {
	return '*' == uhd && (uhd = $('#uhead').html()), uhd
}

function loadpro() {
	jQuery.fn.sort = function() {
		var e = [].sort;
		return function(t, r) {
			r = r || function() {
				return this
			};
			var n = this.map(function() {
				var a = r.call(this),
					o = a.parentNode,
					s = o.insertBefore(document.createTextNode(''), a.nextSibling);
				return function() {
					if (o === this) throw new Error('You can\'t sort elements if any one is a descendant of another.');
					o.insertBefore(this, s), o.removeChild(s)
				}
			});
			return e.call(this, t).each(function(a) {
				n[a].call(r.call(this))
			})
		}
	}(), Array.prototype.findall || (Array.prototype.findall = function(e) {
		'use strict';
		if (void 0 === this || null === this) throw new TypeError;
		var t = e,
			r = Object(this),
			n = r.length >>> 0;
		'function' != typeof e && (t = function(m, u) {
			var g = Object.keys(e),
				f = 0;
			return g.forEach(function(h) {
				t[h] == u[h] && (f += 1)
			}), f == g.length
		});
		for (var a = [], o = 2 <= arguments.length ? arguments[1] : void 0, s = 0; s < n; s++)
			if (s in r) {
				var c = r[s];
				t.call(o, c, s, r) && a.push(c)
			}
		return a
	}), Array.prototype.findone || (Array.prototype.findone = function(e) {
		'use strict';
		if (void 0 === this || null === this) throw new TypeError;
		var t = e,
			r = Object(this),
			n = r.length >>> 0;
		'function' != typeof e && (t = function(c, m) {
			var u = Object.keys(e),
				g = 0;
			return u.forEach(function(f) {
				t[f] == m[f] && (g += 1)
			}), g == u.length
		});
		for (var a = 2 <= arguments.length ? arguments[1] : void 0, o = 0; o < n; o++)
			if (o in r) {
				var s = r[o];
				if (t.call(a, s, o, r)) return s
			}
		return null
	}), Array.prototype.forEach || (Array.prototype.forEach = function(e, t) {
		var r, n;
		if (null == this) throw new TypeError(' this is null or not defined');
		var a = Object(this),
			o = a.length >>> 0;
		if ('function' != typeof e) throw new TypeError(e + ' is not a function');
		for (1 < arguments.length && (r = t), n = 0; n < o;) {
			var s;
			n in a && (s = a[n], e.call(r, s, n, a)), n++
		}
	}), Array.prototype.remove = function() {
		for (var r, n, e = arguments, t = e.length; t && this.length;)
			for (r = e[--t]; - 1 !== (n = this.indexOf(r));) this.splice(n, 1);
		return this
	}
}(function(e) {
	e.fn.popTitle = function(t) {
		var r = this.parent().parent().find('.phide').detach();
		return this.parent().parent().find('.pophead').html(t).prepend(r), this
	}, e.fn.pop = function(t) {
		if (this.hasClass('pop')) return this.find('.popbody').children(0).pop(t);
		switch (t) {
			case 'show':
				return !1 == this.parent().hasClass('popbody') && this.pop(), e('.pop').css('z-index', 2e3), this.parent().parent().css('z-index', 2001), this.parent().parent().css('display', ''), fixSize(), this;
				break;
			case 'hide':
				return this.parent().parent().css('display', 'none'), this;
				break;
			case 'remove':
				return this.parent().parent().remove(), this;
		}
		var r = e.extend({
				width: '50%',
				height: '50%',
				top: '5px',
				left: '5px',
				title: '',
				close: 'hide',
				bg: e(document.body).css('background-color')
			}, t),
			n = e('<div class="pop corner" style="border:1px solid lightgrey;display:none;max-width:95%;position:absolute;z-index:2000;top:' + r.top + ';left:' + r.left + '"></div>').css({
				'background-color': r.bg,
				width: r.width,
				height: r.height
			}),
			a = e('<div class="pophead dots corner bg-primary" style="padding:2px;width:100%!important;"></div>').first(),
			o = e('<div style="margin-top:-5px;" class="popbody"></div>'),
			s = this.parent();
		return o.append(this), a.html(r.title), a.prepend('<span onclick="$(this).pop(\'' + r.close + '\')" class="phide pull-right clickable border label label-danger"><i class="fa fa-times"></i></span>'), n.on('resize', function() {
			o.css('height', n.height() - a.outerHeight(!0) + 'px')
		}), n.append(a), n.append(o), 0 == s.length ? e('#content').append(n) : s.append(n), this
	}
})(jQuery);

function getCSSRule(e, t) {
	if (e = e.toLowerCase(), document.styleSheets)
		for (var r = 0; r < document.styleSheets.length; r++) {
			var n = document.styleSheets[r],
				a = 0,
				o = !1;
			do {
				if (o = n.cssRules ? n.cssRules[a] : n.rules[a], o && o.selectorText == e) return 'delete' == t ? (n.cssRules ? n.deleteRule(a) : n.removeRule(a), !0) : o;
				a++
			} while (o)
		}
	return !1
}

function killCSSRule(e) {
	return getCSSRule(e, 'delete')
}

function addCSSRule(e) {
	return document.styleSheets && !getCSSRule(e) && (document.styleSheets[0].addRule ? document.styleSheets[0].addRule(e, null, 0) : document.styleSheets[0].insertRule(e + ' { }', 0)), getCSSRule(e)
}

function sendpic() {
	var e = $('<input  accept=\'image/*\' type=\'file\' style=\'display:none;\'/>').first();
	e.trigger('click');
	var t;
	$(e).on('change', function() {
		$('.spic').attr('src', 'images/ajax-loader.gif'), t = $.ajax({
			xhr: function() {
				var r = new window.XMLHttpRequest;
				return r.upload.addEventListener('progress', function(n) {
					n.lengthComputable && n.loaded / n.total
				}, !1), r
			},
			timeout: 0,
			url: 'pic?secid=u&fn=' + $(e).val().split('.').pop(),
			type: 'POST',
			data: $(e).prop('files')[0],
			cache: !1,
			processData: !1,
			contentType: !1,
			success: function(r) {
				$('.spic').attr('src', ''), send('setpic', {
					pic: r
				})
			},
			error: function() {
				$('.spic').attr('src', ''), alert('\u0645\u0646\u0631\u0633\u0644\u062A \u0627\u0644\u0635\u0648\u0631\u0647 \u0639\u0646\u062F\u0643 \u0645\u0634\u0643\u0644\u0647 \u0627\u062D\u062A\u0645\u0627\u0644 \u0627\u0644\u0646\u062A \u0636\u0639\u064A\u0641')
			}
		})
	})
}

function sendfile(e, t) {
	pickedfile = null;
	var r = $('<div></div>').first();
	r.append('<input type=\'file\'  accept=\'image/*, video/*, audio/*\' style=\'display:none;\'/>'), r.children('input').trigger('click');
	var n;
	$(r).children('input').on('change', function() {
		var a = $('<div class=\'mm msg fl\' style=\'width:100%;\'><a class=\'fn fl\'></a><button style=\'color:red;border:1px solid red;min-width:40px;\' class=\' cancl\'>X</button></div>');
		$('#d2' + e).append(a), $(a).find('.cancl').click(function() {
			$(a).remove(), n.abort()
		}), n = $.ajax({
			xhr: function() {
				var o = new window.XMLHttpRequest;
				return o.upload.addEventListener('progress', function(s) {
					if (s.lengthComputable) {
						var c = s.loaded / s.total;
						$(a.find('.fn')).text('%' + parseInt(100 * c) + ' | ' + $(r).children('input').val().split('\\').pop())
					}
				}, !1), o
			},
			timeout: 0,
			url: 'upload?secid=u&fn=' + $(r).children('input').val().split('.').pop(),
			type: 'POST',
			data: $(r).children('input').prop('files')[0],
			cache: !1,
			processData: !1,
			contentType: !1,
			success: function(o) {
				pickedfile = o, null == t ? send('file', {
					pm: e,
					link: o
				}) : t(o), $(r).remove(), $(a).remove()
			},
			error: function() {
				$(a).remove()
			}
		})
	})
}

function encode(e) {
	return encodeURIComponent(e).split('\'').join('%27')
}

function decode(e) {
	return decodeURIComponent(e)
}

function isls() {
	return 'undefined' != typeof Storage
}

function setv(e, t) {
	isls() ? localStorage.setItem(e, t) : setCookie(e, t)
}

function getv(e) {
	if (isls()) {
		var t = localStorage.getItem(e);
		return ('null' == t || null == t) && (t = ''), t
	}
	return getCookie(e)
}

function setCookie(e, t) {
	var r = new Date;
	r.setTime(r.getTime() + 2.87712e10);
	var n = 'expires=' + r.toUTCString();
	document.cookie = e + '=' + encode(t) + '; ' + n
}

function isIE9OrBelow() {
	return /MSIE\s/.test(navigator.userAgent) && 10 > parseFloat(navigator.appVersion.split('MSIE')[1])
}

function getCookie(e) {
	for (var a, t = e + '=', r = document.cookie.split(';'), n = 0; n < r.length; n++) {
		for (a = r[n];
			' ' == a.charAt(0);) a = a.substring(1);
		if (-1 != a.indexOf(t)) return decode(a.substring(t.length, a.length))
	}
	return ''
}
cmsg = null;

function sendpic_() {
	if (null == cmsg) {
		var e = {
			cmd: 'upload_i',
			busy: !1,
			url: 'pic?secid=u&fn=%'
		};
		$('.spic').attr('src', 'images/ajax-loader.gif'), e.done = function(t) {
			send('setpic', {
				pic: t
			}), cmsg = null, $('.spic').attr('src', '')
		}, e.progress = function() {}, e.error = function() {
			alert('error'), cmsg = null, $('.spic').attr('src', ''), alert('\u0645\u0646\u0631\u0633\u0644\u062A \u0627\u0644\u0635\u0648\u0631\u0647 \u0639\u0646\u062F\u0643 \u0645\u0634\u0643\u0644\u0647 \u0627\u062D\u062A\u0645\u0627\u0644 \u0627\u0644\u0646\u062A \u0636\u0639\u064A\u0641')
		}, cmsg = e
	}
}

function sendfile_(e, t) {
	if (null == cmsg) {
		var r = {
				cmd: 'upload_iv',
				busy: !1,
				url: 'upload?secid=u&fn=%'
			},
			n = $('<div class=\'mm msg fl\' style=\'width:100%;\'><a class=\'fn fl\'></a><button style=\'color:red;border:1px solid red;min-width:40px;\' class=\' cancl\'>X</button></div>').first();
		$('#d2' + e).append(n), $(n).find('.cancl').click(function() {
			$(n).remove()
		}), r.id = e, r.sp = n, r.done = function(a) {
			pickedfile = a, null == t ? send('file', {
				pm: e,
				link: a
			}) : t(a), r.sp.remove(), cmsg = null
		}, r.progress = function(a) {
			r.sp.find('.fn').text('%' + a + ' ' + r.fn)
		}, r.error = function() {
			cmsg = null, r.sp.remove(), alert('\u0641\u0634\u0644 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0645\u0644\u0641 .. \u062D\u0627\u0648\u0644 \u0645\u0631\u0647 \u0623\u062E\u0631\u0649 .')
		}, cmsg = r
	}
}
uf = {
	kw: '\u0627\u0644\u0643\u0648\u064A\u062A',
	et: '\u0625\u062B\u064A\u0648\u0628\u064A\u0627',
	az: '\u0623\u0630\u0631\u0628\u064A\u062C\u0627\u0646',
	am: '\u0623\u0631\u0645\u064A\u0646\u064A\u0627',
	aw: '\u0623\u0631\u0648\u0628\u0627',
	er: '\u0625\u0631\u064A\u062A\u0631\u064A\u0627',
	es: '\u0623\u0633\u0628\u0627\u0646\u064A\u0627',
	au: '\u0623\u0633\u062A\u0631\u0627\u0644\u064A\u0627',
	ee: '\u0625\u0633\u062A\u0648\u0646\u064A\u0627',
	il: '\u0625\u0633\u0631\u0627\u0626\u064A\u0644',
	af: '\u0623\u0641\u063A\u0627\u0646\u0633\u062A\u0627\u0646',
	ec: '\u0625\u0643\u0648\u0627\u062F\u0648\u0631',
	ar: '\u0627\u0644\u0623\u0631\u062C\u0646\u062A\u064A\u0646',
	jo: '\u0627\u0644\u0623\u0631\u062F\u0646',
	ae: '\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062A \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0627\u0644\u0645\u062A\u062D\u062F\u0629',
	al: '\u0623\u0644\u0628\u0627\u0646\u064A\u0627',
	bh: '\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0628\u062D\u0631\u064A\u0646',
	br: '\u0627\u0644\u0628\u0631\u0627\u0632\u064A\u0644',
	pt: '\u0627\u0644\u0628\u0631\u062A\u063A\u0627\u0644',
	ba: '\u0627\u0644\u0628\u0648\u0633\u0646\u0629 \u0648\u0627\u0644\u0647\u0631\u0633\u0643',
	ga: '\u0627\u0644\u062C\u0627\u0628\u0648\u0646',
	dz: '\u0627\u0644\u062C\u0632\u0627\u0626\u0631',
	dk: '\u0627\u0644\u062F\u0627\u0646\u0645\u0627\u0631\u0643',
	cv: '\u0627\u0644\u0631\u0623\u0633 \u0627\u0644\u0623\u062E\u0636\u0631',
	ps: '\u0641\u0644\u0633\u0637\u064A\u0646',
	sv: '\u0627\u0644\u0633\u0644\u0641\u0627\u062F\u0648\u0631',
	sn: '\u0627\u0644\u0633\u0646\u063A\u0627\u0644',
	sd: '\u0627\u0644\u0633\u0648\u062F\u0627\u0646',
	se: '\u0627\u0644\u0633\u0648\u064A\u062F',
	so: '\u0627\u0644\u0635\u0648\u0645\u0627\u0644',
	cn: '\u0627\u0644\u0635\u064A\u0646',
	iq: '\u0639\u0631\u0627\u0642\u0646\u0627',
	ph: '\u0627\u0644\u0641\u0644\u0628\u064A\u0646',
	cm: '\u0627\u0644\u0643\u0627\u0645\u064A\u0631\u0648\u0646',
	cg: '\u0627\u0644\u0643\u0648\u0646\u063A\u0648',
	cd: '\u062C\u0645\u0647\u0648\u0631\u064A\u0629 \u0627\u0644\u0643\u0648\u0646\u063A\u0648 \u0627\u0644\u062F\u064A\u0645\u0642\u0631\u0627\u0637\u064A\u0629',
	de: '\u0623\u0644\u0645\u0627\u0646\u064A\u0627',
	hu: '\u0627\u0644\u0645\u062C\u0631',
	ma: '\u0627\u0644\u0645\u063A\u0631\u0628',
	mx: '\u0627\u0644\u0645\u0643\u0633\u064A\u0643',
	sa: '\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629',
	uk: '\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0645\u062A\u062D\u062F\u0629',
	no: '\u0627\u0644\u0646\u0631\u0648\u064A\u062C',
	at: '\u0627\u0644\u0646\u0645\u0633\u0627',
	ne: '\u0627\u0644\u0646\u064A\u062C\u0631',
	'in': '\u0627\u0644\u0647\u0646\u062F',
	us: '\u0627\u0644\u0648\u0644\u0627\u064A\u0627\u062A \u0627\u0644\u0645\u062A\u062D\u062F\u0629',
	jp: '\u0627\u0644\u064A\u0627\u0628\u0627\u0646',
	ye: '\u0627\u0644\u064A\u0645\u0646',
	gr: '\u0627\u0644\u064A\u0648\u0646\u0627\u0646',
	ag: '\u0623\u0646\u062A\u064A\u063A\u0648\u0627 \u0648\u0628\u0631\u0628\u0648\u062F\u0627',
	id: '\u0625\u0646\u062F\u0648\u0646\u064A\u0633\u064A\u0627',
	ao: '\u0623\u0646\u063A\u0648\u0644\u0627',
	ai: '\u0623\u0646\u063A\u0648\u064A\u0644\u0627',
	uy: '\u0623\u0648\u0631\u0648\u062C\u0648\u0627\u064A',
	uz: '\u0623\u0648\u0632\u0628\u0643\u0633\u062A\u0627\u0646',
	ug: '\u0623\u0648\u063A\u0646\u062F\u0627',
	ua: '\u0623\u0648\u0643\u0631\u0627\u0646\u064A\u0627',
	ir: '\u0625\u064A\u0631\u0627\u0646',
	ie: '\u0623\u064A\u0631\u0644\u0646\u062F\u0627',
	is: '\u0623\u064A\u0633\u0644\u0646\u062F\u0627',
	it: '\u0625\u064A\u0637\u0627\u0644\u064A\u0627',
	pg: '\u0628\u0627\u0628\u0648\u0627-\u063A\u064A\u0646\u064A\u0627 \u0627\u0644\u062C\u062F\u064A\u062F\u0629',
	py: '\u0628\u0627\u0631\u0627\u062C\u0648\u0627\u064A',
	bb: '\u0628\u0627\u0631\u0628\u0627\u062F\u0648\u0633',
	pk: '\u0628\u0627\u0643\u0633\u062A\u0627\u0646',
	pw: '\u0628\u0627\u0644\u0627\u0648',
	bm: '\u0628\u0631\u0645\u0648\u062F\u0627',
	bn: '\u0628\u0631\u0648\u0646\u0627\u064A',
	be: '\u0628\u0644\u062C\u064A\u0643\u0627',
	bg: '\u0628\u0644\u063A\u0627\u0631\u064A\u0627',
	bd: '\u0628\u0646\u062C\u0644\u0627\u062F\u064A\u0634',
	pa: '\u0628\u0646\u0645\u0627',
	bj: '\u0628\u0646\u064A\u0646',
	bt: '\u0628\u0648\u062A\u0627\u0646',
	bw: '\u0628\u0648\u062A\u0633\u0648\u0627\u0646\u0627',
	pr: '\u0628\u0648\u0631\u062A\u0648 \u0631\u064A\u0643\u0648',
	bf: '\u0628\u0648\u0631\u0643\u064A\u0646\u0627 \u0641\u0627\u0633\u0648',
	bi: '\u0628\u0648\u0631\u0648\u0646\u062F\u064A',
	pl: '\u0628\u0648\u0644\u0646\u062F\u0627',
	bo: '\u0628\u0648\u0644\u064A\u0641\u064A\u0627',
	pf: '\u0628\u0648\u0644\u064A\u0646\u0632\u064A\u0627 \u0627\u0644\u0641\u0631\u0646\u0633\u064A\u0629',
	pe: '\u0628\u064A\u0631\u0648',
	by: '\u0628\u064A\u0644\u0627\u0631\u0648\u0633',
	bz: '\u0628\u064A\u0644\u064A\u0632',
	th: '\u062A\u0627\u064A\u0644\u0627\u0646\u062F',
	tw: '\u062A\u0627\u064A\u0648\u0627\u0646',
	tm: '\u062A\u0631\u0643\u0645\u0627\u0646\u0633\u062A\u0627\u0646',
	tr: '\u062A\u0631\u0643\u064A\u0627',
	tt: '\u062A\u0631\u064A\u0646\u064A\u062F\u0627\u062F \u0648\u062A\u0648\u0628\u0627\u062C\u0648',
	td: '\u062A\u0634\u0627\u062F',
	cl: '\u062A\u0634\u064A\u0644\u064A',
	tz: '\u062A\u0646\u0632\u0627\u0646\u064A\u0627',
	tg: '\u062A\u0648\u062C\u0648',
	tv: '\u062A\u0648\u0641\u0627\u0644\u0648',
	tk: '\u062A\u0648\u0643\u064A\u0644\u0627\u0648',
	to: '\u062A\u0648\u0646\u062C\u0627',
	tn: '\u062A\u0648\u0646\u0633',
	tp: '\u062A\u064A\u0645\u0648\u0631 \u0627\u0644\u0634\u0631\u0642\u064A\u0629',
	jm: '\u062C\u0627\u0645\u0627\u064A\u0643\u0627',
	gm: '\u062C\u0627\u0645\u0628\u064A\u0627',
	gl: '\u062C\u0631\u064A\u0646\u0644\u0627\u0646\u062F',
	pn: '\u062C\u0632\u0631 \u0627\u0644\u0628\u062A\u0643\u0627\u0631\u064A\u0646',
	bs: '\u062C\u0632\u0631 \u0627\u0644\u0628\u0647\u0627\u0645\u0627',
	km: '\u062C\u0632\u0631 \u0627\u0644\u0642\u0645\u0631',
	cf: '\u0623\u0641\u0631\u064A\u0642\u064A\u0627 \u0627\u0644\u0648\u0633\u0637\u0649',
	cz: '\u062C\u0645\u0647\u0648\u0631\u064A\u0629 \u0627\u0644\u062A\u0634\u064A\u0643',
	'do': '\u062C\u0645\u0647\u0648\u0631\u064A\u0629 \u0627\u0644\u062F\u0648\u0645\u064A\u0646\u064A\u0643\u0627\u0646',
	za: '\u062C\u0646\u0648\u0628 \u0623\u0641\u0631\u064A\u0642\u064A\u0627',
	gt: '\u062C\u0648\u0627\u062A\u064A\u0645\u0627\u0644\u0627',
	gp: '\u062C\u0648\u0627\u062F\u064A\u0644\u0648\u0628',
	gu: '\u062C\u0648\u0627\u0645',
	ge: '\u062C\u0648\u0631\u062C\u064A\u0627',
	gs: '\u062C\u0648\u0631\u062C\u064A\u0627 \u0627\u0644\u062C\u0646\u0648\u0628\u064A\u0629',
	gy: '\u062C\u064A\u0627\u0646\u0627',
	gf: '\u062C\u064A\u0627\u0646\u0627 \u0627\u0644\u0641\u0631\u0646\u0633\u064A\u0629',
	dj: '\u062C\u064A\u0628\u0648\u062A\u064A',
	je: '\u062C\u064A\u0631\u0633\u064A',
	gg: '\u062C\u064A\u0631\u0646\u0632\u064A',
	va: '\u062F\u0648\u0644\u0629 \u0627\u0644\u0641\u0627\u062A\u064A\u0643\u0627\u0646',
	dm: '\u062F\u0648\u0645\u064A\u0646\u064A\u0643\u0627',
	rw: '\u0631\u0648\u0627\u0646\u062F\u0627',
	ru: '\u0631\u0648\u0633\u064A\u0627',
	ro: '\u0631\u0648\u0645\u0627\u0646\u064A\u0627',
	re: '\u0631\u064A\u0648\u0646\u064A\u0648\u0646',
	zm: '\u0632\u0627\u0645\u0628\u064A\u0627',
	zw: '\u0632\u064A\u0645\u0628\u0627\u0628\u0648\u064A',
	ws: '\u0633\u0627\u0645\u0648\u0627',
	sm: '\u0633\u0627\u0646 \u0645\u0627\u0631\u064A\u0646\u0648',
	sk: '\u0633\u0644\u0648\u0641\u0627\u0643\u064A\u0627',
	si: '\u0633\u0644\u0648\u0641\u064A\u0646\u064A\u0627',
	sg: '\u0633\u0646\u063A\u0627\u0641\u0648\u0631\u0629',
	sz: '\u0633\u0648\u0627\u0632\u064A\u0644\u0627\u0646\u062F',
	sy: '\u0633\u0648\u0631\u064A\u0627',
	sr: '\u0633\u0648\u0631\u064A\u0646\u0627\u0645',
	ch: '\u0633\u0648\u064A\u0633\u0631\u0627',
	sl: '\u0633\u064A\u0631\u0627\u0644\u064A\u0648\u0646',
	lk: '\u0633\u064A\u0631\u064A\u0644\u0627\u0646\u0643\u0627',
	sc: '\u0633\u064A\u0634\u0644',
	rs: '\u0635\u0631\u0628\u064A\u0627',
	tj: '\u0637\u0627\u062C\u064A\u0643\u0633\u062A\u0627\u0646',
	om: '\u0639\u0645\u0627\u0646',
	gh: '\u063A\u0627\u0646\u0627',
	gd: '\u063A\u0631\u064A\u0646\u0627\u062F\u0627',
	gn: '\u063A\u064A\u0646\u064A\u0627',
	gq: '\u063A\u064A\u0646\u064A\u0627 \u0627\u0644\u0627\u0633\u062A\u0648\u0627\u0626\u064A\u0629',
	gw: '\u063A\u064A\u0646\u064A\u0627 \u0628\u064A\u0633\u0627\u0648',
	vu: '\u0641\u0627\u0646\u0648\u0627\u062A\u0648',
	fr: '\u0641\u0631\u0646\u0633\u0627',
	ve: '\u0641\u0646\u0632\u0648\u064A\u0644\u0627',
	fi: '\u0641\u0646\u0644\u0646\u062F\u0627',
	vn: '\u0641\u064A\u062A\u0646\u0627\u0645',
	cy: '\u0642\u0628\u0631\u0635',
	qa: '\u0642\u0637\u0631',
	kg: '\u0642\u064A\u0631\u0642\u064A\u0632\u0633\u062A\u0627\u0646',
	kz: '\u0643\u0627\u0632\u0627\u062E\u0633\u062A\u0627\u0646',
	nc: '\u0643\u0627\u0644\u064A\u062F\u0648\u0646\u064A\u0627 \u0627\u0644\u062C\u062F\u064A\u062F\u0629',
	kh: '\u0643\u0627\u0645\u0628\u0648\u062F\u064A\u0627',
	hr: '\u0643\u0631\u0648\u0627\u062A\u064A\u0627',
	ca: '\u0643\u0646\u062F\u0627',
	cu: '\u0643\u0648\u0628\u0627',
	ci: '\u0633\u0627\u062D\u0644 \u0627\u0644\u0639\u0627\u062C',
	kr: '\u0643\u0648\u0631\u064A\u0627',
	kp: '\u0643\u0648\u0631\u064A\u0627 \u0627\u0644\u0634\u0645\u0627\u0644\u064A\u0629',
	cr: '\u0643\u0648\u0633\u062A\u0627\u0631\u064A\u0643\u0627',
	co: '\u0643\u0648\u0644\u0648\u0645\u0628\u064A\u0627',
	ki: '\u0643\u064A\u0631\u064A\u0628\u0627\u062A\u064A',
	ke: '\u0643\u064A\u0646\u064A\u0627',
	lv: '\u0644\u0627\u062A\u0641\u064A\u0627',
	la: '\u0644\u0627\u0648\u0633',
	lb: '\u0644\u0628\u0646\u0627\u0646',
	li: '\u0644\u0634\u062A\u0646\u0634\u062A\u0627\u064A\u0646',
	lu: '\u0644\u0648\u0643\u0633\u0645\u0628\u0648\u0631\u062C',
	ly: '\u0644\u064A\u0628\u064A\u0627',
	lr: '\u0644\u064A\u0628\u064A\u0631\u064A\u0627',
	lt: '\u0644\u064A\u062A\u0648\u0627\u0646\u064A\u0627',
	ls: '\u0644\u064A\u0633\u0648\u062A\u0648',
	mq: '\u0645\u0627\u0631\u062A\u064A\u0646\u064A\u0643',
	mo: '\u0645\u0627\u0643\u0627\u0648',
	fm: '\u0645\u0627\u0643\u0631\u0648\u0646\u064A\u0632\u064A\u0627',
	mw: '\u0645\u0627\u0644\u0627\u0648\u064A',
	mt: '\u0645\u0627\u0644\u0637\u0627',
	ml: '\u0645\u0627\u0644\u064A',
	my: '\u0645\u0627\u0644\u064A\u0632\u064A\u0627',
	yt: '\u0645\u0627\u064A\u0648\u062A',
	mg: '\u0645\u062F\u063A\u0634\u0642\u0631',
	eg: '\u0645\u0635\u0631',
	mk: '\u0645\u0642\u062F\u0648\u0646\u064A\u0627\u060C \u064A\u0648\u063A\u0648\u0633\u0644\u0627\u0641\u064A\u0627',
	mn: '\u0645\u0646\u063A\u0648\u0644\u064A\u0627',
	mr: '\u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627',
	mu: '\u0645\u0648\u0631\u064A\u0634\u064A\u0648\u0633',
	mz: '\u0645\u0648\u0632\u0645\u0628\u064A\u0642',
	md: '\u0645\u0648\u0644\u062F\u0648\u0641\u0627',
	mc: '\u0645\u0648\u0646\u0627\u0643\u0648',
	ms: '\u0645\u0648\u0646\u062A\u0633\u064A\u0631\u0627\u062A',
	me: '\u0645\u0648\u0646\u062A\u064A\u0646\u064A\u063A\u0631\u0648',
	mm: '\u0645\u064A\u0627\u0646\u0645\u0627\u0631',
	na: '\u0646\u0627\u0645\u064A\u0628\u064A\u0627',
	nr: '\u0646\u0627\u0648\u0631\u0648',
	np: '\u0646\u064A\u0628\u0627\u0644',
	ng: '\u0646\u064A\u062C\u064A\u0631\u064A\u0627',
	ni: '\u0646\u064A\u0643\u0627\u0631\u0627\u062C\u0648\u0627',
	nu: '\u0646\u064A\u0648\u0627',
	nz: '\u0646\u064A\u0648\u0632\u064A\u0644\u0646\u062F\u0627',
	ht: '\u0647\u0627\u064A\u062A\u064A',
	hn: '\u0647\u0646\u062F\u0648\u0631\u0627\u0633',
	nl: '\u0647\u0648\u0644\u0646\u062F\u0627',
	hk: '\u0647\u0648\u0646\u063A \u0643\u0648\u0646\u063A',
	wf: '\u0648\u0627\u0644\u064A\u0633 \u0648\u0641\u0648\u062A\u0648\u0646\u0627'
};
var wr = null,
	_0xd6fe = ['connecting', 'start', 'webrtc', 'https://jawalhost.com:8443', '*:*', '\u064A\u062A\u0645 \u0627\u0644\u0625\u062A\u0635\u0627\u0644 ..', 'text', '.callstat', 'warning', 'createdPeer', 'iceConnectionState', 'pc', 'log', 'iceConnectionStateChange', 'Connecting to peer...', 'checking', 'connected to peer...', '\u0645\u062A\u0635\u0644 .!', 'success', 'connected', 'Connection established.', 'completed', 'Disconnected.', 'hangUp', 'disconnected', 'failed.', 'failed', 'closed.', 'closed', 'on', 'status', 'createdPeer ', 'nick ', 'nick', 'readyToCall', 'readytocall', 'joinRoom', 'nickname', 'sendToAll', 'iceFailed', 'connectivityError', 'remove', '.callnot', 'stopLocalVideo', 'leaveRoom', 'disconnect', 'connection'];

function webrtc(e, t) {
	var r = {
		webrtc: null,
		status: _0xd6fe[0]
	};
	return r[_0xd6fe[1]] = function() {
		r[_0xd6fe[2]] = new SimpleWebRTC({
			url: _0xd6fe[3],
			nick: t,
			socketio: {
				'force new connection': !0,
				origins: _0xd6fe[4]
			},
			autoRequestMedia: !0,
			media: {
				audio: !0,
				video: !1
			},
			receiveMedia: {
				offerToReceiveAudio: 1,
				offerToReceiveVideo: 0
			}
		})
	}, hl($(_0xd6fe[7])[_0xd6fe[6]](_0xd6fe[5]), _0xd6fe[8]), r[_0xd6fe[1]](), r[_0xd6fe[2]][_0xd6fe[29]](_0xd6fe[9], function(n) {
		callstat = 2, console[_0xd6fe[12]](n[_0xd6fe[11]][_0xd6fe[10]]), n[_0xd6fe[11]][_0xd6fe[29]](_0xd6fe[13], function() {
			switch (n[_0xd6fe[11]][_0xd6fe[10]]) {
				case _0xd6fe[15]:
					console[_0xd6fe[12]](_0xd6fe[14]), hl($(_0xd6fe[7])[_0xd6fe[6]](_0xd6fe[5]), _0xd6fe[8]);
					break;
				case _0xd6fe[19]:
					console[_0xd6fe[12]](_0xd6fe[16]), hl($(_0xd6fe[7])[_0xd6fe[6]](_0xd6fe[17]), _0xd6fe[18]);
				case _0xd6fe[21]:
					console[_0xd6fe[12]](_0xd6fe[20]), hl($(_0xd6fe[7])[_0xd6fe[6]](_0xd6fe[17]), _0xd6fe[18]);
					break;
				case _0xd6fe[24]:
					console[_0xd6fe[12]](_0xd6fe[22]), r[_0xd6fe[23]]();
					break;
				case _0xd6fe[26]:
					console[_0xd6fe[12]](_0xd6fe[25]), r[_0xd6fe[23]]();
					break;
				case _0xd6fe[28]:
					console[_0xd6fe[12]](_0xd6fe[27]), r[_0xd6fe[23]]();
			}
		}), r[_0xd6fe[30]] = _0xd6fe[19], console[_0xd6fe[12]](_0xd6fe[31], n), console[_0xd6fe[12]](_0xd6fe[32], n[_0xd6fe[33]])
	}), r[_0xd6fe[2]][_0xd6fe[29]](_0xd6fe[34], function() {
		console[_0xd6fe[12]](_0xd6fe[35]), r[_0xd6fe[30]] = _0xd6fe[19], r[_0xd6fe[2]][_0xd6fe[36]](e), r[_0xd6fe[2]][_0xd6fe[38]](_0xd6fe[37], {
			nick: t
		})
	}), r[_0xd6fe[2]][_0xd6fe[29]](_0xd6fe[39], function() {
		console[_0xd6fe[12]](_0xd6fe[39]), r[_0xd6fe[23]]()
	}), r[_0xd6fe[2]][_0xd6fe[29]](_0xd6fe[40], function() {
		console[_0xd6fe[12]](_0xd6fe[40]), r[_0xd6fe[23]]()
	}), r[_0xd6fe[23]] = function() {
		callstat = 0, $(_0xd6fe[42])[_0xd6fe[41]](), wr = null;
		try {
			r[_0xd6fe[2]][_0xd6fe[43]]()
		} catch (n) {}
		r[_0xd6fe[2]][_0xd6fe[44]](), r[_0xd6fe[30]] = _0xd6fe[28], r[_0xd6fe[2]][_0xd6fe[46]][_0xd6fe[45]]()
	}, r
}(function(e) {
	if ('object' == typeof exports && 'undefined' != typeof module) module.exports = e();
	else if ('function' == typeof define && define.amd) define([], e);
	else {
		var t;
		t = 'undefined' == typeof window ? 'undefined' == typeof global ? 'undefined' == typeof self ? this : self : global : window, t.adapter = e()
	}
})(function() {
	return function e(t, r, n) {
		function a(c, m) {
			if (!r[c]) {
				if (!t[c]) {
					var u = 'function' == typeof require && require;
					if (!m && u) return u(c, !0);
					if (o) return o(c, !0);
					var g = new Error('Cannot find module \'' + c + '\'');
					throw g.code = 'MODULE_NOT_FOUND', g
				}
				var f = r[c] = {
					exports: {}
				};
				t[c][0].call(f.exports, function(h) {
					var y = t[c][1][h];
					return a(y ? y : h)
				}, f, f.exports, e, t, r, n)
			}
			return r[c].exports
		}
		for (var o = 'function' == typeof require && require, s = 0; s < n.length; s++) a(n[s]);
		return a
	}({
		1: [function(e, t) {
			'use strict';
			var r = {};
			r.generateIdentifier = function() {
				return Math.random().toString(36).substr(2, 10)
			}, r.localCName = r.generateIdentifier(), r.splitLines = function(n) {
				return n.trim().split('\n').map(function(a) {
					return a.trim()
				})
			}, r.splitSections = function(n) {
				var a = n.split('\nm=');
				return a.map(function(o, s) {
					return (0 < s ? 'm=' + o : o).trim() + '\r\n'
				})
			}, r.matchPrefix = function(n, a) {
				return r.splitLines(n).filter(function(o) {
					return 0 === o.indexOf(a)
				})
			}, r.parseCandidate = function(n) {
				for (var a = 0 === n.indexOf('a=candidate:') ? n.substring(12).split(' ') : n.substring(10).split(' '), o = {
						foundation: a[0],
						component: parseInt(a[1], 10),
						protocol: a[2].toLowerCase(),
						priority: parseInt(a[3], 10),
						ip: a[4],
						port: parseInt(a[5], 10),
						type: a[7]
					}, s = 8; s < a.length; s += 2) switch (a[s]) {
					case 'raddr':
						o.relatedAddress = a[s + 1];
						break;
					case 'rport':
						o.relatedPort = parseInt(a[s + 1], 10);
						break;
					case 'tcptype':
						o.tcpType = a[s + 1];
						break;
					default:
						o[a[s]] = a[s + 1];
				}
				return o
			}, r.writeCandidate = function(n) {
				var a = [n.foundation, n.component, n.protocol.toUpperCase(), n.priority, n.ip, n.port],
					o = n.type;
				return a.push('typ'), a.push(o), 'host' !== o && n.relatedAddress && n.relatedPort && (a.push('raddr'), a.push(n.relatedAddress), a.push('rport'), a.push(n.relatedPort)), n.tcpType && 'tcp' === n.protocol.toLowerCase() && (a.push('tcptype'), a.push(n.tcpType)), 'candidate:' + a.join(' ')
			}, r.parseIceOptions = function(n) {
				return n.substr(14).split(' ')
			}, r.parseRtpMap = function(n) {
				var a = n.substr(9).split(' '),
					o = {
						payloadType: parseInt(a.shift(), 10)
					};
				return a = a[0].split('/'), o.name = a[0], o.clockRate = parseInt(a[1], 10), o.numChannels = 3 === a.length ? parseInt(a[2], 10) : 1, o
			}, r.writeRtpMap = function(n) {
				var a = n.payloadType;
				return void 0 !== n.preferredPayloadType && (a = n.preferredPayloadType), 'a=rtpmap:' + a + ' ' + n.name + '/' + n.clockRate + (1 === n.numChannels ? '' : '/' + n.numChannels) + '\r\n'
			}, r.parseExtmap = function(n) {
				var a = n.substr(9).split(' ');
				return {
					id: parseInt(a[0], 10),
					direction: 0 < a[0].indexOf('/') ? a[0].split('/')[1] : 'sendrecv',
					uri: a[1]
				}
			}, r.writeExtmap = function(n) {
				return 'a=extmap:' + (n.id || n.preferredId) + (n.direction && 'sendrecv' !== n.direction ? '/' + n.direction : '') + ' ' + n.uri + '\r\n'
			}, r.parseFmtp = function(n) {
				for (var c, a = {}, o = n.substr(n.indexOf(' ') + 1).split(';'), s = 0; s < o.length; s++) c = o[s].trim().split('='), a[c[0].trim()] = c[1];
				return a
			}, r.writeFmtp = function(n) {
				var a = '',
					o = n.payloadType;
				if (void 0 !== n.preferredPayloadType && (o = n.preferredPayloadType), n.parameters && Object.keys(n.parameters).length) {
					var s = [];
					Object.keys(n.parameters).forEach(function(c) {
						s.push(c + '=' + n.parameters[c])
					}), a += 'a=fmtp:' + o + ' ' + s.join(';') + '\r\n'
				}
				return a
			}, r.parseRtcpFb = function(n) {
				var a = n.substr(n.indexOf(' ') + 1).split(' ');
				return {
					type: a.shift(),
					parameter: a.join(' ')
				}
			}, r.writeRtcpFb = function(n) {
				var a = '',
					o = n.payloadType;
				return void 0 !== n.preferredPayloadType && (o = n.preferredPayloadType), n.rtcpFeedback && n.rtcpFeedback.length && n.rtcpFeedback.forEach(function(s) {
					a += 'a=rtcp-fb:' + o + ' ' + s.type + (s.parameter && s.parameter.length ? ' ' + s.parameter : '') + '\r\n'
				}), a
			}, r.parseSsrcMedia = function(n) {
				var a = n.indexOf(' '),
					o = {
						ssrc: parseInt(n.substr(7, a - 7), 10)
					},
					s = n.indexOf(':', a);
				return -1 < s ? (o.attribute = n.substr(a + 1, s - a - 1), o.value = n.substr(s + 1)) : o.attribute = n.substr(a + 1), o
			}, r.getMid = function(n) {
				var a = r.matchPrefix(n, 'a=mid:')[0];
				if (a) return a.substr(6)
			}, r.parseFingerprint = function(n) {
				var a = n.substr(14).split(' ');
				return {
					algorithm: a[0].toLowerCase(),
					value: a[1]
				}
			}, r.getDtlsParameters = function(n, a) {
				var o = r.matchPrefix(n + a, 'a=fingerprint:');
				return {
					role: 'auto',
					fingerprints: o.map(r.parseFingerprint)
				}
			}, r.writeDtlsParameters = function(n, a) {
				var o = 'a=setup:' + a + '\r\n';
				return n.fingerprints.forEach(function(s) {
					o += 'a=fingerprint:' + s.algorithm + ' ' + s.value + '\r\n'
				}), o
			}, r.getIceParameters = function(n, a) {
				var o = r.splitLines(n);
				o = o.concat(r.splitLines(a));
				var s = {
					usernameFragment: o.filter(function(c) {
						return 0 === c.indexOf('a=ice-ufrag:')
					})[0].substr(12),
					password: o.filter(function(c) {
						return 0 === c.indexOf('a=ice-pwd:')
					})[0].substr(10)
				};
				return s
			}, r.writeIceParameters = function(n) {
				return 'a=ice-ufrag:' + n.usernameFragment + '\r\na=ice-pwd:' + n.password + '\r\n'
			}, r.parseRtpParameters = function(n) {
				for (var a = {
						codecs: [],
						headerExtensions: [],
						fecMechanisms: [],
						rtcp: []
					}, o = r.splitLines(n), s = o[0].split(' '), c = 3; c < s.length; c++) {
					var m = s[c],
						u = r.matchPrefix(n, 'a=rtpmap:' + m + ' ')[0];
					if (u) {
						var g = r.parseRtpMap(u),
							f = r.matchPrefix(n, 'a=fmtp:' + m + ' ');
						switch (g.parameters = f.length ? r.parseFmtp(f[0]) : {}, g.rtcpFeedback = r.matchPrefix(n, 'a=rtcp-fb:' + m + ' ').map(r.parseRtcpFb), a.codecs.push(g), g.name.toUpperCase()) {
							case 'RED':
							case 'ULPFEC':
								a.fecMechanisms.push(g.name.toUpperCase());
								break;
							default:
						}
					}
				}
				return r.matchPrefix(n, 'a=extmap:').forEach(function(h) {
					a.headerExtensions.push(r.parseExtmap(h))
				}), a
			}, r.writeRtpDescription = function(n, a) {
				var o = '';
				o += 'm=' + n + ' ', o += 0 < a.codecs.length ? '9' : '0', o += ' UDP/TLS/RTP/SAVPF ', o += a.codecs.map(function(c) {
					return void 0 === c.preferredPayloadType ? c.payloadType : c.preferredPayloadType
				}).join(' ') + '\r\n', o += 'c=IN IP4 0.0.0.0\r\n', o += 'a=rtcp:9 IN IP4 0.0.0.0\r\n', a.codecs.forEach(function(c) {
					o += r.writeRtpMap(c), o += r.writeFmtp(c), o += r.writeRtcpFb(c)
				});
				var s = 0;
				return a.codecs.forEach(function(c) {
					c.maxptime > s && (s = c.maxptime)
				}), 0 < s && (o += 'a=maxptime:' + s + '\r\n'), o += 'a=rtcp-mux\r\n', a.headerExtensions.forEach(function(c) {
					o += r.writeExtmap(c)
				}), o
			}, r.parseRtpEncodingParameters = function(n) {
				var f, a = [],
					o = r.parseRtpParameters(n),
					s = -1 !== o.fecMechanisms.indexOf('RED'),
					c = -1 !== o.fecMechanisms.indexOf('ULPFEC'),
					m = r.matchPrefix(n, 'a=ssrc:').map(function(y) {
						return r.parseSsrcMedia(y)
					}).filter(function(y) {
						return 'cname' === y.attribute
					}),
					u = 0 < m.length && m[0].ssrc,
					g = r.matchPrefix(n, 'a=ssrc-group:FID').map(function(y) {
						var b = y.split(' ');
						return b.shift(), b.map(function(v) {
							return parseInt(v, 10)
						})
					});
				0 < g.length && 1 < g[0].length && g[0][0] === u && (f = g[0][1]), o.codecs.forEach(function(y) {
					if ('RTX' === y.name.toUpperCase() && y.parameters.apt) {
						var b = {
							ssrc: u,
							codecPayloadType: parseInt(y.parameters.apt, 10),
							rtx: {
								ssrc: f
							}
						};
						a.push(b), s && (b = JSON.parse(JSON.stringify(b)), b.fec = {
							ssrc: f,
							mechanism: c ? 'red+ulpfec' : 'red'
						}, a.push(b))
					}
				}), 0 === a.length && u && a.push({
					ssrc: u
				});
				var h = r.matchPrefix(n, 'b=');
				return h.length && (0 === h[0].indexOf('b=TIAS:') ? h = parseInt(h[0].substr(7), 10) : 0 === h[0].indexOf('b=AS:') && (h = parseInt(h[0].substr(5), 10)), a.forEach(function(y) {
					y.maxBitrate = h
				})), a
			}, r.parseRtcpParameters = function(n) {
				var a = {},
					o = r.matchPrefix(n, 'a=ssrc:').map(function(m) {
						return r.parseSsrcMedia(m)
					}).filter(function(m) {
						return 'cname' === m.attribute
					})[0];
				o && (a.cname = o.value, a.ssrc = o.ssrc);
				var s = r.matchPrefix(n, 'a=rtcp-rsize');
				a.reducedSize = 0 < s.length, a.compound = 0 === s.length;
				var c = r.matchPrefix(n, 'a=rtcp-mux');
				return a.mux = 0 < c.length, a
			}, r.parseMsid = function(n) {
				var a, o = r.matchPrefix(n, 'a=msid:');
				if (1 === o.length) return a = o[0].substr(7).split(' '), {
					stream: a[0],
					track: a[1]
				};
				var s = r.matchPrefix(n, 'a=ssrc:').map(function(c) {
					return r.parseSsrcMedia(c)
				}).filter(function(c) {
					return 'msid' === c.attribute
				});
				if (0 < s.length) return a = s[0].value.split(' '), {
					stream: a[0],
					track: a[1]
				}
			}, r.writeSessionBoilerplate = function() {
				return 'v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n'
			}, r.writeMediaSection = function(n, a, o, s) {
				var c = r.writeRtpDescription(n.kind, a);
				if (c += r.writeIceParameters(n.iceGatherer.getLocalParameters()), c += r.writeDtlsParameters(n.dtlsTransport.getLocalParameters(), 'offer' === o ? 'actpass' : 'active'), c += 'a=mid:' + n.mid + '\r\n', c += n.direction ? 'a=' + n.direction + '\r\n' : n.rtpSender && n.rtpReceiver ? 'a=sendrecv\r\n' : n.rtpSender ? 'a=sendonly\r\n' : n.rtpReceiver ? 'a=recvonly\r\n' : 'a=inactive\r\n', n.rtpSender) {
					var m = 'msid:' + s.id + ' ' + n.rtpSender.track.id + '\r\n';
					c += 'a=' + m, c += 'a=ssrc:' + n.sendEncodingParameters[0].ssrc + ' ' + m, n.sendEncodingParameters[0].rtx && (c += 'a=ssrc:' + n.sendEncodingParameters[0].rtx.ssrc + ' ' + m, c += 'a=ssrc-group:FID ' + n.sendEncodingParameters[0].ssrc + ' ' + n.sendEncodingParameters[0].rtx.ssrc + '\r\n')
				}
				return c += 'a=ssrc:' + n.sendEncodingParameters[0].ssrc + ' cname:' + r.localCName + '\r\n', n.rtpSender && n.sendEncodingParameters[0].rtx && (c += 'a=ssrc:' + n.sendEncodingParameters[0].rtx.ssrc + ' cname:' + r.localCName + '\r\n'), c
			}, r.getDirection = function(n, a) {
				for (var o = r.splitLines(n), s = 0; s < o.length; s++) switch (o[s]) {
					case 'a=sendrecv':
					case 'a=sendonly':
					case 'a=recvonly':
					case 'a=inactive':
						return o[s].substr(2);
					default:
				}
				return a ? r.getDirection(a) : 'sendrecv'
			}, r.getKind = function(n) {
				var a = r.splitLines(n),
					o = a[0].split(' ');
				return o[0].substr(2)
			}, r.isRejected = function(n) {
				return '0' === n.split(' ', 2)[1]
			}, t.exports = r
		}, {}],
		2: [function(e, t) {
			(function(r) {
				'use strict';
				var n = e('./adapter_factory.js');
				t.exports = n({
					window: r.window
				})
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./adapter_factory.js': 3
		}],
		3: [function(e, t) {
			'use strict';
			t.exports = function(r) {
				var n = r && r.window,
					a = e('./utils'),
					o = a.log,
					s = a.detectBrowser(n),
					c = {
						browserDetails: s,
						extractVersion: a.extractVersion,
						disableLog: a.disableLog
					},
					m = e('./chrome/chrome_shim') || null,
					u = e('./edge/edge_shim') || null,
					g = e('./firefox/firefox_shim') || null,
					f = e('./safari/safari_shim') || null;
				switch (s.browser) {
					case 'chrome':
						if (!m || !m.shimPeerConnection) return o('Chrome shim is not included in this adapter release.'), c;
						o('adapter.js shimming chrome.'), c.browserShim = m, m.shimGetUserMedia(n), m.shimMediaStream(n), a.shimCreateObjectURL(n), m.shimSourceObject(n), m.shimPeerConnection(n), m.shimOnTrack(n), m.shimGetSendersWithDtmf(n);
						break;
					case 'firefox':
						if (!g || !g.shimPeerConnection) return o('Firefox shim is not included in this adapter release.'), c;
						o('adapter.js shimming firefox.'), c.browserShim = g, g.shimGetUserMedia(n), a.shimCreateObjectURL(n), g.shimSourceObject(n), g.shimPeerConnection(n), g.shimOnTrack(n);
						break;
					case 'edge':
						if (!u || !u.shimPeerConnection) return o('MS edge shim is not included in this adapter release.'), c;
						o('adapter.js shimming edge.'), c.browserShim = u, u.shimGetUserMedia(n), a.shimCreateObjectURL(n), u.shimPeerConnection(n), u.shimReplaceTrack(n);
						break;
					case 'safari':
						if (!f) return o('Safari shim is not included in this adapter release.'), c;
						o('adapter.js shimming safari.'), c.browserShim = f, f.shimCallbacksAPI(n), f.shimAddStream(n), f.shimOnAddStream(n), f.shimGetUserMedia(n);
						break;
					default:
						o('Unsupported browser!');
				}
				return c
			}
		}, {
			'./chrome/chrome_shim': 4,
			'./edge/edge_shim': 6,
			'./firefox/firefox_shim': 9,
			'./safari/safari_shim': 11,
			'./utils': 12
		}],
		4: [function(e, t) {
			'use strict';
			var r = e('../utils.js'),
				n = r.log,
				a = {
					shimMediaStream: function(o) {
						o.MediaStream = o.MediaStream || o.webkitMediaStream
					},
					shimOnTrack: function(o) {
						'object' == typeof o && o.RTCPeerConnection && !('ontrack' in o.RTCPeerConnection.prototype) && Object.defineProperty(o.RTCPeerConnection.prototype, 'ontrack', {
							get: function() {
								return this._ontrack
							},
							set: function(s) {
								var c = this;
								this._ontrack && (this.removeEventListener('track', this._ontrack), this.removeEventListener('addstream', this._ontrackpoly)), this.addEventListener('track', this._ontrack = s), this.addEventListener('addstream', this._ontrackpoly = function(m) {
									m.stream.addEventListener('addtrack', function(u) {
										var g = o.RTCPeerConnection.prototype.getReceivers ? c.getReceivers().find(function(h) {
												return h.track.id === u.track.id
											}) : {
												track: u.track
											},
											f = new Event('track');
										f.track = u.track, f.receiver = g, f.streams = [m.stream], c.dispatchEvent(f)
									}), m.stream.getTracks().forEach(function(u) {
										var g = o.RTCPeerConnection.prototype.getReceivers ? c.getReceivers().find(function(h) {
												return h.track.id === u.id
											}) : {
												track: u
											},
											f = new Event('track');
										f.track = u, f.receiver = g, f.streams = [m.stream], this.dispatchEvent(f)
									}.bind(this))
								}.bind(this))
							}
						})
					},
					shimGetSendersWithDtmf: function(o) {
						if ('object' == typeof o && o.RTCPeerConnection && !('getSenders' in o.RTCPeerConnection.prototype) && 'createDTMFSender' in o.RTCPeerConnection.prototype) {
							o.RTCPeerConnection.prototype.getSenders = function() {
								return this._senders || []
							};
							var s = o.RTCPeerConnection.prototype.addStream,
								c = o.RTCPeerConnection.prototype.removeStream;
							o.RTCPeerConnection.prototype.addTrack || (o.RTCPeerConnection.prototype.addTrack = function(m, u) {
								var g = this;
								if ('closed' === g.signalingState) throw new DOMException('The RTCPeerConnection\'s signalingState is \'closed\'.', 'InvalidStateError');
								var f = [].slice.call(arguments, 1);
								if (1 !== f.length || !f[0].getTracks().find(function(k) {
										return k === m
									})) throw new DOMException('The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.', 'NotSupportedError');
								g._senders = g._senders || [];
								var h = g._senders.find(function(k) {
									return k.track === m
								});
								if (h) throw new DOMException('Track already exists.', 'InvalidAccessError');
								g._streams = g._streams || {};
								var y = g._streams[u.id];
								if (y) y.addTrack(m), g.removeStream(y), g.addStream(y);
								else {
									var b = new o.MediaStream([m]);
									g._streams[u.id] = b, g.addStream(b)
								}
								var v = {
									track: m,
									get dtmf() {
										return void 0 === this._dtmf && ('audio' === m.kind ? this._dtmf = g.createDTMFSender(m) : this._dtmf = null), this._dtmf
									}
								};
								return g._senders.push(v), v
							}), o.RTCPeerConnection.prototype.addStream = function(m) {
								var u = this;
								u._senders = u._senders || [], s.apply(u, [m]), m.getTracks().forEach(function(g) {
									u._senders.push({
										track: g,
										get dtmf() {
											return void 0 === this._dtmf && ('audio' === g.kind ? this._dtmf = u.createDTMFSender(g) : this._dtmf = null), this._dtmf
										}
									})
								})
							}, o.RTCPeerConnection.prototype.removeStream = function(m) {
								var u = this;
								u._senders = u._senders || [], c.apply(u, [m]), m.getTracks().forEach(function(g) {
									var f = u._senders.find(function(h) {
										return h.track === g
									});
									f && u._senders.splice(u._senders.indexOf(f), 1)
								})
							}
						}
					},
					shimSourceObject: function(o) {
						var s = o && o.URL;
						'object' == typeof o && o.HTMLMediaElement && !('srcObject' in o.HTMLMediaElement.prototype) && Object.defineProperty(o.HTMLMediaElement.prototype, 'srcObject', {
							get: function() {
								return this._srcObject
							},
							set: function(c) {
								var m = this;
								return this._srcObject = c, this.src && s.revokeObjectURL(this.src), c ? void(this.src = s.createObjectURL(c), c.addEventListener('addtrack', function() {
									m.src && s.revokeObjectURL(m.src), m.src = s.createObjectURL(c)
								}), c.addEventListener('removetrack', function() {
									m.src && s.revokeObjectURL(m.src), m.src = s.createObjectURL(c)
								})) : (this.src = '', void 0)
							}
						})
					},
					shimPeerConnection: function(o) {
						var s = r.detectBrowser(o);
						if (!o.RTCPeerConnection) o.RTCPeerConnection = function(g, f) {
							return n('PeerConnection'), g && g.iceTransportPolicy && (g.iceTransports = g.iceTransportPolicy), new o.webkitRTCPeerConnection(g, f)
						}, o.RTCPeerConnection.prototype = o.webkitRTCPeerConnection.prototype, o.webkitRTCPeerConnection.generateCertificate && Object.defineProperty(o.RTCPeerConnection, 'generateCertificate', {
							get: function() {
								return o.webkitRTCPeerConnection.generateCertificate
							}
						});
						else {
							var c = o.RTCPeerConnection;
							o.RTCPeerConnection = function(g, f) {
								if (g && g.iceServers) {
									for (var b, h = [], y = 0; y < g.iceServers.length; y++) b = g.iceServers[y], !b.hasOwnProperty('urls') && b.hasOwnProperty('url') ? (console.warn('RTCIceServer.url is deprecated! Use urls instead.'), b = JSON.parse(JSON.stringify(b)), b.urls = b.url, h.push(b)) : h.push(g.iceServers[y]);
									g.iceServers = h
								}
								return new c(g, f)
							}, o.RTCPeerConnection.prototype = c.prototype, Object.defineProperty(o.RTCPeerConnection, 'generateCertificate', {
								get: function() {
									return c.generateCertificate
								}
							})
						}
						var m = o.RTCPeerConnection.prototype.getStats;
						o.RTCPeerConnection.prototype.getStats = function(g, f, h) {
							var y = this,
								b = arguments;
							if (0 < arguments.length && 'function' == typeof g) return m.apply(this, arguments);
							if (0 === m.length && (0 === arguments.length || 'function' != typeof arguments[0])) return m.apply(this, []);
							var v = function(T) {
									var _ = {},
										j = T.result();
									return j.forEach(function(O) {
										var L = {
											id: O.id,
											timestamp: O.timestamp,
											type: {
												localcandidate: 'local-candidate',
												remotecandidate: 'remote-candidate'
											}[O.type] || O.type
										};
										O.names().forEach(function(ee) {
											L[ee] = O.stat(ee)
										}), _[L.id] = L
									}), _
								},
								k = function(T) {
									return new Map(Object.keys(T).map(function(_) {
										return [_, T[_]]
									}))
								};
							if (2 <= arguments.length) {
								var w = function(T) {
									b[1](k(v(T)))
								};
								return m.apply(this, [w, arguments[0]])
							}
							return new Promise(function(T, _) {
								m.apply(y, [function(j) {
									T(k(v(j)))
								}, _])
							}).then(f, h)
						}, 51 > s.version && ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(g) {
							var f = o.RTCPeerConnection.prototype[g];
							o.RTCPeerConnection.prototype[g] = function() {
								var h = arguments,
									y = this,
									b = new Promise(function(v, k) {
										f.apply(y, [h[0], v, k])
									});
								return 2 > h.length ? b : b.then(function() {
									h[1].apply(null, [])
								}, function(v) {
									3 <= h.length && h[2].apply(null, [v])
								})
							}
						}), 52 > s.version && ['createOffer', 'createAnswer'].forEach(function(g) {
							var f = o.RTCPeerConnection.prototype[g];
							o.RTCPeerConnection.prototype[g] = function() {
								var h = this;
								if (1 > arguments.length || 1 === arguments.length && 'object' == typeof arguments[0]) {
									var y = 1 === arguments.length ? arguments[0] : void 0;
									return new Promise(function(b, v) {
										f.apply(h, [b, v, y])
									})
								}
								return f.apply(this, arguments)
							}
						}), ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(g) {
							var f = o.RTCPeerConnection.prototype[g];
							o.RTCPeerConnection.prototype[g] = function() {
								return arguments[0] = new('addIceCandidate' === g ? o.RTCIceCandidate : o.RTCSessionDescription)(arguments[0]), f.apply(this, arguments)
							}
						});
						var u = o.RTCPeerConnection.prototype.addIceCandidate;
						o.RTCPeerConnection.prototype.addIceCandidate = function() {
							return arguments[0] ? u.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve())
						}
					}
				};
			t.exports = {
				shimMediaStream: a.shimMediaStream,
				shimOnTrack: a.shimOnTrack,
				shimGetSendersWithDtmf: a.shimGetSendersWithDtmf,
				shimSourceObject: a.shimSourceObject,
				shimPeerConnection: a.shimPeerConnection,
				shimGetUserMedia: e('./getusermedia')
			}
		}, {
			'../utils.js': 12,
			'./getusermedia': 5
		}],
		5: [function(e, t) {
			'use strict';
			var r = e('../utils.js'),
				n = r.log;
			t.exports = function(a) {
				var o = r.detectBrowser(a),
					s = a && a.navigator,
					c = function(h) {
						if ('object' != typeof h || h.mandatory || h.optional) return h;
						var y = {};
						return Object.keys(h).forEach(function(b) {
							if ('require' !== b && 'advanced' !== b && 'mediaSource' !== b) {
								var v = 'object' == typeof h[b] ? h[b] : {
									ideal: h[b]
								};
								void 0 !== v.exact && 'number' == typeof v.exact && (v.min = v.max = v.exact);
								var k = function(T, _) {
									return T ? T + _.charAt(0).toUpperCase() + _.slice(1) : 'deviceId' === _ ? 'sourceId' : _
								};
								if (void 0 !== v.ideal) {
									y.optional = y.optional || [];
									var w = {};
									'number' == typeof v.ideal ? (w[k('min', b)] = v.ideal, y.optional.push(w), w = {}, w[k('max', b)] = v.ideal, y.optional.push(w)) : (w[k('', b)] = v.ideal, y.optional.push(w))
								}
								void 0 !== v.exact && 'number' != typeof v.exact ? (y.mandatory = y.mandatory || {}, y.mandatory[k('', b)] = v.exact) : ['min', 'max'].forEach(function(T) {
									void 0 !== v[T] && (y.mandatory = y.mandatory || {}, y.mandatory[k(T, b)] = v[T])
								})
							}
						}), h.advanced && (y.optional = (y.optional || []).concat(h.advanced)), y
					},
					m = function(h, y) {
						if (h = JSON.parse(JSON.stringify(h)), h && 'object' == typeof h.audio) {
							var b = function(T, _, j) {
								_ in T && !(j in T) && (T[j] = T[_], delete T[_])
							};
							h = JSON.parse(JSON.stringify(h)), b(h.audio, 'autoGainControl', 'googAutoGainControl'), b(h.audio, 'noiseSuppression', 'googNoiseSuppression'), h.audio = c(h.audio)
						}
						if (h && 'object' == typeof h.video) {
							var v = h.video.facingMode;
							v = v && ('object' == typeof v ? v : {
								ideal: v
							});
							var k = 61 > o.version;
							if (v && ('user' === v.exact || 'environment' === v.exact || 'user' === v.ideal || 'environment' === v.ideal) && !(s.mediaDevices.getSupportedConstraints && s.mediaDevices.getSupportedConstraints().facingMode && !k)) {
								delete h.video.facingMode;
								var w;
								if ('environment' === v.exact || 'environment' === v.ideal ? w = ['back', 'rear'] : ('user' === v.exact || 'user' === v.ideal) && (w = ['front']), w) return s.mediaDevices.enumerateDevices().then(function(T) {
									T = T.filter(function(j) {
										return 'videoinput' === j.kind
									});
									var _ = T.find(function(j) {
										return w.some(function(O) {
											return -1 !== j.label.toLowerCase().indexOf(O)
										})
									});
									return !_ && T.length && -1 !== w.indexOf('back') && (_ = T[T.length - 1]), _ && (h.video.deviceId = v.exact ? {
										exact: _.deviceId
									} : {
										ideal: _.deviceId
									}), h.video = c(h.video), n('chrome: ' + JSON.stringify(h)), y(h)
								})
							}
							h.video = c(h.video)
						}
						return n('chrome: ' + JSON.stringify(h)), y(h)
					},
					u = function(h) {
						return {
							name: {
								PermissionDeniedError: 'NotAllowedError',
								InvalidStateError: 'NotReadableError',
								DevicesNotFoundError: 'NotFoundError',
								ConstraintNotSatisfiedError: 'OverconstrainedError',
								TrackStartError: 'NotReadableError',
								MediaDeviceFailedDueToShutdown: 'NotReadableError',
								MediaDeviceKillSwitchOn: 'NotReadableError'
							}[h.name] || h.name,
							message: h.message,
							constraint: h.constraintName,
							toString: function() {
								return this.name + (this.message && ': ') + this.message
							}
						}
					};
				s.getUserMedia = function(h, y, b) {
					m(h, function(v) {
						s.webkitGetUserMedia(v, y, function(k) {
							b(u(k))
						})
					})
				};
				var g = function(h) {
					return new Promise(function(y, b) {
						s.getUserMedia(h, y, b)
					})
				};
				if (s.mediaDevices || (s.mediaDevices = {
						getUserMedia: g,
						enumerateDevices: function() {
							return new Promise(function(h) {
								var y = {
									audio: 'audioinput',
									video: 'videoinput'
								};
								return a.MediaStreamTrack.getSources(function(b) {
									h(b.map(function(v) {
										return {
											label: v.label,
											kind: y[v.kind],
											deviceId: v.id,
											groupId: ''
										}
									}))
								})
							})
						},
						getSupportedConstraints: function() {
							return {
								deviceId: !0,
								echoCancellation: !0,
								facingMode: !0,
								frameRate: !0,
								height: !0,
								width: !0
							}
						}
					}), !s.mediaDevices.getUserMedia) s.mediaDevices.getUserMedia = function(h) {
					return g(h)
				};
				else {
					var f = s.mediaDevices.getUserMedia.bind(s.mediaDevices);
					s.mediaDevices.getUserMedia = function(h) {
						return m(h, function(y) {
							return f(y).then(function(b) {
								if (y.audio && !b.getAudioTracks().length || y.video && !b.getVideoTracks().length) throw b.getTracks().forEach(function(v) {
									v.stop()
								}), new DOMException('', 'NotFoundError');
								return b
							}, function(b) {
								return Promise.reject(u(b))
							})
						})
					}
				}
				'undefined' == typeof s.mediaDevices.addEventListener && (s.mediaDevices.addEventListener = function() {
					n('Dummy mediaDevices.addEventListener called.')
				}), 'undefined' == typeof s.mediaDevices.removeEventListener && (s.mediaDevices.removeEventListener = function() {
					n('Dummy mediaDevices.removeEventListener called.')
				})
			}
		}, {
			'../utils.js': 12
		}],
		6: [function(e, t) {
			'use strict';
			var r = e('../utils'),
				n = e('./rtcpeerconnection_shim');
			t.exports = {
				shimGetUserMedia: e('./getusermedia'),
				shimPeerConnection: function(a) {
					var o = r.detectBrowser(a);
					if (a.RTCIceGatherer && (a.RTCIceCandidate || (a.RTCIceCandidate = function(c) {
							return c
						}), a.RTCSessionDescription || (a.RTCSessionDescription = function(c) {
							return c
						}), 15025 > o.version)) {
						var s = Object.getOwnPropertyDescriptor(a.MediaStreamTrack.prototype, 'enabled');
						Object.defineProperty(a.MediaStreamTrack.prototype, 'enabled', {
							set: function(c) {
								s.set.call(this, c);
								var m = new Event('enabled');
								m.enabled = c, this.dispatchEvent(m)
							}
						})
					}
					a.RTCPeerConnection = n(a, o.version)
				},
				shimReplaceTrack: function(a) {
					a.RTCRtpSender && !('replaceTrack' in a.RTCRtpSender.prototype) && (a.RTCRtpSender.prototype.replaceTrack = a.RTCRtpSender.prototype.setTrack)
				}
			}
		}, {
			'../utils': 12,
			'./getusermedia': 7,
			'./rtcpeerconnection_shim': 8
		}],
		7: [function(e, t) {
			'use strict';
			t.exports = function(r) {
				var n = r && r.navigator,
					a = function(s) {
						return {
							name: {
								PermissionDeniedError: 'NotAllowedError'
							}[s.name] || s.name,
							message: s.message,
							constraint: s.constraint,
							toString: function() {
								return this.name
							}
						}
					},
					o = n.mediaDevices.getUserMedia.bind(n.mediaDevices);
				n.mediaDevices.getUserMedia = function(s) {
					return o(s).catch(function(c) {
						return Promise.reject(a(c))
					})
				}
			}
		}, {}],
		8: [function(e, t) {
			'use strict';

			function r(c) {
				var m = c.filter(function(g) {
						return 'audio' === g.kind
					}),
					u = c.filter(function(g) {
						return 'video' === g.kind
					});
				for (c = []; m.length || u.length;) m.length && c.push(m.shift()), u.length && c.push(u.shift());
				return c
			}

			function n(c, m) {
				var u = !1;
				return c = JSON.parse(JSON.stringify(c)), c.filter(function(g) {
					if (g && (g.urls || g.url)) {
						var f = g.urls || g.url;
						g.url && !g.urls && console.warn('RTCIceServer.url is deprecated! Use urls instead.');
						var h = 'string' == typeof f;
						return h && (f = [f]), f = f.filter(function(y) {
							var b = 0 === y.indexOf('turn:') && -1 !== y.indexOf('transport=udp') && -1 === y.indexOf('turn:[') && !u;
							return b ? (u = !0, !0) : 0 === y.indexOf('stun:') && 14393 <= m
						}), delete g.url, g.urls = h ? f[0] : f, !!f.length
					}
					return !1
				})
			}

			function a(c, m) {
				var u = {
						codecs: [],
						headerExtensions: [],
						fecMechanisms: []
					},
					g = function(h, y) {
						h = parseInt(h, 10);
						for (var b = 0; b < y.length; b++)
							if (y[b].payloadType === h || y[b].preferredPayloadType === h) return y[b]
					},
					f = function(h, y, b, v) {
						var k = g(h.parameters.apt, b),
							w = g(y.parameters.apt, v);
						return k && w && k.name.toLowerCase() === w.name.toLowerCase()
					};
				return c.codecs.forEach(function(h) {
					for (var b, y = 0; y < m.codecs.length; y++)
						if (b = m.codecs[y], h.name.toLowerCase() === b.name.toLowerCase() && h.clockRate === b.clockRate) {
							if ('rtx' === h.name.toLowerCase() && h.parameters && b.parameters.apt && !f(h, b, c.codecs, m.codecs)) continue;
							b = JSON.parse(JSON.stringify(b)), b.numChannels = Math.min(h.numChannels, b.numChannels), u.codecs.push(b), b.rtcpFeedback = b.rtcpFeedback.filter(function(v) {
								for (var k = 0; k < h.rtcpFeedback.length; k++)
									if (h.rtcpFeedback[k].type === v.type && h.rtcpFeedback[k].parameter === v.parameter) return !0;
								return !1
							});
							break
						}
				}), c.headerExtensions.forEach(function(h) {
					for (var b, y = 0; y < m.headerExtensions.length; y++)
						if (b = m.headerExtensions[y], h.uri === b.uri) {
							u.headerExtensions.push(b);
							break
						}
				}), u
			}

			function o(c, m, u) {
				return -1 !== {
					offer: {
						setLocalDescription: ['stable', 'have-local-offer'],
						setRemoteDescription: ['stable', 'have-remote-offer']
					},
					answer: {
						setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],
						setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']
					}
				}[m][c].indexOf(u)
			}
			var s = e('sdp');
			t.exports = function(c, m) {
				var u = function(g) {
					var f = this,
						h = document.createDocumentFragment();
					if (['addEventListener', 'removeEventListener', 'dispatchEvent'].forEach(function(y) {
							f[y] = h[y].bind(h)
						}), this.needNegotiation = !1, this.onicecandidate = null, this.onaddstream = null, this.ontrack = null, this.onremovestream = null, this.onsignalingstatechange = null, this.oniceconnectionstatechange = null, this.onicegatheringstatechange = null, this.onnegotiationneeded = null, this.ondatachannel = null, this.canTrickleIceCandidates = null, this.localStreams = [], this.remoteStreams = [], this.getLocalStreams = function() {
							return f.localStreams
						}, this.getRemoteStreams = function() {
							return f.remoteStreams
						}, this.localDescription = new c.RTCSessionDescription({
							type: '',
							sdp: ''
						}), this.remoteDescription = new c.RTCSessionDescription({
							type: '',
							sdp: ''
						}), this.signalingState = 'stable', this.iceConnectionState = 'new', this.iceGatheringState = 'new', this.iceOptions = {
							gatherPolicy: 'all',
							iceServers: []
						}, g && g.iceTransportPolicy) switch (g.iceTransportPolicy) {
						case 'all':
						case 'relay':
							this.iceOptions.gatherPolicy = g.iceTransportPolicy;
							break;
						default:
					}
					this.usingBundle = g && 'max-bundle' === g.bundlePolicy, g && g.iceServers && (this.iceOptions.iceServers = n(g.iceServers, m)), this._config = g || {}, this.transceivers = [], this._localIceCandidatesBuffer = []
				};
				return u.prototype._emitGatheringStateChange = function() {
					var g = new Event('icegatheringstatechange');
					this.dispatchEvent(g), null !== this.onicegatheringstatechange && this.onicegatheringstatechange(g)
				}, u.prototype._emitBufferedCandidates = function() {
					var g = this,
						f = s.splitSections(g.localDescription.sdp);
					this._localIceCandidatesBuffer.forEach(function(h) {
						var y = !h.candidate || 0 === Object.keys(h.candidate).length;
						if (y)
							for (var b = 1; b < f.length; b++) - 1 === f[b].indexOf('\r\na=end-of-candidates\r\n') && (f[b] += 'a=end-of-candidates\r\n');
						else f[h.candidate.sdpMLineIndex + 1] += 'a=' + h.candidate.candidate + '\r\n';
						if (g.localDescription.sdp = f.join(''), g.dispatchEvent(h), null !== g.onicecandidate && g.onicecandidate(h), !h.candidate && 'complete' !== g.iceGatheringState) {
							var v = g.transceivers.every(function(k) {
								return k.iceGatherer && 'completed' === k.iceGatherer.state
							});
							v && 'complete' !== g.iceGatheringStateChange && (g.iceGatheringState = 'complete', g._emitGatheringStateChange())
						}
					}), this._localIceCandidatesBuffer = []
				}, u.prototype.getConfiguration = function() {
					return this._config
				}, u.prototype._createTransceiver = function(g) {
					var f = 0 < this.transceivers.length,
						h = {
							track: null,
							iceGatherer: null,
							iceTransport: null,
							dtlsTransport: null,
							localCapabilities: null,
							remoteCapabilities: null,
							rtpSender: null,
							rtpReceiver: null,
							kind: g,
							mid: null,
							sendEncodingParameters: null,
							recvEncodingParameters: null,
							stream: null,
							wantReceive: !0
						};
					if (this.usingBundle && f) h.iceTransport = this.transceivers[0].iceTransport, h.dtlsTransport = this.transceivers[0].dtlsTransport;
					else {
						var y = this._createIceAndDtlsTransports();
						h.iceTransport = y.iceTransport, h.dtlsTransport = y.dtlsTransport
					}
					return this.transceivers.push(h), h
				}, u.prototype.addTrack = function(g, f) {
					for (var y, h = 0; h < this.transceivers.length; h++) this.transceivers[h].track || this.transceivers[h].kind !== g.kind || (y = this.transceivers[h]);
					return y || (y = this._createTransceiver(g.kind)), y.track = g, y.stream = f, y.rtpSender = new c.RTCRtpSender(g, y.dtlsTransport), this._maybeFireNegotiationNeeded(), y.rtpSender
				}, u.prototype.addStream = function(g) {
					var f = this;
					if (15025 <= m) this.localStreams.push(g), g.getTracks().forEach(function(y) {
						f.addTrack(y, g)
					});
					else {
						var h = g.clone();
						g.getTracks().forEach(function(y, b) {
							var v = h.getTracks()[b];
							y.addEventListener('enabled', function(k) {
								v.enabled = k.enabled
							})
						}), h.getTracks().forEach(function(y) {
							f.addTrack(y, h)
						}), this.localStreams.push(h)
					}
					this._maybeFireNegotiationNeeded()
				}, u.prototype.removeStream = function(g) {
					var f = this.localStreams.indexOf(g); - 1 < f && (this.localStreams.splice(f, 1), this._maybeFireNegotiationNeeded())
				}, u.prototype.getSenders = function() {
					return this.transceivers.filter(function(g) {
						return !!g.rtpSender
					}).map(function(g) {
						return g.rtpSender
					})
				}, u.prototype.getReceivers = function() {
					return this.transceivers.filter(function(g) {
						return !!g.rtpReceiver
					}).map(function(g) {
						return g.rtpReceiver
					})
				}, u.prototype._createIceGatherer = function(g, f) {
					var h = this,
						y = new c.RTCIceGatherer(h.iceOptions);
					return y.onlocalcandidate = function(b) {
						var v = new Event('icecandidate');
						v.candidate = {
							sdpMid: g,
							sdpMLineIndex: f
						};
						var k = b.candidate,
							w = !k || 0 === Object.keys(k).length;
						w ? void 0 === y.state && (y.state = 'completed') : (k.component = 1, v.candidate.candidate = s.writeCandidate(k));
						var T = s.splitSections(h.localDescription.sdp);
						T[v.candidate.sdpMLineIndex + 1] += w ? 'a=end-of-candidates\r\n' : 'a=' + v.candidate.candidate + '\r\n', h.localDescription.sdp = T.join('');
						var _ = h._pendingOffer ? h._pendingOffer : h.transceivers,
							j = _.every(function(O) {
								return O.iceGatherer && 'completed' === O.iceGatherer.state
							});
						switch (h.iceGatheringState) {
							case 'new':
								w || h._localIceCandidatesBuffer.push(v), w && j && h._localIceCandidatesBuffer.push(new Event('icecandidate'));
								break;
							case 'gathering':
								h._emitBufferedCandidates(), w || (h.dispatchEvent(v), null !== h.onicecandidate && h.onicecandidate(v)), j && (h.dispatchEvent(new Event('icecandidate')), null !== h.onicecandidate && h.onicecandidate(new Event('icecandidate')), h.iceGatheringState = 'complete', h._emitGatheringStateChange());
								break;
							case 'complete':
								break;
							default:
						}
					}, y
				}, u.prototype._createIceAndDtlsTransports = function() {
					var g = this,
						f = new c.RTCIceTransport(null);
					f.onicestatechange = function() {
						g._updateConnectionState()
					};
					var h = new c.RTCDtlsTransport(f);
					return h.ondtlsstatechange = function() {
						g._updateConnectionState()
					}, h.onerror = function() {
						Object.defineProperty(h, 'state', {
							value: 'failed',
							writable: !0
						}), g._updateConnectionState()
					}, {
						iceTransport: f,
						dtlsTransport: h
					}
				}, u.prototype._disposeIceAndDtlsTransports = function(g) {
					var f = this.transceivers[g].iceGatherer;
					f && (delete f.onlocalcandidate, delete this.transceivers[g].iceGatherer);
					var h = this.transceivers[g].iceTransport;
					h && (delete h.onicestatechange, delete this.transceivers[g].iceTransport);
					var y = this.transceivers[g].dtlsTransport;
					y && (delete y.ondtlssttatechange, delete y.onerror, delete this.transceivers[g].dtlsTransport)
				}, u.prototype._transceive = function(g, f, h) {
					var y = a(g.localCapabilities, g.remoteCapabilities);
					f && g.rtpSender && (y.encodings = g.sendEncodingParameters, y.rtcp = {
						cname: s.localCName,
						compound: g.rtcpParameters.compound
					}, g.recvEncodingParameters.length && (y.rtcp.ssrc = g.recvEncodingParameters[0].ssrc), g.rtpSender.send(y)), h && g.rtpReceiver && ('video' === g.kind && g.recvEncodingParameters && 15019 > m && g.recvEncodingParameters.forEach(function(b) {
						delete b.rtx
					}), y.encodings = g.recvEncodingParameters, y.rtcp = {
						cname: g.rtcpParameters.cname,
						compound: g.rtcpParameters.compound
					}, g.sendEncodingParameters.length && (y.rtcp.ssrc = g.sendEncodingParameters[0].ssrc), g.rtpReceiver.receive(y))
				}, u.prototype.setLocalDescription = function(g) {
					var f = this;
					if (!o('setLocalDescription', g.type, this.signalingState)) {
						var h = new Error('Can not set local ' + g.type + ' in state ' + this.signalingState);
						return h.name = 'InvalidStateError', 2 < arguments.length && 'function' == typeof arguments[2] && c.setTimeout(arguments[2], 0, h), Promise.reject(h)
					}
					var y, b;
					if ('offer' === g.type) this._pendingOffer && (y = s.splitSections(g.sdp), b = y.shift(), y.forEach(function(_, j) {
						var O = s.parseRtpParameters(_);
						f._pendingOffer[j].localCapabilities = O
					}), this.transceivers = this._pendingOffer, delete this._pendingOffer);
					else if ('answer' === g.type) {
						y = s.splitSections(f.remoteDescription.sdp), b = y.shift();
						var v = 0 < s.matchPrefix(b, 'a=ice-lite').length;
						y.forEach(function(_, j) {
							var O = f.transceivers[j],
								L = O.iceGatherer,
								ee = O.iceTransport,
								te = O.dtlsTransport,
								re = O.localCapabilities,
								Ze = O.remoteCapabilities,
								rt = s.isRejected(_);
							if (!rt && !O.isDatachannel) {
								var ct = s.getIceParameters(_, b),
									pt = s.getDtlsParameters(_, b);
								v && (pt.role = 'server'), f.usingBundle && 0 !== j || (ee.start(L, ct, v ? 'controlling' : 'controlled'), te.start(pt));
								var lt = a(re, Ze);
								f._transceive(O, 0 < lt.codecs.length, !1)
							}
						})
					}
					switch (this.localDescription = {
						type: g.type,
						sdp: g.sdp
					}, g.type) {
						case 'offer':
							this._updateSignalingState('have-local-offer');
							break;
						case 'answer':
							this._updateSignalingState('stable');
							break;
						default:
							throw new TypeError('unsupported type "' + g.type + '"');
					}
					var k = 1 < arguments.length && 'function' == typeof arguments[1];
					if (k) {
						var w = arguments[1];
						c.setTimeout(function() {
							w(), 'new' === f.iceGatheringState && (f.iceGatheringState = 'gathering', f._emitGatheringStateChange()), f._emitBufferedCandidates()
						}, 0)
					}
					var T = Promise.resolve();
					return T.then(function() {
						k || ('new' === f.iceGatheringState && (f.iceGatheringState = 'gathering', f._emitGatheringStateChange()), c.setTimeout(f._emitBufferedCandidates.bind(f), 500))
					}), T
				}, u.prototype.setRemoteDescription = function(g) {
					var f = this;
					if (!o('setRemoteDescription', g.type, this.signalingState)) {
						var h = new Error('Can not set remote ' + g.type + ' in state ' + this.signalingState);
						return h.name = 'InvalidStateError', 2 < arguments.length && 'function' == typeof arguments[2] && c.setTimeout(arguments[2], 0, h), Promise.reject(h)
					}
					var y = {},
						b = [],
						v = s.splitSections(g.sdp),
						k = v.shift(),
						w = 0 < s.matchPrefix(k, 'a=ice-lite').length,
						T = 0 < s.matchPrefix(k, 'a=group:BUNDLE ').length;
					this.usingBundle = T;
					var _ = s.matchPrefix(k, 'a=ice-options:')[0];
					switch (this.canTrickleIceCandidates = !!_ && 0 <= _.substr(14).split(' ').indexOf('trickle'), v.forEach(function(j, O) {
						var L = s.splitLines(j),
							ee = s.getKind(j),
							te = s.isRejected(j),
							re = L[0].substr(2).split(' ')[2],
							Ze = s.getDirection(j, k),
							rt = s.parseMsid(j),
							ct = s.getMid(j) || s.generateIdentifier();
						if ('application' === ee && 'DTLS/SCTP' === re) return void(f.transceivers[O] = {
							mid: ct,
							isDatachannel: !0
						});
						var lt, ut, ht, yt, bt, Ct, er, ar, fr, rn, nn, pt = s.parseRtpParameters(j);
						te || (rn = s.getIceParameters(j, k), nn = s.getDtlsParameters(j, k), nn.role = 'client'), er = s.parseRtpEncodingParameters(j);
						var an = s.parseRtcpParameters(j),
							on = 0 < s.matchPrefix(j, 'a=end-of-candidates', k).length,
							sn = s.matchPrefix(j, 'a=candidate:').map(function(cn) {
								return s.parseCandidate(cn)
							}).filter(function(cn) {
								return '1' === cn.component || 1 === cn.component
							});
						('offer' === g.type || 'answer' === g.type) && !te && T && 0 < O && f.transceivers[O] && (f._disposeIceAndDtlsTransports(O), f.transceivers[O].iceGatherer = f.transceivers[0].iceGatherer, f.transceivers[O].iceTransport = f.transceivers[0].iceTransport, f.transceivers[O].dtlsTransport = f.transceivers[0].dtlsTransport, f.transceivers[O].rtpSender && f.transceivers[O].rtpSender.setTransport(f.transceivers[0].dtlsTransport), f.transceivers[O].rtpReceiver && f.transceivers[O].rtpReceiver.setTransport(f.transceivers[0].dtlsTransport)), 'offer' !== g.type || te ? 'answer' === g.type && !te && (lt = f.transceivers[O], ut = lt.iceGatherer, ht = lt.iceTransport, yt = lt.dtlsTransport, bt = lt.rtpReceiver, Ct = lt.sendEncodingParameters, ar = lt.localCapabilities, f.transceivers[O].recvEncodingParameters = er, f.transceivers[O].remoteCapabilities = pt, f.transceivers[O].rtcpParameters = an, (w || on) && sn.length && ht.setRemoteCandidates(sn), (!T || 0 === O) && (ht.start(ut, rn, 'controlling'), yt.start(nn)), f._transceive(lt, 'sendrecv' === Ze || 'recvonly' === Ze, 'sendrecv' === Ze || 'sendonly' === Ze), bt && ('sendrecv' === Ze || 'sendonly' === Ze) ? (fr = bt.track, rt ? (!y[rt.stream] && (y[rt.stream] = new c.MediaStream), y[rt.stream].addTrack(fr), b.push([fr, bt, y[rt.stream]])) : (!y.default && (y.default = new c.MediaStream), y.default.addTrack(fr), b.push([fr, bt, y.default]))) : delete lt.rtpReceiver) : (lt = f.transceivers[O] || f._createTransceiver(ee), lt.mid = ct, !lt.iceGatherer && (lt.iceGatherer = T && 0 < O ? f.transceivers[0].iceGatherer : f._createIceGatherer(ct, O)), on && (!T || 0 === O) && lt.iceTransport.setRemoteCandidates(sn), ar = c.RTCRtpReceiver.getCapabilities(ee), 15019 > m && (ar.codecs = ar.codecs.filter(function(cn) {
							return 'rtx' !== cn.name
						})), Ct = [{
							ssrc: 1001 * (2 * O + 2)
						}], ('sendrecv' === Ze || 'sendonly' === Ze) && (bt = new c.RTCRtpReceiver(lt.dtlsTransport, ee), fr = bt.track, rt ? (!y[rt.stream] && (y[rt.stream] = new c.MediaStream, Object.defineProperty(y[rt.stream], 'id', {
							get: function() {
								return rt.stream
							}
						})), Object.defineProperty(fr, 'id', {
							get: function() {
								return rt.track
							}
						}), y[rt.stream].addTrack(fr), b.push([fr, bt, y[rt.stream]])) : (!y.default && (y.default = new c.MediaStream), y.default.addTrack(fr), b.push([fr, bt, y.default]))), lt.localCapabilities = ar, lt.remoteCapabilities = pt, lt.rtpReceiver = bt, lt.rtcpParameters = an, lt.sendEncodingParameters = Ct, lt.recvEncodingParameters = er, f._transceive(f.transceivers[O], !1, 'sendrecv' === Ze || 'sendonly' === Ze))
					}), this.remoteDescription = {
						type: g.type,
						sdp: g.sdp
					}, g.type) {
						case 'offer':
							this._updateSignalingState('have-remote-offer');
							break;
						case 'answer':
							this._updateSignalingState('stable');
							break;
						default:
							throw new TypeError('unsupported type "' + g.type + '"');
					}
					return Object.keys(y).forEach(function(j) {
						var O = y[j];
						if (O.getTracks().length) {
							f.remoteStreams.push(O);
							var L = new Event('addstream');
							L.stream = O, f.dispatchEvent(L), null !== f.onaddstream && c.setTimeout(function() {
								f.onaddstream(L)
							}, 0), b.forEach(function(ee) {
								var te = ee[0],
									re = ee[1];
								if (O.id === ee[2].id) {
									var Ze = new Event('track');
									Ze.track = te, Ze.receiver = re, Ze.streams = [O], f.dispatchEvent(Ze), null !== f.ontrack && c.setTimeout(function() {
										f.ontrack(Ze)
									}, 0)
								}
							})
						}
					}), c.setTimeout(function() {
						f && f.transceivers && f.transceivers.forEach(function(j) {
							j.iceTransport && 'new' === j.iceTransport.state && 0 < j.iceTransport.getRemoteCandidates().length && (console.warn('Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification'), j.iceTransport.addRemoteCandidate({}))
						})
					}, 4e3), 1 < arguments.length && 'function' == typeof arguments[1] && c.setTimeout(arguments[1], 0), Promise.resolve()
				}, u.prototype.close = function() {
					this.transceivers.forEach(function(g) {
						g.iceTransport && g.iceTransport.stop(), g.dtlsTransport && g.dtlsTransport.stop(), g.rtpSender && g.rtpSender.stop(), g.rtpReceiver && g.rtpReceiver.stop()
					}), this._updateSignalingState('closed')
				}, u.prototype._updateSignalingState = function(g) {
					this.signalingState = g;
					var f = new Event('signalingstatechange');
					this.dispatchEvent(f), null !== this.onsignalingstatechange && this.onsignalingstatechange(f)
				}, u.prototype._maybeFireNegotiationNeeded = function() {
					var g = this;
					'stable' !== this.signalingState || !0 === this.needNegotiation || (this.needNegotiation = !0, c.setTimeout(function() {
						if (!1 !== g.needNegotiation) {
							g.needNegotiation = !1;
							var f = new Event('negotiationneeded');
							g.dispatchEvent(f), null !== g.onnegotiationneeded && g.onnegotiationneeded(f)
						}
					}, 0))
				}, u.prototype._updateConnectionState = function() {
					var h, g = this,
						f = {
							'new': 0,
							closed: 0,
							connecting: 0,
							checking: 0,
							connected: 0,
							completed: 0,
							disconnected: 0,
							failed: 0
						};
					if (this.transceivers.forEach(function(b) {
							f[b.iceTransport.state]++, f[b.dtlsTransport.state]++
						}), f.connected += f.completed, h = 'new', 0 < f.failed ? h = 'failed' : 0 < f.connecting || 0 < f.checking ? h = 'connecting' : 0 < f.disconnected ? h = 'disconnected' : 0 < f.new ? h = 'new' : (0 < f.connected || 0 < f.completed) && (h = 'connected'), h !== g.iceConnectionState) {
						g.iceConnectionState = h;
						var y = new Event('iceconnectionstatechange');
						this.dispatchEvent(y), null !== this.oniceconnectionstatechange && this.oniceconnectionstatechange(y)
					}
				}, u.prototype.createOffer = function() {
					var g = this;
					if (this._pendingOffer) throw new Error('createOffer called while there is a pending offer.');
					var f;
					1 === arguments.length && 'function' != typeof arguments[0] ? f = arguments[0] : 3 === arguments.length && (f = arguments[2]);
					var h = this.transceivers.filter(function(w) {
							return 'audio' === w.kind
						}).length,
						y = this.transceivers.filter(function(w) {
							return 'video' === w.kind
						}).length;
					if (f) {
						if (f.mandatory || f.optional) throw new TypeError('Legacy mandatory/optional constraints not supported.');
						void 0 !== f.offerToReceiveAudio && (!0 === f.offerToReceiveAudio ? h = 1 : !1 === f.offerToReceiveAudio ? h = 0 : h = f.offerToReceiveAudio), void 0 !== f.offerToReceiveVideo && (!0 === f.offerToReceiveVideo ? y = 1 : !1 === f.offerToReceiveVideo ? y = 0 : y = f.offerToReceiveVideo)
					}
					for (this.transceivers.forEach(function(w) {
							'audio' === w.kind ? (h--, 0 > h && (w.wantReceive = !1)) : 'video' === w.kind && (y--, 0 > y && (w.wantReceive = !1))
						}); 0 < h || 0 < y;) 0 < h && (this._createTransceiver('audio'), h--), 0 < y && (this._createTransceiver('video'), y--);
					var b = r(this.transceivers),
						v = s.writeSessionBoilerplate();
					b.forEach(function(w, T) {
						var _ = w.track,
							j = w.kind,
							O = s.generateIdentifier();
						w.mid = O, w.iceGatherer || (w.iceGatherer = g.usingBundle && 0 < T ? b[0].iceGatherer : g._createIceGatherer(O, T));
						var L = c.RTCRtpSender.getCapabilities(j);
						15019 > m && (L.codecs = L.codecs.filter(function(te) {
							return 'rtx' !== te.name
						})), L.codecs.forEach(function(te) {
							'H264' === te.name && void 0 === te.parameters['level-asymmetry-allowed'] && (te.parameters['level-asymmetry-allowed'] = '1')
						});
						var ee = [{
							ssrc: 1001 * (2 * T + 1)
						}];
						_ && 15019 <= m && 'video' === j && (ee[0].rtx = {
							ssrc: 1001 * (2 * T + 1) + 1
						}), w.wantReceive && (w.rtpReceiver = new c.RTCRtpReceiver(w.dtlsTransport, j)), w.localCapabilities = L, w.sendEncodingParameters = ee
					}), 'max-compat' !== this._config.bundlePolicy && (v += 'a=group:BUNDLE ' + b.map(function(w) {
						return w.mid
					}).join(' ') + '\r\n'), v += 'a=ice-options:trickle\r\n', b.forEach(function(w) {
						v += s.writeMediaSection(w, w.localCapabilities, 'offer', w.stream), v += 'a=rtcp-rsize\r\n'
					}), this._pendingOffer = b;
					var k = new c.RTCSessionDescription({
						type: 'offer',
						sdp: v
					});
					return arguments.length && 'function' == typeof arguments[0] && c.setTimeout(arguments[0], 0, k), Promise.resolve(k)
				}, u.prototype.createAnswer = function() {
					var g = s.writeSessionBoilerplate();
					this.usingBundle && (g += 'a=group:BUNDLE ' + this.transceivers.map(function(h) {
						return h.mid
					}).join(' ') + '\r\n'), this.transceivers.forEach(function(h, y) {
						if (h.isDatachannel) return void(g += 'm=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:' + h.mid + '\r\n');
						if (h.stream) {
							var b;
							'audio' === h.kind ? b = h.stream.getAudioTracks()[0] : 'video' === h.kind && (b = h.stream.getVideoTracks()[0]), b && 15019 <= m && 'video' === h.kind && (h.sendEncodingParameters[0].rtx = {
								ssrc: 1001 * (2 * y + 2) + 1
							})
						}
						var v = a(h.localCapabilities, h.remoteCapabilities),
							k = v.codecs.filter(function(w) {
								return 'rtx' === w.name.toLowerCase()
							}).length;
						!k && h.sendEncodingParameters[0].rtx && delete h.sendEncodingParameters[0].rtx, g += s.writeMediaSection(h, v, 'answer', h.stream), h.rtcpParameters && h.rtcpParameters.reducedSize && (g += 'a=rtcp-rsize\r\n')
					});
					var f = new c.RTCSessionDescription({
						type: 'answer',
						sdp: g
					});
					return arguments.length && 'function' == typeof arguments[0] && c.setTimeout(arguments[0], 0, f), Promise.resolve(f)
				}, u.prototype.addIceCandidate = function(g) {
					if (!g) {
						for (var f = 0; f < this.transceivers.length; f++)
							if (this.transceivers[f].iceTransport.addRemoteCandidate({}), this.usingBundle) return Promise.resolve();
					} else {
						var h = g.sdpMLineIndex;
						if (g.sdpMid)
							for (var y = 0; y < this.transceivers.length; y++)
								if (this.transceivers[y].mid === g.sdpMid) {
									h = y;
									break
								}
						var b = this.transceivers[h];
						if (b) {
							var v = 0 < Object.keys(g.candidate).length ? s.parseCandidate(g.candidate) : {};
							if ('tcp' === v.protocol && (0 === v.port || 9 === v.port)) return Promise.resolve();
							if (v.component && '1' !== v.component && 1 !== v.component) return Promise.resolve();
							b.iceTransport.addRemoteCandidate(v);
							var k = s.splitSections(this.remoteDescription.sdp);
							k[h + 1] += (v.type ? g.candidate.trim() : 'a=end-of-candidates') + '\r\n', this.remoteDescription.sdp = k.join('')
						}
					}
					return 1 < arguments.length && 'function' == typeof arguments[1] && c.setTimeout(arguments[1], 0), Promise.resolve()
				}, u.prototype.getStats = function() {
					var g = [];
					this.transceivers.forEach(function(y) {
						['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport', 'dtlsTransport'].forEach(function(b) {
							y[b] && g.push(y[b].getStats())
						})
					});
					var f = 1 < arguments.length && 'function' == typeof arguments[1] && arguments[1],
						h = function(y) {
							return {
								inboundrtp: 'inbound-rtp',
								outboundrtp: 'outbound-rtp',
								candidatepair: 'candidate-pair',
								localcandidate: 'local-candidate',
								remotecandidate: 'remote-candidate'
							}[y.type] || y.type
						};
					return new Promise(function(y) {
						var b = new Map;
						Promise.all(g).then(function(v) {
							v.forEach(function(k) {
								Object.keys(k).forEach(function(w) {
									k[w].type = h(k[w]), b.set(w, k[w])
								})
							}), f && c.setTimeout(f, 0, b), y(b)
						})
					})
				}, u
			}
		}, {
			sdp: 1
		}],
		9: [function(e, t) {
			'use strict';
			var r = e('../utils'),
				n = {
					shimOnTrack: function(a) {
						'object' == typeof a && a.RTCPeerConnection && !('ontrack' in a.RTCPeerConnection.prototype) && Object.defineProperty(a.RTCPeerConnection.prototype, 'ontrack', {
							get: function() {
								return this._ontrack
							},
							set: function(o) {
								this._ontrack && (this.removeEventListener('track', this._ontrack), this.removeEventListener('addstream', this._ontrackpoly)), this.addEventListener('track', this._ontrack = o), this.addEventListener('addstream', this._ontrackpoly = function(s) {
									s.stream.getTracks().forEach(function(c) {
										var m = new Event('track');
										m.track = c, m.receiver = {
											track: c
										}, m.streams = [s.stream], this.dispatchEvent(m)
									}.bind(this))
								}.bind(this))
							}
						})
					},
					shimSourceObject: function(a) {
						'object' == typeof a && a.HTMLMediaElement && !('srcObject' in a.HTMLMediaElement.prototype) && Object.defineProperty(a.HTMLMediaElement.prototype, 'srcObject', {
							get: function() {
								return this.mozSrcObject
							},
							set: function(o) {
								this.mozSrcObject = o
							}
						})
					},
					shimPeerConnection: function(a) {
						var o = r.detectBrowser(a);
						if ('object' == typeof a && (a.RTCPeerConnection || a.mozRTCPeerConnection)) {
							a.RTCPeerConnection || (a.RTCPeerConnection = function(g, f) {
								if (38 > o.version && g && g.iceServers) {
									for (var b, h = [], y = 0; y < g.iceServers.length; y++)
										if (b = g.iceServers[y], b.hasOwnProperty('urls'))
											for (var k, v = 0; v < b.urls.length; v++) k = {
												url: b.urls[v]
											}, 0 === b.urls[v].indexOf('turn') && (k.username = b.username, k.credential = b.credential), h.push(k);
										else h.push(g.iceServers[y]);
									g.iceServers = h
								}
								return new a.mozRTCPeerConnection(g, f)
							}, a.RTCPeerConnection.prototype = a.mozRTCPeerConnection.prototype, a.mozRTCPeerConnection.generateCertificate && Object.defineProperty(a.RTCPeerConnection, 'generateCertificate', {
								get: function() {
									return a.mozRTCPeerConnection.generateCertificate
								}
							}), a.RTCSessionDescription = a.mozRTCSessionDescription, a.RTCIceCandidate = a.mozRTCIceCandidate), ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(g) {
								var f = a.RTCPeerConnection.prototype[g];
								a.RTCPeerConnection.prototype[g] = function() {
									return arguments[0] = new('addIceCandidate' === g ? a.RTCIceCandidate : a.RTCSessionDescription)(arguments[0]), f.apply(this, arguments)
								}
							});
							var s = a.RTCPeerConnection.prototype.addIceCandidate;
							a.RTCPeerConnection.prototype.addIceCandidate = function() {
								return arguments[0] ? s.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve())
							};
							var c = function(g) {
									var f = new Map;
									return Object.keys(g).forEach(function(h) {
										f.set(h, g[h]), f[h] = g[h]
									}), f
								},
								m = {
									inboundrtp: 'inbound-rtp',
									outboundrtp: 'outbound-rtp',
									candidatepair: 'candidate-pair',
									localcandidate: 'local-candidate',
									remotecandidate: 'remote-candidate'
								},
								u = a.RTCPeerConnection.prototype.getStats;
							a.RTCPeerConnection.prototype.getStats = function(g, f, h) {
								return u.apply(this, [g || null]).then(function(y) {
									if (48 > o.version && (y = c(y)), 53 > o.version && !f) try {
										y.forEach(function(b) {
											b.type = m[b.type] || b.type
										})
									} catch (b) {
										if ('TypeError' !== b.name) throw b;
										y.forEach(function(v, k) {
											y.set(k, Object.assign({}, v, {
												type: m[v.type] || v.type
											}))
										})
									}
									return y
								}).then(f, h)
							}
						}
					}
				};
			t.exports = {
				shimOnTrack: n.shimOnTrack,
				shimSourceObject: n.shimSourceObject,
				shimPeerConnection: n.shimPeerConnection,
				shimGetUserMedia: e('./getusermedia')
			}
		}, {
			'../utils': 12,
			'./getusermedia': 10
		}],
		10: [function(e, t) {
			'use strict';
			var r = e('../utils'),
				n = r.log;
			t.exports = function(a) {
				var o = r.detectBrowser(a),
					s = a && a.navigator,
					c = a && a.MediaStreamTrack,
					m = function(k) {
						return {
							name: {
								InternalError: 'NotReadableError',
								NotSupportedError: 'TypeError',
								PermissionDeniedError: 'NotAllowedError',
								SecurityError: 'NotAllowedError'
							}[k.name] || k.name,
							message: {
								'The operation is insecure.': 'The request is not allowed by the user agent or the platform in the current context.'
							}[k.message] || k.message,
							constraint: k.constraint,
							toString: function() {
								return this.name + (this.message && ': ') + this.message
							}
						}
					},
					u = function(k, w, T) {
						var _ = function(j) {
							if ('object' != typeof j || j.require) return j;
							var O = [];
							return Object.keys(j).forEach(function(L) {
								if ('require' !== L && 'advanced' !== L && 'mediaSource' !== L) {
									var ee = j[L] = 'object' == typeof j[L] ? j[L] : {
										ideal: j[L]
									};
									if ((void 0 !== ee.min || void 0 !== ee.max || void 0 !== ee.exact) && O.push(L), void 0 !== ee.exact && ('number' == typeof ee.exact ? ee.min = ee.max = ee.exact : j[L] = ee.exact, delete ee.exact), void 0 !== ee.ideal) {
										j.advanced = j.advanced || [];
										var te = {};
										te[L] = 'number' == typeof ee.ideal ? {
											min: ee.ideal,
											max: ee.ideal
										} : ee.ideal, j.advanced.push(te), delete ee.ideal, Object.keys(ee).length || delete j[L]
									}
								}
							}), O.length && (j.require = O), j
						};
						return k = JSON.parse(JSON.stringify(k)), 38 > o.version && (n('spec: ' + JSON.stringify(k)), k.audio && (k.audio = _(k.audio)), k.video && (k.video = _(k.video)), n('ff37: ' + JSON.stringify(k))), s.mozGetUserMedia(k, w, function(j) {
							T(m(j))
						})
					};
				if (s.mediaDevices || (s.mediaDevices = {
						getUserMedia: function(k) {
							return new Promise(function(w, T) {
								u(k, w, T)
							})
						},
						addEventListener: function() {},
						removeEventListener: function() {}
					}), s.mediaDevices.enumerateDevices = s.mediaDevices.enumerateDevices || function() {
						return new Promise(function(k) {
							k([{
								kind: 'audioinput',
								deviceId: 'default',
								label: '',
								groupId: ''
							}, {
								kind: 'videoinput',
								deviceId: 'default',
								label: '',
								groupId: ''
							}])
						})
					}, 41 > o.version) {
					var g = s.mediaDevices.enumerateDevices.bind(s.mediaDevices);
					s.mediaDevices.enumerateDevices = function() {
						return g().then(void 0, function(k) {
							if ('NotFoundError' === k.name) return [];
							throw k
						})
					}
				}
				if (49 > o.version) {
					var f = s.mediaDevices.getUserMedia.bind(s.mediaDevices);
					s.mediaDevices.getUserMedia = function(k) {
						return f(k).then(function(w) {
							if (k.audio && !w.getAudioTracks().length || k.video && !w.getVideoTracks().length) throw w.getTracks().forEach(function(T) {
								T.stop()
							}), new DOMException('The object can not be found here.', 'NotFoundError');
							return w
						}, function(w) {
							return Promise.reject(m(w))
						})
					}
				}
				if (!(55 < o.version && 'autoGainControl' in s.mediaDevices.getSupportedConstraints())) {
					var h = function(k, w, T) {
							w in k && !(T in k) && (k[T] = k[w], delete k[w])
						},
						y = s.mediaDevices.getUserMedia.bind(s.mediaDevices);
					if (s.mediaDevices.getUserMedia = function(k) {
							return 'object' == typeof k && 'object' == typeof k.audio && (k = JSON.parse(JSON.stringify(k)), h(k.audio, 'autoGainControl', 'mozAutoGainControl'), h(k.audio, 'noiseSuppression', 'mozNoiseSuppression')), y(k)
						}, c && c.prototype.getSettings) {
						var b = c.prototype.getSettings;
						c.prototype.getSettings = function() {
							var k = b.apply(this, arguments);
							return h(k, 'mozAutoGainControl', 'autoGainControl'), h(k, 'mozNoiseSuppression', 'noiseSuppression'), k
						}
					}
					if (c && c.prototype.applyConstraints) {
						var v = c.prototype.applyConstraints;
						c.prototype.applyConstraints = function(k) {
							return 'audio' === this.kind && 'object' == typeof k && (k = JSON.parse(JSON.stringify(k)), h(k, 'autoGainControl', 'mozAutoGainControl'), h(k, 'noiseSuppression', 'mozNoiseSuppression')), v.apply(this, [k])
						}
					}
				}
				s.getUserMedia = function(k, w, T) {
					return 44 > o.version ? u(k, w, T) : void(console.warn('navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia'), s.mediaDevices.getUserMedia(k).then(w, T))
				}
			}
		}, {
			'../utils': 12
		}],
		11: [function(e, t) {
			'use strict';
			var r = {
				shimAddStream: function(n) {
					'object' == typeof n && n.RTCPeerConnection && !('addStream' in n.RTCPeerConnection.prototype) && (n.RTCPeerConnection.prototype.addStream = function(a) {
						var o = this;
						a.getTracks().forEach(function(s) {
							o.addTrack(s, a)
						})
					})
				},
				shimOnAddStream: function(n) {
					'object' == typeof n && n.RTCPeerConnection && !('onaddstream' in n.RTCPeerConnection.prototype) && Object.defineProperty(n.RTCPeerConnection.prototype, 'onaddstream', {
						get: function() {
							return this._onaddstream
						},
						set: function(a) {
							this._onaddstream && (this.removeEventListener('addstream', this._onaddstream), this.removeEventListener('track', this._onaddstreampoly)), this.addEventListener('addstream', this._onaddstream = a), this.addEventListener('track', this._onaddstreampoly = function(o) {
								var s = o.streams[0];
								if (this._streams || (this._streams = []), !(0 <= this._streams.indexOf(s))) {
									this._streams.push(s);
									var c = new Event('addstream');
									c.stream = o.streams[0], this.dispatchEvent(c)
								}
							}.bind(this))
						}
					})
				},
				shimCallbacksAPI: function(n) {
					if ('object' == typeof n && n.RTCPeerConnection) {
						var a = n.RTCPeerConnection.prototype,
							o = a.createOffer,
							s = a.createAnswer,
							c = a.setLocalDescription,
							m = a.setRemoteDescription,
							u = a.addIceCandidate;
						a.createOffer = function(f, h) {
							var y = 2 <= arguments.length ? arguments[2] : arguments[0],
								b = o.apply(this, [y]);
							return h ? (b.then(f, h), Promise.resolve()) : b
						}, a.createAnswer = function(f, h) {
							var y = 2 <= arguments.length ? arguments[2] : arguments[0],
								b = s.apply(this, [y]);
							return h ? (b.then(f, h), Promise.resolve()) : b
						};
						var g = function(f, h, y) {
							var b = c.apply(this, [f]);
							return y ? (b.then(h, y), Promise.resolve()) : b
						};
						a.setLocalDescription = g, g = function(f, h, y) {
							var b = m.apply(this, [f]);
							return y ? (b.then(h, y), Promise.resolve()) : b
						}, a.setRemoteDescription = g, g = function(f, h, y) {
							var b = u.apply(this, [f]);
							return y ? (b.then(h, y), Promise.resolve()) : b
						}, a.addIceCandidate = g
					}
				},
				shimGetUserMedia: function(n) {
					var a = n && n.navigator;
					a.getUserMedia || (a.webkitGetUserMedia ? a.getUserMedia = a.webkitGetUserMedia.bind(a) : a.mediaDevices && a.mediaDevices.getUserMedia && (a.getUserMedia = function(o, s, c) {
						a.mediaDevices.getUserMedia(o).then(s, c)
					}.bind(a)))
				}
			};
			t.exports = {
				shimCallbacksAPI: r.shimCallbacksAPI,
				shimAddStream: r.shimAddStream,
				shimOnAddStream: r.shimOnAddStream,
				shimGetUserMedia: r.shimGetUserMedia
			}
		}, {}],
		12: [function(e, t) {
			'use strict';
			var r = !0,
				n = {
					disableLog: function(a) {
						return 'boolean' == typeof a ? (r = a, a ? 'adapter.js logging disabled' : 'adapter.js logging enabled') : new Error('Argument type: ' + typeof a + '. Please use a boolean.')
					},
					log: function() {
						if ('object' == typeof window) {
							if (r) return;
							'undefined' != typeof console && 'function' == typeof console.log && console.log.apply(console, arguments)
						}
					},
					extractVersion: function(a, o, s) {
						var c = a.match(o);
						return c && c.length >= s && parseInt(c[s], 10)
					},
					detectBrowser: function(a) {
						var o = a && a.navigator,
							s = {};
						if (s.browser = null, s.version = null, 'undefined' == typeof a || !a.navigator) return s.browser = 'Not a browser.', s;
						if (o.mozGetUserMedia) s.browser = 'firefox', s.version = this.extractVersion(o.userAgent, /Firefox\/(\d+)\./, 1);
						else if (o.webkitGetUserMedia) {
							if (a.webkitRTCPeerConnection) s.browser = 'chrome', s.version = this.extractVersion(o.userAgent, /Chrom(e|ium)\/(\d+)\./, 2);
							else if (o.userAgent.match(/Version\/(\d+).(\d+)/)) s.browser = 'safari', s.version = this.extractVersion(o.userAgent, /AppleWebKit\/(\d+)\./, 1);
							else return s.browser = 'Unsupported webkit-based browser with GUM support but no WebRTC support.', s;
						} else if (o.mediaDevices && o.userAgent.match(/Edge\/(\d+).(\d+)$/)) s.browser = 'edge', s.version = this.extractVersion(o.userAgent, /Edge\/(\d+).(\d+)$/, 2);
						else if (o.mediaDevices && o.userAgent.match(/AppleWebKit\/(\d+)\./)) s.browser = 'safari', s.version = this.extractVersion(o.userAgent, /AppleWebKit\/(\d+)\./, 1);
						else return s.browser = 'Not a supported browser.', s;
						return s
					},
					shimCreateObjectURL: function(a) {
						var o = a && a.URL;
						if ('object' == typeof a && a.HTMLMediaElement && 'srcObject' in a.HTMLMediaElement.prototype) {
							var s = o.createObjectURL.bind(o),
								c = o.revokeObjectURL.bind(o),
								m = new Map,
								u = 0;
							o.createObjectURL = function(h) {
								if ('getTracks' in h) {
									var y = 'polyblob:' + ++u;
									return m.set(y, h), console.log('URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!'), y
								}
								return s(h)
							}, o.revokeObjectURL = function(h) {
								c(h), m.delete(h)
							};
							var g = Object.getOwnPropertyDescriptor(a.HTMLMediaElement.prototype, 'src');
							Object.defineProperty(a.HTMLMediaElement.prototype, 'src', {
								get: function() {
									return g.get.apply(this)
								},
								set: function(h) {
									return this.srcObject = m.get(h) || null, g.set.apply(this, [h])
								}
							});
							var f = a.HTMLMediaElement.prototype.setAttribute;
							a.HTMLMediaElement.prototype.setAttribute = function() {
								return 2 === arguments.length && 'src' === ('' + arguments[0]).toLowerCase() && (this.srcObject = m.get(arguments[1]) || null), f.apply(this, arguments)
							}
						}
					}
				};
			t.exports = {
				log: n.log,
				disableLog: n.disableLog,
				extractVersion: n.extractVersion,
				shimCreateObjectURL: n.shimCreateObjectURL,
				detectBrowser: n.detectBrowser.bind(n)
			}
		}, {}]
	}, {}, [2])(2)
}),
function(e) {
	if ('object' == typeof exports && 'undefined' != typeof module) module.exports = e();
	else if ('function' == typeof define && define.amd) define([], e);
	else {
		var t;
		t = 'undefined' == typeof window ? 'undefined' == typeof global ? 'undefined' == typeof self ? this : self : global : window, t.SimpleWebRTC = e()
	}
}(function() {
	var e;
	return function t(r, n, a) {
		function o(m, u) {
			if (!n[m]) {
				if (!r[m]) {
					var g = 'function' == typeof require && require;
					if (!u && g) return g(m, !0);
					if (s) return s(m, !0);
					var f = new Error('Cannot find module \'' + m + '\'');
					throw f.code = 'MODULE_NOT_FOUND', f
				}
				var h = n[m] = {
					exports: {}
				};
				r[m][0].call(h.exports, function(y) {
					var b = r[m][1][y];
					return o(b ? b : y)
				}, h, h.exports, t, r, n, a)
			}
			return n[m].exports
		}
		for (var s = 'function' == typeof require && require, c = 0; c < a.length; c++) o(a[c]);
		return o
	}({
		1: [function(t, r) {
			function n() {}
			r.exports = function(a, o, s) {
				function c(u, g) {
					if (0 >= c.count) throw new Error('after called too many times');
					--c.count, u ? (m = !0, o(u), o = s) : 0 === c.count && !m && o(null, g)
				}
				var m = !1;
				return s = s || n, c.count = a, 0 === a ? o() : c
			}
		}, {}],
		2: [function(t, r) {
			r.exports = function(n, a, o) {
				var s = n.byteLength;
				if (a = a || 0, o = o || s, n.slice) return n.slice(a, o);
				if (0 > a && (a += s), 0 > o && (o += s), o > s && (o = s), a >= s || a >= o || 0 === s) return new ArrayBuffer(0);
				for (var c = new Uint8Array(n), m = new Uint8Array(o - a), u = a, g = 0; u < o; u++, g++) m[g] = c[u];
				return m.buffer
			}
		}, {}],
		3: [function(t, r) {
			t('webrtc-adapter'), r.exports = function(n, a, o) {
				var u, s = window.URL,
					c = a,
					m = {
						autoplay: !0,
						mirror: !1,
						muted: !1,
						audio: !1,
						disableContextMenu: !1
					};
				if (o)
					for (u in o) m[u] = o[u];
				return c ? 'audio' === c.tagName.toLowerCase() && (m.audio = !0) : c = document.createElement(m.audio ? 'audio' : 'video'), m.disableContextMenu && (c.oncontextmenu = function(g) {
					g.preventDefault()
				}), m.autoplay && (c.autoplay = 'autoplay'), m.muted && (c.muted = !0), !m.audio && m.mirror && ['', 'moz', 'webkit', 'o', 'ms'].forEach(function(g) {
					var f = g ? g + 'Transform' : 'transform';
					c.style[f] = 'scaleX(-1)'
				}), c.srcObject = n, c
			}
		}, {
			'webrtc-adapter': 4
		}],
		4: [function(t, r) {
			'use strict';
			(function() {
				var n = t('./utils').log,
					a = t('./utils').browserDetails;
				r.exports.browserDetails = a, r.exports.extractVersion = t('./utils').extractVersion, r.exports.disableLog = t('./utils').disableLog;
				var o = t('./chrome/chrome_shim') || null,
					s = t('./edge/edge_shim') || null,
					c = t('./firefox/firefox_shim') || null,
					m = t('./safari/safari_shim') || null;
				switch (a.browser) {
					case 'opera':
					case 'chrome':
						if (!o || !o.shimPeerConnection) return void n('Chrome shim is not included in this adapter release.');
						n('adapter.js shimming chrome.'), r.exports.browserShim = o, o.shimGetUserMedia(), o.shimMediaStream(), o.shimSourceObject(), o.shimPeerConnection(), o.shimOnTrack();
						break;
					case 'firefox':
						if (!c || !c.shimPeerConnection) return void n('Firefox shim is not included in this adapter release.');
						n('adapter.js shimming firefox.'), r.exports.browserShim = c, c.shimGetUserMedia(), c.shimSourceObject(), c.shimPeerConnection(), c.shimOnTrack();
						break;
					case 'edge':
						if (!s || !s.shimPeerConnection) return void n('MS edge shim is not included in this adapter release.');
						n('adapter.js shimming edge.'), r.exports.browserShim = s, s.shimGetUserMedia(), s.shimPeerConnection();
						break;
					case 'safari':
						if (!m) return void n('Safari shim is not included in this adapter release.');
						n('adapter.js shimming safari.'), r.exports.browserShim = m, m.shimGetUserMedia();
						break;
					default:
						n('Unsupported browser!');
				}
			})()
		}, {
			'./chrome/chrome_shim': 5,
			'./edge/edge_shim': 7,
			'./firefox/firefox_shim': 9,
			'./safari/safari_shim': 11,
			'./utils': 12
		}],
		5: [function(t, r) {
			'use strict';
			var n = t('../utils.js').log,
				a = t('../utils.js').browserDetails,
				o = {
					shimMediaStream: function() {
						window.MediaStream = window.MediaStream || window.webkitMediaStream
					},
					shimOnTrack: function() {
						'object' == typeof window && window.RTCPeerConnection && !('ontrack' in window.RTCPeerConnection.prototype) && Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {
							get: function() {
								return this._ontrack
							},
							set: function(s) {
								var c = this;
								this._ontrack && (this.removeEventListener('track', this._ontrack), this.removeEventListener('addstream', this._ontrackpoly)), this.addEventListener('track', this._ontrack = s), this.addEventListener('addstream', this._ontrackpoly = function(m) {
									m.stream.addEventListener('addtrack', function(u) {
										var g = new Event('track');
										g.track = u.track, g.receiver = {
											track: u.track
										}, g.streams = [m.stream], c.dispatchEvent(g)
									}), m.stream.getTracks().forEach(function(u) {
										var g = new Event('track');
										g.track = u, g.receiver = {
											track: u
										}, g.streams = [m.stream], this.dispatchEvent(g)
									}.bind(this))
								}.bind(this))
							}
						})
					},
					shimSourceObject: function() {
						'object' == typeof window && window.HTMLMediaElement && !('srcObject' in window.HTMLMediaElement.prototype) && Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {
							get: function() {
								return this._srcObject
							},
							set: function(s) {
								var c = this;
								return this._srcObject = s, this.src && URL.revokeObjectURL(this.src), s ? void(this.src = URL.createObjectURL(s), s.addEventListener('addtrack', function() {
									c.src && URL.revokeObjectURL(c.src), c.src = URL.createObjectURL(s)
								}), s.addEventListener('removetrack', function() {
									c.src && URL.revokeObjectURL(c.src), c.src = URL.createObjectURL(s)
								})) : void(this.src = '')
							}
						})
					},
					shimPeerConnection: function() {
						window.RTCPeerConnection = function(c, m) {
							n('PeerConnection'), c && c.iceTransportPolicy && (c.iceTransports = c.iceTransportPolicy);
							var u = new webkitRTCPeerConnection(c, m),
								g = u.getStats.bind(u);
							return u.getStats = function(f, h, y) {
								var b = this,
									v = arguments;
								if (0 < arguments.length && 'function' == typeof f) return g(f, h);
								var k = function(_) {
										var j = {},
											O = _.result();
										return O.forEach(function(L) {
											var ee = {
												id: L.id,
												timestamp: L.timestamp,
												type: L.type
											};
											L.names().forEach(function(te) {
												ee[te] = L.stat(te)
											}), j[ee.id] = ee
										}), j
									},
									w = function(_, j) {
										var O = new Map(Object.keys(_).map(function(L) {
											return [L, _[L]]
										}));
										return j = j || _, Object.keys(j).forEach(function(L) {
											O[L] = j[L]
										}), O
									};
								if (2 <= arguments.length) {
									var T = function(_) {
										v[1](w(k(_)))
									};
									return g.apply(this, [T, arguments[0]])
								}
								return new Promise(function(_, j) {
									1 === v.length && 'object' == typeof f ? g.apply(b, [function(O) {
										_(w(k(O)))
									}, j]) : g.apply(b, [function(O) {
										_(w(k(O), O.result()))
									}, j])
								}).then(h, y)
							}, u
						}, window.RTCPeerConnection.prototype = webkitRTCPeerConnection.prototype, webkitRTCPeerConnection.generateCertificate && Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {
							get: function() {
								return webkitRTCPeerConnection.generateCertificate
							}
						}), ['createOffer', 'createAnswer'].forEach(function(c) {
							var m = webkitRTCPeerConnection.prototype[c];
							webkitRTCPeerConnection.prototype[c] = function() {
								var u = this;
								if (1 > arguments.length || 1 === arguments.length && 'object' == typeof arguments[0]) {
									var g = 1 === arguments.length ? arguments[0] : void 0;
									return new Promise(function(f, h) {
										m.apply(u, [f, h, g])
									})
								}
								return m.apply(this, arguments)
							}
						}), 51 > a.version && ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(c) {
							var m = webkitRTCPeerConnection.prototype[c];
							webkitRTCPeerConnection.prototype[c] = function() {
								var u = arguments,
									g = this,
									f = new Promise(function(h, y) {
										m.apply(g, [u[0], h, y])
									});
								return 2 > u.length ? f : f.then(function() {
									u[1].apply(null, [])
								}, function(h) {
									3 <= u.length && u[2].apply(null, [h])
								})
							}
						}), ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(c) {
							var m = webkitRTCPeerConnection.prototype[c];
							webkitRTCPeerConnection.prototype[c] = function() {
								return arguments[0] = new('addIceCandidate' === c ? RTCIceCandidate : RTCSessionDescription)(arguments[0]), m.apply(this, arguments)
							}
						});
						var s = RTCPeerConnection.prototype.addIceCandidate;
						RTCPeerConnection.prototype.addIceCandidate = function() {
							return arguments[0] ? s.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve())
						}
					}
				};
			r.exports = {
				shimMediaStream: o.shimMediaStream,
				shimOnTrack: o.shimOnTrack,
				shimSourceObject: o.shimSourceObject,
				shimPeerConnection: o.shimPeerConnection,
				shimGetUserMedia: t('./getusermedia')
			}
		}, {
			'../utils.js': 12,
			'./getusermedia': 6
		}],
		6: [function(t, r) {
			'use strict';
			var n = t('../utils.js').log;
			r.exports = function() {
				var a = function(u) {
						if ('object' != typeof u || u.mandatory || u.optional) return u;
						var g = {};
						return Object.keys(u).forEach(function(f) {
							if ('require' !== f && 'advanced' !== f && 'mediaSource' !== f) {
								var h = 'object' == typeof u[f] ? u[f] : {
									ideal: u[f]
								};
								void 0 !== h.exact && 'number' == typeof h.exact && (h.min = h.max = h.exact);
								var y = function(v, k) {
									return v ? v + k.charAt(0).toUpperCase() + k.slice(1) : 'deviceId' === k ? 'sourceId' : k
								};
								if (void 0 !== h.ideal) {
									g.optional = g.optional || [];
									var b = {};
									'number' == typeof h.ideal ? (b[y('min', f)] = h.ideal, g.optional.push(b), b = {}, b[y('max', f)] = h.ideal, g.optional.push(b)) : (b[y('', f)] = h.ideal, g.optional.push(b))
								}
								void 0 !== h.exact && 'number' != typeof h.exact ? (g.mandatory = g.mandatory || {}, g.mandatory[y('', f)] = h.exact) : ['min', 'max'].forEach(function(v) {
									void 0 !== h[v] && (g.mandatory = g.mandatory || {}, g.mandatory[y(v, f)] = h[v])
								})
							}
						}), u.advanced && (g.optional = (g.optional || []).concat(u.advanced)), g
					},
					o = function(u, g) {
						if (u = JSON.parse(JSON.stringify(u)), u && u.audio && (u.audio = a(u.audio)), u && 'object' == typeof u.video) {
							var f = u.video.facingMode;
							if (f = f && ('object' == typeof f ? f : {
									ideal: f
								}), f && ('user' === f.exact || 'environment' === f.exact || 'user' === f.ideal || 'environment' === f.ideal) && !(navigator.mediaDevices.getSupportedConstraints && navigator.mediaDevices.getSupportedConstraints().facingMode) && (delete u.video.facingMode, 'environment' === f.exact || 'environment' === f.ideal)) return navigator.mediaDevices.enumerateDevices().then(function(h) {
								h = h.filter(function(b) {
									return 'videoinput' === b.kind
								});
								var y = h.find(function(b) {
									return -1 !== b.label.toLowerCase().indexOf('back')
								}) || h.length && h[h.length - 1];
								return y && (u.video.deviceId = f.exact ? {
									exact: y.deviceId
								} : {
									ideal: y.deviceId
								}), u.video = a(u.video), n('chrome: ' + JSON.stringify(u)), g(u)
							});
							u.video = a(u.video)
						}
						return n('chrome: ' + JSON.stringify(u)), g(u)
					},
					s = function(u) {
						return {
							name: {
								PermissionDeniedError: 'NotAllowedError',
								ConstraintNotSatisfiedError: 'OverconstrainedError'
							}[u.name] || u.name,
							message: u.message,
							constraint: u.constraintName,
							toString: function() {
								return this.name + (this.message && ': ') + this.message
							}
						}
					};
				navigator.getUserMedia = function(u, g, f) {
					o(u, function(h) {
						navigator.webkitGetUserMedia(h, g, function(y) {
							f(s(y))
						})
					})
				};
				var c = function(u) {
					return new Promise(function(g, f) {
						navigator.getUserMedia(u, g, f)
					})
				};
				if (navigator.mediaDevices || (navigator.mediaDevices = {
						getUserMedia: c,
						enumerateDevices: function() {
							return new Promise(function(u) {
								var g = {
									audio: 'audioinput',
									video: 'videoinput'
								};
								return MediaStreamTrack.getSources(function(f) {
									u(f.map(function(h) {
										return {
											label: h.label,
											kind: g[h.kind],
											deviceId: h.id,
											groupId: ''
										}
									}))
								})
							})
						}
					}), !navigator.mediaDevices.getUserMedia) navigator.mediaDevices.getUserMedia = function(u) {
					return c(u)
				};
				else {
					var m = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
					navigator.mediaDevices.getUserMedia = function(u) {
						return o(u, function(g) {
							return m(g).then(function(f) {
								if (g.audio && !f.getAudioTracks().length || g.video && !f.getVideoTracks().length) throw f.getTracks().forEach(function(h) {
									h.stop()
								}), new DOMException('', 'NotFoundError');
								return f
							}, function(f) {
								return Promise.reject(s(f))
							})
						})
					}
				}
				'undefined' == typeof navigator.mediaDevices.addEventListener && (navigator.mediaDevices.addEventListener = function() {
					n('Dummy mediaDevices.addEventListener called.')
				}), 'undefined' == typeof navigator.mediaDevices.removeEventListener && (navigator.mediaDevices.removeEventListener = function() {
					n('Dummy mediaDevices.removeEventListener called.')
				})
			}
		}, {
			'../utils.js': 12
		}],
		7: [function(t, r) {
			'use strict';
			var n = t('sdp'),
				a = t('../utils').browserDetails;
			r.exports = {
				shimPeerConnection: {
					shimPeerConnection: function() {
						if (window.RTCIceGatherer) {
							window.RTCIceCandidate || (window.RTCIceCandidate = function(s) {
								return s
							}), window.RTCSessionDescription || (window.RTCSessionDescription = function(s) {
								return s
							});
							var o = Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype, 'enabled');
							Object.defineProperty(MediaStreamTrack.prototype, 'enabled', {
								set: function(s) {
									o.set.call(this, s);
									var c = new Event('enabled');
									c.enabled = s, this.dispatchEvent(c)
								}
							})
						}
						window.RTCPeerConnection = function(s) {
							var c = this,
								m = document.createDocumentFragment();
							if (['addEventListener', 'removeEventListener', 'dispatchEvent'].forEach(function(g) {
									c[g] = m[g].bind(m)
								}), this.onicecandidate = null, this.onaddstream = null, this.ontrack = null, this.onremovestream = null, this.onsignalingstatechange = null, this.oniceconnectionstatechange = null, this.onnegotiationneeded = null, this.ondatachannel = null, this.localStreams = [], this.remoteStreams = [], this.getLocalStreams = function() {
									return c.localStreams
								}, this.getRemoteStreams = function() {
									return c.remoteStreams
								}, this.localDescription = new RTCSessionDescription({
									type: '',
									sdp: ''
								}), this.remoteDescription = new RTCSessionDescription({
									type: '',
									sdp: ''
								}), this.signalingState = 'stable', this.iceConnectionState = 'new', this.iceGatheringState = 'new', this.iceOptions = {
									gatherPolicy: 'all',
									iceServers: []
								}, s && s.iceTransportPolicy) switch (s.iceTransportPolicy) {
								case 'all':
								case 'relay':
									this.iceOptions.gatherPolicy = s.iceTransportPolicy;
									break;
								case 'none':
									throw new TypeError('iceTransportPolicy "none" not supported');
								default:
							}
							if (this.usingBundle = s && 'max-bundle' === s.bundlePolicy, s && s.iceServers) {
								var u = JSON.parse(JSON.stringify(s.iceServers));
								this.iceOptions.iceServers = u.filter(function(g) {
									if (g && g.urls) {
										var f = g.urls;
										return 'string' == typeof f && (f = [f]), f = f.filter(function(h) {
											return 0 === h.indexOf('turn:') && -1 !== h.indexOf('transport=udp') && -1 === h.indexOf('turn:[') || 0 === h.indexOf('stun:') && 14393 <= a.version
										})[0], !!f
									}
									return !1
								})
							}
							this._config = s, this.transceivers = [], this._localIceCandidatesBuffer = []
						}, window.RTCPeerConnection.prototype._emitBufferedCandidates = function() {
							var s = this,
								c = n.splitSections(s.localDescription.sdp);
							this._localIceCandidatesBuffer.forEach(function(m) {
								var u = !m.candidate || 0 === Object.keys(m.candidate).length;
								if (u)
									for (var g = 1; g < c.length; g++) - 1 === c[g].indexOf('\r\na=end-of-candidates\r\n') && (c[g] += 'a=end-of-candidates\r\n');
								else -1 === m.candidate.candidate.indexOf('typ endOfCandidates') && (c[m.candidate.sdpMLineIndex + 1] += 'a=' + m.candidate.candidate + '\r\n');
								if (s.localDescription.sdp = c.join(''), s.dispatchEvent(m), null !== s.onicecandidate && s.onicecandidate(m), !m.candidate && 'complete' !== s.iceGatheringState) {
									var f = s.transceivers.every(function(h) {
										return h.iceGatherer && 'completed' === h.iceGatherer.state
									});
									f && (s.iceGatheringState = 'complete')
								}
							}), this._localIceCandidatesBuffer = []
						}, window.RTCPeerConnection.prototype.getConfiguration = function() {
							return this._config
						}, window.RTCPeerConnection.prototype.addStream = function(s) {
							var c = s.clone();
							s.getTracks().forEach(function(m, u) {
								var g = c.getTracks()[u];
								m.addEventListener('enabled', function(f) {
									g.enabled = f.enabled
								})
							}), this.localStreams.push(c), this._maybeFireNegotiationNeeded()
						}, window.RTCPeerConnection.prototype.removeStream = function(s) {
							var c = this.localStreams.indexOf(s); - 1 < c && (this.localStreams.splice(c, 1), this._maybeFireNegotiationNeeded())
						}, window.RTCPeerConnection.prototype.getSenders = function() {
							return this.transceivers.filter(function(s) {
								return !!s.rtpSender
							}).map(function(s) {
								return s.rtpSender
							})
						}, window.RTCPeerConnection.prototype.getReceivers = function() {
							return this.transceivers.filter(function(s) {
								return !!s.rtpReceiver
							}).map(function(s) {
								return s.rtpReceiver
							})
						}, window.RTCPeerConnection.prototype._getCommonCapabilities = function(s, c) {
							var m = {
								codecs: [],
								headerExtensions: [],
								fecMechanisms: []
							};
							return s.codecs.forEach(function(u) {
								for (var f, g = 0; g < c.codecs.length; g++)
									if (f = c.codecs[g], u.name.toLowerCase() === f.name.toLowerCase() && u.clockRate === f.clockRate) {
										f.numChannels = Math.min(u.numChannels, f.numChannels), m.codecs.push(f), f.rtcpFeedback = f.rtcpFeedback.filter(function(h) {
											for (var y = 0; y < u.rtcpFeedback.length; y++)
												if (u.rtcpFeedback[y].type === h.type && u.rtcpFeedback[y].parameter === h.parameter) return !0;
											return !1
										});
										break
									}
							}), s.headerExtensions.forEach(function(u) {
								for (var f, g = 0; g < c.headerExtensions.length; g++)
									if (f = c.headerExtensions[g], u.uri === f.uri) {
										m.headerExtensions.push(f);
										break
									}
							}), m
						}, window.RTCPeerConnection.prototype._createIceAndDtlsTransports = function(s, c) {
							var m = this,
								u = new RTCIceGatherer(m.iceOptions),
								g = new RTCIceTransport(u);
							u.onlocalcandidate = function(h) {
								var y = new Event('icecandidate');
								y.candidate = {
									sdpMid: s,
									sdpMLineIndex: c
								};
								var b = h.candidate,
									v = !b || 0 === Object.keys(b).length;
								v ? (void 0 === u.state && (u.state = 'completed'), y.candidate.candidate = 'candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates') : (b.component = 'RTCP' === g.component ? 2 : 1, y.candidate.candidate = n.writeCandidate(b));
								var k = n.splitSections(m.localDescription.sdp);
								k[y.candidate.sdpMLineIndex + 1] += -1 === y.candidate.candidate.indexOf('typ endOfCandidates') ? 'a=' + y.candidate.candidate + '\r\n' : 'a=end-of-candidates\r\n', m.localDescription.sdp = k.join('');
								var w = m.transceivers.every(function(T) {
									return T.iceGatherer && 'completed' === T.iceGatherer.state
								});
								switch (m.iceGatheringState) {
									case 'new':
										m._localIceCandidatesBuffer.push(y), v && w && m._localIceCandidatesBuffer.push(new Event('icecandidate'));
										break;
									case 'gathering':
										m._emitBufferedCandidates(), m.dispatchEvent(y), null !== m.onicecandidate && m.onicecandidate(y), w && (m.dispatchEvent(new Event('icecandidate')), null !== m.onicecandidate && m.onicecandidate(new Event('icecandidate')), m.iceGatheringState = 'complete');
										break;
									case 'complete':
										break;
									default:
								}
							}, g.onicestatechange = function() {
								m._updateConnectionState()
							};
							var f = new RTCDtlsTransport(g);
							return f.ondtlsstatechange = function() {
								m._updateConnectionState()
							}, f.onerror = function() {
								f.state = 'failed', m._updateConnectionState()
							}, {
								iceGatherer: u,
								iceTransport: g,
								dtlsTransport: f
							}
						}, window.RTCPeerConnection.prototype._transceive = function(s, c, m) {
							var u = this._getCommonCapabilities(s.localCapabilities, s.remoteCapabilities);
							c && s.rtpSender && (u.encodings = s.sendEncodingParameters, u.rtcp = {
								cname: n.localCName
							}, s.recvEncodingParameters.length && (u.rtcp.ssrc = s.recvEncodingParameters[0].ssrc), s.rtpSender.send(u)), m && s.rtpReceiver && ('video' === s.kind && s.recvEncodingParameters && s.recvEncodingParameters.forEach(function(g) {
								delete g.rtx
							}), u.encodings = s.recvEncodingParameters, u.rtcp = {
								cname: s.cname
							}, s.sendEncodingParameters.length && (u.rtcp.ssrc = s.sendEncodingParameters[0].ssrc), s.rtpReceiver.receive(u))
						}, window.RTCPeerConnection.prototype.setLocalDescription = function(s) {
							var m, u, c = this;
							if ('offer' === s.type) this._pendingOffer && (m = n.splitSections(s.sdp), u = m.shift(), m.forEach(function(b, v) {
								var k = n.parseRtpParameters(b);
								c._pendingOffer[v].localCapabilities = k
							}), this.transceivers = this._pendingOffer, delete this._pendingOffer);
							else if ('answer' === s.type) {
								m = n.splitSections(c.remoteDescription.sdp), u = m.shift();
								var g = 0 < n.matchPrefix(u, 'a=ice-lite').length;
								m.forEach(function(b, v) {
									var k = c.transceivers[v],
										w = k.iceGatherer,
										T = k.iceTransport,
										_ = k.dtlsTransport,
										j = k.localCapabilities,
										O = k.remoteCapabilities,
										L = '0' === b.split('\n', 1)[0].split(' ', 2)[1];
									if (!L && !k.isDatachannel) {
										var ee = n.getIceParameters(b, u);
										if (g) {
											var te = n.matchPrefix(b, 'a=candidate:').map(function(rt) {
												return n.parseCandidate(rt)
											}).filter(function(rt) {
												return '1' === rt.component
											});
											te.length && T.setRemoteCandidates(te)
										}
										var re = n.getDtlsParameters(b, u);
										g && (re.role = 'server'), c.usingBundle && 0 !== v || (T.start(w, ee, g ? 'controlling' : 'controlled'), _.start(re));
										var Ze = c._getCommonCapabilities(j, O);
										c._transceive(k, 0 < Ze.codecs.length, !1)
									}
								})
							}
							switch (this.localDescription = {
								type: s.type,
								sdp: s.sdp
							}, s.type) {
								case 'offer':
									this._updateSignalingState('have-local-offer');
									break;
								case 'answer':
									this._updateSignalingState('stable');
									break;
								default:
									throw new TypeError('unsupported type "' + s.type + '"');
							}
							var f = 1 < arguments.length && 'function' == typeof arguments[1];
							if (f) {
								var h = arguments[1];
								window.setTimeout(function() {
									h(), 'new' === c.iceGatheringState && (c.iceGatheringState = 'gathering'), c._emitBufferedCandidates()
								}, 0)
							}
							var y = Promise.resolve();
							return y.then(function() {
								f || ('new' === c.iceGatheringState && (c.iceGatheringState = 'gathering'), window.setTimeout(c._emitBufferedCandidates.bind(c), 500))
							}), y
						}, window.RTCPeerConnection.prototype.setRemoteDescription = function(s) {
							var c = this,
								m = new MediaStream,
								u = [],
								g = n.splitSections(s.sdp),
								f = g.shift(),
								h = 0 < n.matchPrefix(f, 'a=ice-lite').length;
							switch (this.usingBundle = 0 < n.matchPrefix(f, 'a=group:BUNDLE ').length, g.forEach(function(y, b) {
								var v = n.splitLines(y),
									k = v[0].substr(2).split(' '),
									w = k[0],
									T = '0' === k[1],
									_ = n.getDirection(y, f),
									j = n.matchPrefix(y, 'a=mid:');
								if (j = j.length ? j[0].substr(6) : n.generateIdentifier(), 'application' === w && 'DTLS/SCTP' === k[2]) return void(c.transceivers[b] = {
									mid: j,
									isDatachannel: !0
								});
								var L, ee, te, re, Ze, rt, ct, pt, lt, ut, ht, yt, O = n.parseRtpParameters(y);
								T || (ht = n.getIceParameters(y, f), yt = n.getDtlsParameters(y, f), yt.role = 'client'), pt = n.parseRtpEncodingParameters(y);
								var Ct, bt = n.matchPrefix(y, 'a=ssrc:').map(function(nn) {
									return n.parseSsrcMedia(nn)
								}).filter(function(nn) {
									return 'cname' === nn.attribute
								})[0];
								bt && (Ct = bt.value);
								var er = 0 < n.matchPrefix(y, 'a=end-of-candidates', f).length,
									ar = n.matchPrefix(y, 'a=candidate:').map(function(nn) {
										return n.parseCandidate(nn)
									}).filter(function(nn) {
										return '1' === nn.component
									});
								if ('offer' === s.type && !T) {
									var fr = c.usingBundle && 0 < b ? {
										iceGatherer: c.transceivers[0].iceGatherer,
										iceTransport: c.transceivers[0].iceTransport,
										dtlsTransport: c.transceivers[0].dtlsTransport
									} : c._createIceAndDtlsTransports(j, b);
									if (er && fr.iceTransport.setRemoteCandidates(ar), lt = RTCRtpReceiver.getCapabilities(w), lt.codecs = lt.codecs.filter(function(nn) {
											return 'rtx' !== nn.name
										}), ct = [{
											ssrc: 1001 * (2 * b + 2)
										}], rt = new RTCRtpReceiver(fr.dtlsTransport, w), ut = rt.track, u.push([ut, rt]), m.addTrack(ut), 0 < c.localStreams.length && c.localStreams[0].getTracks().length >= b) {
										var rn;
										'audio' === w ? rn = c.localStreams[0].getAudioTracks()[0] : 'video' === w && (rn = c.localStreams[0].getVideoTracks()[0]), rn && (Ze = new RTCRtpSender(rn, fr.dtlsTransport))
									}
									c.transceivers[b] = {
										iceGatherer: fr.iceGatherer,
										iceTransport: fr.iceTransport,
										dtlsTransport: fr.dtlsTransport,
										localCapabilities: lt,
										remoteCapabilities: O,
										rtpSender: Ze,
										rtpReceiver: rt,
										kind: w,
										mid: j,
										cname: Ct,
										sendEncodingParameters: ct,
										recvEncodingParameters: pt
									}, c._transceive(c.transceivers[b], !1, 'sendrecv' === _ || 'sendonly' === _)
								} else 'answer' !== s.type || T || (L = c.transceivers[b], ee = L.iceGatherer, te = L.iceTransport, re = L.dtlsTransport, Ze = L.rtpSender, rt = L.rtpReceiver, ct = L.sendEncodingParameters, lt = L.localCapabilities, c.transceivers[b].recvEncodingParameters = pt, c.transceivers[b].remoteCapabilities = O, c.transceivers[b].cname = Ct, (h || er) && ar.length && te.setRemoteCandidates(ar), c.usingBundle && 0 !== b || (te.start(ee, ht, 'controlling'), re.start(yt)), c._transceive(L, 'sendrecv' === _ || 'recvonly' === _, 'sendrecv' === _ || 'sendonly' === _), rt && ('sendrecv' === _ || 'sendonly' === _) ? (ut = rt.track, u.push([ut, rt]), m.addTrack(ut)) : delete L.rtpReceiver)
							}), this.remoteDescription = {
								type: s.type,
								sdp: s.sdp
							}, s.type) {
								case 'offer':
									this._updateSignalingState('have-remote-offer');
									break;
								case 'answer':
									this._updateSignalingState('stable');
									break;
								default:
									throw new TypeError('unsupported type "' + s.type + '"');
							}
							return m.getTracks().length && (c.remoteStreams.push(m), window.setTimeout(function() {
								var y = new Event('addstream');
								y.stream = m, c.dispatchEvent(y), null !== c.onaddstream && window.setTimeout(function() {
									c.onaddstream(y)
								}, 0), u.forEach(function(b) {
									var v = b[0],
										k = b[1],
										w = new Event('track');
									w.track = v, w.receiver = k, w.streams = [m], c.dispatchEvent(y), null !== c.ontrack && window.setTimeout(function() {
										c.ontrack(w)
									}, 0)
								})
							}, 0)), 1 < arguments.length && 'function' == typeof arguments[1] && window.setTimeout(arguments[1], 0), Promise.resolve()
						}, window.RTCPeerConnection.prototype.close = function() {
							this.transceivers.forEach(function(s) {
								s.iceTransport && s.iceTransport.stop(), s.dtlsTransport && s.dtlsTransport.stop(), s.rtpSender && s.rtpSender.stop(), s.rtpReceiver && s.rtpReceiver.stop()
							}), this._updateSignalingState('closed')
						}, window.RTCPeerConnection.prototype._updateSignalingState = function(s) {
							this.signalingState = s;
							var c = new Event('signalingstatechange');
							this.dispatchEvent(c), null !== this.onsignalingstatechange && this.onsignalingstatechange(c)
						}, window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {
							var s = new Event('negotiationneeded');
							this.dispatchEvent(s), null !== this.onnegotiationneeded && this.onnegotiationneeded(s)
						}, window.RTCPeerConnection.prototype._updateConnectionState = function() {
							var m, s = this,
								c = {
									'new': 0,
									closed: 0,
									connecting: 0,
									checking: 0,
									connected: 0,
									completed: 0,
									failed: 0
								};
							if (this.transceivers.forEach(function(g) {
									c[g.iceTransport.state]++, c[g.dtlsTransport.state]++
								}), c.connected += c.completed, m = 'new', 0 < c.failed ? m = 'failed' : 0 < c.connecting || 0 < c.checking ? m = 'connecting' : 0 < c.disconnected ? m = 'disconnected' : 0 < c.new ? m = 'new' : (0 < c.connected || 0 < c.completed) && (m = 'connected'), m !== s.iceConnectionState) {
								s.iceConnectionState = m;
								var u = new Event('iceconnectionstatechange');
								this.dispatchEvent(u), null !== this.oniceconnectionstatechange && this.oniceconnectionstatechange(u)
							}
						}, window.RTCPeerConnection.prototype.createOffer = function() {
							var s = this;
							if (this._pendingOffer) throw new Error('createOffer called while there is a pending offer.');
							var c;
							1 === arguments.length && 'function' != typeof arguments[0] ? c = arguments[0] : 3 === arguments.length && (c = arguments[2]);
							var m = [],
								u = 0,
								g = 0;
							if (this.localStreams.length && (u = this.localStreams[0].getAudioTracks().length, g = this.localStreams[0].getVideoTracks().length), c) {
								if (c.mandatory || c.optional) throw new TypeError('Legacy mandatory/optional constraints not supported.');
								void 0 !== c.offerToReceiveAudio && (u = c.offerToReceiveAudio), void 0 !== c.offerToReceiveVideo && (g = c.offerToReceiveVideo)
							}
							for (this.localStreams.length && this.localStreams[0].getTracks().forEach(function(b) {
									m.push({
										kind: b.kind,
										track: b,
										wantReceive: 'audio' === b.kind ? 0 < u : 0 < g
									}), 'audio' === b.kind ? u-- : 'video' === b.kind && g--
								}); 0 < u || 0 < g;) 0 < u && (m.push({
								kind: 'audio',
								wantReceive: !0
							}), u--), 0 < g && (m.push({
								kind: 'video',
								wantReceive: !0
							}), g--);
							var f = n.writeSessionBoilerplate(),
								h = [];
							m.forEach(function(b, v) {
								var k = b.track,
									w = b.kind,
									T = n.generateIdentifier(),
									_ = s.usingBundle && 0 < v ? {
										iceGatherer: h[0].iceGatherer,
										iceTransport: h[0].iceTransport,
										dtlsTransport: h[0].dtlsTransport
									} : s._createIceAndDtlsTransports(T, v),
									j = RTCRtpSender.getCapabilities(w);
								j.codecs = j.codecs.filter(function(ee) {
									return 'rtx' !== ee.name
								}), j.codecs.forEach(function(ee) {
									'H264' === ee.name && void 0 === ee.parameters['level-asymmetry-allowed'] && (ee.parameters['level-asymmetry-allowed'] = '1')
								});
								var O, L;
								k && (O = new RTCRtpSender(k, _.dtlsTransport)), b.wantReceive && (L = new RTCRtpReceiver(_.dtlsTransport, w)), h[v] = {
									iceGatherer: _.iceGatherer,
									iceTransport: _.iceTransport,
									dtlsTransport: _.dtlsTransport,
									localCapabilities: j,
									remoteCapabilities: null,
									rtpSender: O,
									rtpReceiver: L,
									kind: w,
									mid: T,
									sendEncodingParameters: [{
										ssrc: 1001 * (2 * v + 1)
									}],
									recvEncodingParameters: null
								}
							}), this.usingBundle && (f += 'a=group:BUNDLE ' + h.map(function(b) {
								return b.mid
							}).join(' ') + '\r\n'), m.forEach(function(b, v) {
								var k = h[v];
								f += n.writeMediaSection(k, k.localCapabilities, 'offer', s.localStreams[0])
							}), this._pendingOffer = h;
							var y = new RTCSessionDescription({
								type: 'offer',
								sdp: f
							});
							return arguments.length && 'function' == typeof arguments[0] && window.setTimeout(arguments[0], 0, y), Promise.resolve(y)
						}, window.RTCPeerConnection.prototype.createAnswer = function() {
							var s = this,
								c = n.writeSessionBoilerplate();
							this.usingBundle && (c += 'a=group:BUNDLE ' + this.transceivers.map(function(u) {
								return u.mid
							}).join(' ') + '\r\n'), this.transceivers.forEach(function(u) {
								if (u.isDatachannel) return void(c += 'm=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:' + u.mid + '\r\n');
								var g = s._getCommonCapabilities(u.localCapabilities, u.remoteCapabilities);
								c += n.writeMediaSection(u, g, 'answer', s.localStreams[0])
							});
							var m = new RTCSessionDescription({
								type: 'answer',
								sdp: c
							});
							return arguments.length && 'function' == typeof arguments[0] && window.setTimeout(arguments[0], 0, m), Promise.resolve(m)
						}, window.RTCPeerConnection.prototype.addIceCandidate = function(s) {
							if (!s) this.transceivers.forEach(function(h) {
								h.iceTransport.addRemoteCandidate({})
							});
							else {
								var c = s.sdpMLineIndex;
								if (s.sdpMid)
									for (var m = 0; m < this.transceivers.length; m++)
										if (this.transceivers[m].mid === s.sdpMid) {
											c = m;
											break
										}
								var u = this.transceivers[c];
								if (u) {
									var g = 0 < Object.keys(s.candidate).length ? n.parseCandidate(s.candidate) : {};
									if ('tcp' === g.protocol && (0 === g.port || 9 === g.port)) return;
									if ('1' !== g.component) return;
									'endOfCandidates' === g.type && (g = {}), u.iceTransport.addRemoteCandidate(g);
									var f = n.splitSections(this.remoteDescription.sdp);
									f[c + 1] += (g.type ? s.candidate.trim() : 'a=end-of-candidates') + '\r\n', this.remoteDescription.sdp = f.join('')
								}
							}
							return 1 < arguments.length && 'function' == typeof arguments[1] && window.setTimeout(arguments[1], 0), Promise.resolve()
						}, window.RTCPeerConnection.prototype.getStats = function() {
							var s = [];
							this.transceivers.forEach(function(m) {
								['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport', 'dtlsTransport'].forEach(function(u) {
									m[u] && s.push(m[u].getStats())
								})
							});
							var c = 1 < arguments.length && 'function' == typeof arguments[1] && arguments[1];
							return new Promise(function(m) {
								var u = new Map;
								Promise.all(s).then(function(g) {
									g.forEach(function(f) {
										Object.keys(f).forEach(function(h) {
											u.set(h, f[h]), u[h] = f[h]
										})
									}), c && window.setTimeout(c, 0, u), m(u)
								})
							})
						}
					}
				}.shimPeerConnection,
				shimGetUserMedia: t('./getusermedia')
			}
		}, {
			'../utils': 12,
			'./getusermedia': 8,
			sdp: 59
		}],
		8: [function(t, r) {
			'use strict';
			r.exports = function() {
				var n = function(o) {
						return {
							name: {
								PermissionDeniedError: 'NotAllowedError'
							}[o.name] || o.name,
							message: o.message,
							constraint: o.constraint,
							toString: function() {
								return this.name
							}
						}
					},
					a = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
				navigator.mediaDevices.getUserMedia = function(o) {
					return a(o).catch(function(s) {
						return Promise.reject(n(s))
					})
				}
			}
		}, {}],
		9: [function(t, r) {
			'use strict';
			var n = t('../utils').browserDetails,
				a = {
					shimOnTrack: function() {
						'object' == typeof window && window.RTCPeerConnection && !('ontrack' in window.RTCPeerConnection.prototype) && Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {
							get: function() {
								return this._ontrack
							},
							set: function(o) {
								this._ontrack && (this.removeEventListener('track', this._ontrack), this.removeEventListener('addstream', this._ontrackpoly)), this.addEventListener('track', this._ontrack = o), this.addEventListener('addstream', this._ontrackpoly = function(s) {
									s.stream.getTracks().forEach(function(c) {
										var m = new Event('track');
										m.track = c, m.receiver = {
											track: c
										}, m.streams = [s.stream], this.dispatchEvent(m)
									}.bind(this))
								}.bind(this))
							}
						})
					},
					shimSourceObject: function() {
						'object' == typeof window && window.HTMLMediaElement && !('srcObject' in window.HTMLMediaElement.prototype) && Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {
							get: function() {
								return this.mozSrcObject
							},
							set: function(o) {
								this.mozSrcObject = o
							}
						})
					},
					shimPeerConnection: function() {
						if ('object' == typeof window && (window.RTCPeerConnection || window.mozRTCPeerConnection)) {
							window.RTCPeerConnection || (window.RTCPeerConnection = function(m, u) {
								if (38 > n.version && m && m.iceServers) {
									for (var h, g = [], f = 0; f < m.iceServers.length; f++)
										if (h = m.iceServers[f], h.hasOwnProperty('urls'))
											for (var b, y = 0; y < h.urls.length; y++) b = {
												url: h.urls[y]
											}, 0 === h.urls[y].indexOf('turn') && (b.username = h.username, b.credential = h.credential), g.push(b);
										else g.push(m.iceServers[f]);
									m.iceServers = g
								}
								return new mozRTCPeerConnection(m, u)
							}, window.RTCPeerConnection.prototype = mozRTCPeerConnection.prototype, mozRTCPeerConnection.generateCertificate && Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {
								get: function() {
									return mozRTCPeerConnection.generateCertificate
								}
							}), window.RTCSessionDescription = mozRTCSessionDescription, window.RTCIceCandidate = mozRTCIceCandidate), ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(m) {
								var u = RTCPeerConnection.prototype[m];
								RTCPeerConnection.prototype[m] = function() {
									return arguments[0] = new('addIceCandidate' === m ? RTCIceCandidate : RTCSessionDescription)(arguments[0]), u.apply(this, arguments)
								}
							});
							var o = RTCPeerConnection.prototype.addIceCandidate;
							if (RTCPeerConnection.prototype.addIceCandidate = function() {
									return arguments[0] ? o.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve())
								}, 48 > n.version) {
								var s = function(m) {
										var u = new Map;
										return Object.keys(m).forEach(function(g) {
											u.set(g, m[g]), u[g] = m[g]
										}), u
									},
									c = RTCPeerConnection.prototype.getStats;
								RTCPeerConnection.prototype.getStats = function(m, u, g) {
									return c.apply(this, [m || null]).then(function(f) {
										return s(f)
									}).then(u, g)
								}
							}
						}
					}
				};
			r.exports = {
				shimOnTrack: a.shimOnTrack,
				shimSourceObject: a.shimSourceObject,
				shimPeerConnection: a.shimPeerConnection,
				shimGetUserMedia: t('./getusermedia')
			}
		}, {
			'../utils': 12,
			'./getusermedia': 10
		}],
		10: [function(t, r) {
			'use strict';
			var n = t('../utils').log,
				a = t('../utils').browserDetails;
			r.exports = function() {
				var o = function(u) {
						return {
							name: {
								SecurityError: 'NotAllowedError',
								PermissionDeniedError: 'NotAllowedError'
							}[u.name] || u.name,
							message: {
								'The operation is insecure.': 'The request is not allowed by the user agent or the platform in the current context.'
							}[u.message] || u.message,
							constraint: u.constraint,
							toString: function() {
								return this.name + (this.message && ': ') + this.message
							}
						}
					},
					s = function(u, g, f) {
						var h = function(y) {
							if ('object' != typeof y || y.require) return y;
							var b = [];
							return Object.keys(y).forEach(function(v) {
								if ('require' !== v && 'advanced' !== v && 'mediaSource' !== v) {
									var k = y[v] = 'object' == typeof y[v] ? y[v] : {
										ideal: y[v]
									};
									if ((void 0 !== k.min || void 0 !== k.max || void 0 !== k.exact) && b.push(v), void 0 !== k.exact && ('number' == typeof k.exact ? k.min = k.max = k.exact : y[v] = k.exact, delete k.exact), void 0 !== k.ideal) {
										y.advanced = y.advanced || [];
										var w = {};
										w[v] = 'number' == typeof k.ideal ? {
											min: k.ideal,
											max: k.ideal
										} : k.ideal, y.advanced.push(w), delete k.ideal, Object.keys(k).length || delete y[v]
									}
								}
							}), b.length && (y.require = b), y
						};
						return u = JSON.parse(JSON.stringify(u)), 38 > a.version && (n('spec: ' + JSON.stringify(u)), u.audio && (u.audio = h(u.audio)), u.video && (u.video = h(u.video)), n('ff37: ' + JSON.stringify(u))), navigator.mozGetUserMedia(u, g, function(y) {
							f(o(y))
						})
					};
				if (navigator.mediaDevices || (navigator.mediaDevices = {
						getUserMedia: function(u) {
							return new Promise(function(g, f) {
								s(u, g, f)
							})
						},
						addEventListener: function() {},
						removeEventListener: function() {}
					}), navigator.mediaDevices.enumerateDevices = navigator.mediaDevices.enumerateDevices || function() {
						return new Promise(function(u) {
							u([{
								kind: 'audioinput',
								deviceId: 'default',
								label: '',
								groupId: ''
							}, {
								kind: 'videoinput',
								deviceId: 'default',
								label: '',
								groupId: ''
							}])
						})
					}, 41 > a.version) {
					var c = navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);
					navigator.mediaDevices.enumerateDevices = function() {
						return c().then(void 0, function(u) {
							if ('NotFoundError' === u.name) return [];
							throw u
						})
					}
				}
				if (49 > a.version) {
					var m = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
					navigator.mediaDevices.getUserMedia = function(u) {
						return m(u).then(function(g) {
							if (u.audio && !g.getAudioTracks().length || u.video && !g.getVideoTracks().length) throw g.getTracks().forEach(function(f) {
								f.stop()
							}), new DOMException('The object can not be found here.', 'NotFoundError');
							return g
						}, function(g) {
							return Promise.reject(o(g))
						})
					}
				}
				navigator.getUserMedia = function(u, g, f) {
					return 44 > a.version ? s(u, g, f) : void(console.warn('navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia'), navigator.mediaDevices.getUserMedia(u).then(g, f))
				}
			}
		}, {
			'../utils': 12
		}],
		11: [function(t, r) {
			'use strict';
			r.exports = {
				shimGetUserMedia: {
					shimGetUserMedia: function() {
						navigator.getUserMedia = navigator.webkitGetUserMedia
					}
				}.shimGetUserMedia
			}
		}, {}],
		12: [function(t, r) {
			'use strict';
			var n = !0,
				a = {
					disableLog: function(o) {
						return 'boolean' == typeof o ? (n = o, o ? 'adapter.js logging disabled' : 'adapter.js logging enabled') : new Error('Argument type: ' + typeof o + '. Please use a boolean.')
					},
					log: function() {
						if ('object' == typeof window) {
							if (n) return;
							'undefined' != typeof console && 'function' == typeof console.log && console.log.apply(console, arguments)
						}
					},
					extractVersion: function(o, s, c) {
						var m = o.match(s);
						return m && m.length >= c && parseInt(m[c], 10)
					},
					detectBrowser: function() {
						var o = {
							browser: null,
							version: null
						};
						if ('undefined' == typeof window || !window.navigator) return o.browser = 'Not a browser.', o;
						if (navigator.mozGetUserMedia) o.browser = 'firefox', o.version = this.extractVersion(navigator.userAgent, /Firefox\/([0-9]+)\./, 1);
						else if (navigator.webkitGetUserMedia) {
							if (window.webkitRTCPeerConnection) o.browser = 'chrome', o.version = this.extractVersion(navigator.userAgent, /Chrom(e|ium)\/([0-9]+)\./, 2);
							else if (navigator.userAgent.match(/Version\/(\d+).(\d+)/)) o.browser = 'safari', o.version = this.extractVersion(navigator.userAgent, /AppleWebKit\/([0-9]+)\./, 1);
							else return o.browser = 'Unsupported webkit-based browser with GUM support but no WebRTC support.', o;
						} else if (navigator.mediaDevices && navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)) o.browser = 'edge', o.version = this.extractVersion(navigator.userAgent, /Edge\/(\d+).(\d+)$/, 2);
						else return o.browser = 'Not a supported browser.', o;
						return o
					}
				};
			r.exports = {
				log: a.log,
				disableLog: a.disableLog,
				browserDetails: a.detectBrowser(),
				extractVersion: a.extractVersion
			}
		}, {}],
		13: [function(t, r) {
			function n(a) {
				a = a || {}, this.ms = a.min || 100, this.max = a.max || 1e4, this.factor = a.factor || 2, this.jitter = 0 < a.jitter && 1 >= a.jitter ? a.jitter : 0, this.attempts = 0
			}
			r.exports = n, n.prototype.duration = function() {
				var a = this.ms * Math.pow(this.factor, this.attempts++);
				if (this.jitter) {
					var o = Math.random(),
						s = Math.floor(o * this.jitter * a);
					a = 0 == (1 & Math.floor(10 * o)) ? a - s : a + s
				}
				return 0 | Math.min(a, this.max)
			}, n.prototype.reset = function() {
				this.attempts = 0
			}, n.prototype.setMin = function(a) {
				this.ms = a
			}, n.prototype.setMax = function(a) {
				this.max = a
			}, n.prototype.setJitter = function(a) {
				this.jitter = a
			}
		}, {}],
		14: [function(t, r, n) {
			(function(a) {
				'use strict';
				n.encode = function(o) {
					var u, s = new Uint8Array(o),
						c = s.length,
						m = '';
					for (u = 0; u < c; u += 3) m += a[s[u] >> 2], m += a[(3 & s[u]) << 4 | s[u + 1] >> 4], m += a[(15 & s[u + 1]) << 2 | s[u + 2] >> 6], m += a[63 & s[u + 2]];
					return 2 == c % 3 ? m = m.substring(0, m.length - 1) + '=' : 1 == c % 3 && (m = m.substring(0, m.length - 2) + '=='), m
				}, n.decode = function(o) {
					var u, g, f, h, y, s = 0.75 * o.length,
						c = o.length,
						m = 0;
					'=' === o[o.length - 1] && (s--, '=' === o[o.length - 2] && s--);
					var b = new ArrayBuffer(s),
						v = new Uint8Array(b);
					for (u = 0; u < c; u += 4) g = a.indexOf(o[u]), f = a.indexOf(o[u + 1]), h = a.indexOf(o[u + 2]), y = a.indexOf(o[u + 3]), v[m++] = g << 2 | f >> 4, v[m++] = (15 & f) << 4 | h >> 2, v[m++] = (3 & h) << 6 | 63 & y;
					return b
				}
			})('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/')
		}, {}],
		15: [function(t, r) {
			(function(n) {
				function a(f) {
					for (var y, h = 0; h < f.length; h++)
						if (y = f[h], y.buffer instanceof ArrayBuffer) {
							var b = y.buffer;
							if (y.byteLength !== b.byteLength) {
								var v = new Uint8Array(y.byteLength);
								v.set(new Uint8Array(b, y.byteOffset, y.byteLength)), b = v.buffer
							}
							f[h] = b
						}
				}

				function o(f, h) {
					h = h || {};
					var y = new c;
					a(f);
					for (var b = 0; b < f.length; b++) y.append(f[b]);
					return h.type ? y.getBlob(h.type) : y.getBlob()
				}

				function s(f, h) {
					return a(f), new Blob(f, h || {})
				}
				var c = n.BlobBuilder || n.WebKitBlobBuilder || n.MSBlobBuilder || n.MozBlobBuilder,
					m = function() {
						try {
							var f = new Blob(['hi']);
							return 2 === f.size
						} catch (h) {
							return !1
						}
					}(),
					u = m && function() {
						try {
							var f = new Blob([new Uint8Array([1, 2])]);
							return 2 === f.size
						} catch (h) {
							return !1
						}
					}(),
					g = c && c.prototype.append && c.prototype.getBlob;
				r.exports = function() {
					return m ? u ? n.Blob : s : g ? o : void 0
				}()
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {}],
		16: [function(t, r) {
			var n = [].slice;
			r.exports = function(a, o) {
				if ('string' == typeof o && (o = a[o]), 'function' != typeof o) throw new Error('bind() requires a function');
				var s = n.call(arguments, 2);
				return function() {
					return o.apply(a, s.concat(n.call(arguments)))
				}
			}
		}, {}],
		17: [function(t, r) {
			function n(o) {
				if (o) return a(o)
			}

			function a(o) {
				for (var s in n.prototype) o[s] = n.prototype[s];
				return o
			}
			r.exports = n, n.prototype.on = n.prototype.addEventListener = function(o, s) {
				return this._callbacks = this._callbacks || {}, (this._callbacks[o] = this._callbacks[o] || []).push(s), this
			}, n.prototype.once = function(o, s) {
				function c() {
					m.off(o, c), s.apply(this, arguments)
				}
				var m = this;
				return this._callbacks = this._callbacks || {}, c.fn = s, this.on(o, c), this
			}, n.prototype.off = n.prototype.removeListener = n.prototype.removeAllListeners = n.prototype.removeEventListener = function(o, s) {
				if (this._callbacks = this._callbacks || {}, 0 == arguments.length) return this._callbacks = {}, this;
				var c = this._callbacks[o];
				if (!c) return this;
				if (1 == arguments.length) return delete this._callbacks[o], this;
				for (var u, m = 0; m < c.length; m++)
					if (u = c[m], u === s || u.fn === s) {
						c.splice(m, 1);
						break
					}
				return this
			}, n.prototype.emit = function(o) {
				this._callbacks = this._callbacks || {};
				var s = [].slice.call(arguments, 1),
					c = this._callbacks[o];
				if (c) {
					c = c.slice(0);
					for (var m = 0, u = c.length; m < u; ++m) c[m].apply(this, s)
				}
				return this
			}, n.prototype.listeners = function(o) {
				return this._callbacks = this._callbacks || {}, this._callbacks[o] || []
			}, n.prototype.hasListeners = function(o) {
				return !!this.listeners(o).length
			}
		}, {}],
		18: [function(t, r) {
			r.exports = function(n, a) {
				var o = function() {};
				o.prototype = a.prototype, n.prototype = new o, n.prototype.constructor = n
			}
		}, {}],
		19: [function(t, r) {
			function n(o) {
				return n.enabled(o) ? function(s) {
					s = a(s);
					var c = new Date,
						m = c - (n[o] || c);
					n[o] = c, s = o + ' ' + s + ' +' + n.humanize(m), window.console && console.log && Function.prototype.apply.call(console.log, console, arguments)
				} : function() {}
			}

			function a(o) {
				return o instanceof Error ? o.stack || o.message : o
			}
			r.exports = n, n.names = [], n.skips = [], n.enable = function(o) {
				try {
					localStorage.debug = o
				} catch (u) {}
				for (var s = (o || '').split(/[\s,]+/), c = s.length, m = 0; m < c; m++) o = s[m].replace('*', '.*?'), '-' === o[0] ? n.skips.push(new RegExp('^' + o.substr(1) + '$')) : n.names.push(new RegExp('^' + o + '$'))
			}, n.disable = function() {
				n.enable('')
			}, n.humanize = function(o) {
				var s = 1e3,
					c = 6e4,
					m = 60 * c;
				return o >= m ? (o / m).toFixed(1) + 'h' : o >= c ? (o / c).toFixed(1) + 'm' : o >= s ? (0 | o / s) + 's' : o + 'ms'
			}, n.enabled = function(o) {
				for (var s = 0, c = n.skips.length; s < c; s++)
					if (n.skips[s].test(o)) return !1;
				for (var s = 0, c = n.names.length; s < c; s++)
					if (n.names[s].test(o)) return !0;
				return !1
			};
			try {
				window.localStorage && n.enable(localStorage.debug)
			} catch (o) {}
		}, {}],
		20: [function(t, r) {
			r.exports = t('./lib/')
		}, {
			'./lib/': 21
		}],
		21: [function(t, r) {
			r.exports = t('./socket'), r.exports.parser = t('engine.io-parser')
		}, {
			'./socket': 22,
			'engine.io-parser': 33
		}],
		22: [function(t, r) {
			(function(n) {
				function a(b, v) {
					if (!(this instanceof a)) return new a(b, v);
					if (v = v || {}, b && 'object' == typeof b && (v = b, b = null), b && (b = f(b), v.host = b.host, v.secure = 'https' == b.protocol || 'wss' == b.protocol, v.port = b.port, b.query && (v.query = b.query)), this.secure = null == v.secure ? n.location && 'https:' == location.protocol : v.secure, v.host) {
						var k = v.host.split(':');
						v.hostname = k.shift(), k.length ? v.port = k.pop() : !v.port && (v.port = this.secure ? '443' : '80')
					}
					this.agent = v.agent || !1, this.hostname = v.hostname || (n.location ? location.hostname : 'localhost'), this.port = v.port || (n.location && location.port ? location.port : this.secure ? 443 : 80), this.query = v.query || {}, 'string' == typeof this.query && (this.query = y.decode(this.query)), this.upgrade = !1 !== v.upgrade, this.path = (v.path || '/engine.io').replace(/\/$/, '') + '/', this.forceJSONP = !!v.forceJSONP, this.jsonp = !1 !== v.jsonp, this.forceBase64 = !!v.forceBase64, this.enablesXDR = !!v.enablesXDR, this.timestampParam = v.timestampParam || 't', this.timestampRequests = v.timestampRequests, this.transports = v.transports || ['polling', 'websocket'], this.readyState = '', this.writeBuffer = [], this.callbackBuffer = [], this.policyPort = v.policyPort || 843, this.rememberUpgrade = v.rememberUpgrade || !1, this.binaryType = null, this.onlyBinaryUpgrades = v.onlyBinaryUpgrades, this.pfx = v.pfx || null, this.key = v.key || null, this.passphrase = v.passphrase || null, this.cert = v.cert || null, this.ca = v.ca || null, this.ciphers = v.ciphers || null, this.rejectUnauthorized = v.rejectUnauthorized || null, this.open()
				}

				function o(b) {
					var v = {};
					for (var k in b) b.hasOwnProperty(k) && (v[k] = b[k]);
					return v
				}
				var s = t('./transports'),
					c = t('component-emitter'),
					m = t('debug')('engine.io-client:socket'),
					u = t('indexof'),
					g = t('engine.io-parser'),
					f = t('parseuri'),
					h = t('parsejson'),
					y = t('parseqs');
				r.exports = a, a.priorWebsocketSuccess = !1, c(a.prototype), a.protocol = g.protocol, a.Socket = a, a.Transport = t('./transport'), a.transports = t('./transports'), a.parser = t('engine.io-parser'), a.prototype.createTransport = function(b) {
					m('creating transport "%s"', b);
					var v = o(this.query);
					v.EIO = g.protocol, v.transport = b, this.id && (v.sid = this.id);
					var k = new s[b]({
						agent: this.agent,
						hostname: this.hostname,
						port: this.port,
						secure: this.secure,
						path: this.path,
						query: v,
						forceJSONP: this.forceJSONP,
						jsonp: this.jsonp,
						forceBase64: this.forceBase64,
						enablesXDR: this.enablesXDR,
						timestampRequests: this.timestampRequests,
						timestampParam: this.timestampParam,
						policyPort: this.policyPort,
						socket: this,
						pfx: this.pfx,
						key: this.key,
						passphrase: this.passphrase,
						cert: this.cert,
						ca: this.ca,
						ciphers: this.ciphers,
						rejectUnauthorized: this.rejectUnauthorized
					});
					return k
				}, a.prototype.open = function() {
					var b;
					if (this.rememberUpgrade && a.priorWebsocketSuccess && -1 != this.transports.indexOf('websocket')) b = 'websocket';
					else {
						if (0 == this.transports.length) {
							var v = this;
							return void setTimeout(function() {
								v.emit('error', 'No transports available')
							}, 0)
						}
						b = this.transports[0]
					}
					this.readyState = 'opening';
					var b;
					try {
						b = this.createTransport(b)
					} catch (k) {
						return this.transports.shift(), void this.open()
					}
					b.open(), this.setTransport(b)
				}, a.prototype.setTransport = function(b) {
					m('setting transport %s', b.name);
					var v = this;
					this.transport && (m('clearing existing transport %s', this.transport.name), this.transport.removeAllListeners()), this.transport = b, b.on('drain', function() {
						v.onDrain()
					}).on('packet', function(k) {
						v.onPacket(k)
					}).on('error', function(k) {
						v.onError(k)
					}).on('close', function() {
						v.onClose('transport close')
					})
				}, a.prototype.probe = function(b) {
					function v() {
						if (te.onlyBinaryUpgrades) {
							var re = !this.supportsBinary && te.transport.supportsBinary;
							ee = ee || re
						}
						ee || (m('probe transport "%s" opened', b), L.send([{
							type: 'ping',
							data: 'probe'
						}]), L.once('packet', function(Ze) {
							if (!ee)
								if ('pong' == Ze.type && 'probe' == Ze.data) {
									if (m('probe transport "%s" pong', b), te.upgrading = !0, te.emit('upgrading', L), !L) return;
									a.priorWebsocketSuccess = 'websocket' == L.name, m('pausing current transport "%s"', te.transport.name), te.transport.pause(function() {
										ee || 'closed' == te.readyState || (m('changing transport and sending upgrade packet'), O(), te.setTransport(L), L.send([{
											type: 'upgrade'
										}]), te.emit('upgrade', L), L = null, te.upgrading = !1, te.flush())
									})
								} else {
									m('probe transport "%s" failed', b);
									var rt = new Error('probe error');
									rt.transport = L.name, te.emit('upgradeError', rt)
								}
						}))
					}

					function k() {
						ee || (ee = !0, O(), L.close(), L = null)
					}

					function w(re) {
						var Ze = new Error('probe error: ' + re);
						Ze.transport = L.name, k(), m('probe transport "%s" failed because of error: %s', b, re), te.emit('upgradeError', Ze)
					}

					function T() {
						w('transport closed')
					}

					function _() {
						w('socket closed')
					}

					function j(re) {
						L && re.name != L.name && (m('"%s" works - aborting "%s"', re.name, L.name), k())
					}

					function O() {
						L.removeListener('open', v), L.removeListener('error', w), L.removeListener('close', T), te.removeListener('close', _), te.removeListener('upgrading', j)
					}
					m('probing transport "%s"', b);
					var L = this.createTransport(b, {
							probe: 1
						}),
						ee = !1,
						te = this;
					a.priorWebsocketSuccess = !1, L.once('open', v), L.once('error', w), L.once('close', T), this.once('close', _), this.once('upgrading', j), L.open()
				}, a.prototype.onOpen = function() {
					if (m('socket open'), this.readyState = 'open', a.priorWebsocketSuccess = 'websocket' == this.transport.name, this.emit('open'), this.flush(), 'open' == this.readyState && this.upgrade && this.transport.pause) {
						m('starting upgrade probes');
						for (var b = 0, v = this.upgrades.length; b < v; b++) this.probe(this.upgrades[b])
					}
				}, a.prototype.onPacket = function(b) {
					if ('opening' == this.readyState || 'open' == this.readyState) switch (m('socket receive: type "%s", data "%s"', b.type, b.data), this.emit('packet', b), this.emit('heartbeat'), b.type) {
						case 'open':
							this.onHandshake(h(b.data));
							break;
						case 'pong':
							this.setPing();
							break;
						case 'error':
							var v = new Error('server error');
							v.code = b.data, this.emit('error', v);
							break;
						case 'message':
							this.emit('data', b.data), this.emit('message', b.data);
					} else m('packet received with socket readyState "%s"', this.readyState)
				}, a.prototype.onHandshake = function(b) {
					this.emit('handshake', b), this.id = b.sid, this.transport.query.sid = b.sid, this.upgrades = this.filterUpgrades(b.upgrades), this.pingInterval = b.pingInterval, this.pingTimeout = b.pingTimeout, this.onOpen(), 'closed' == this.readyState || (this.setPing(), this.removeListener('heartbeat', this.onHeartbeat), this.on('heartbeat', this.onHeartbeat))
				}, a.prototype.onHeartbeat = function(b) {
					clearTimeout(this.pingTimeoutTimer);
					var v = this;
					v.pingTimeoutTimer = setTimeout(function() {
						'closed' == v.readyState || v.onClose('ping timeout')
					}, b || v.pingInterval + v.pingTimeout)
				}, a.prototype.setPing = function() {
					var b = this;
					clearTimeout(b.pingIntervalTimer), b.pingIntervalTimer = setTimeout(function() {
						m('writing ping packet - expecting pong within %sms', b.pingTimeout), b.ping(), b.onHeartbeat(b.pingTimeout)
					}, b.pingInterval)
				}, a.prototype.ping = function() {
					this.sendPacket('ping')
				}, a.prototype.onDrain = function() {
					for (var b = 0; b < this.prevBufferLen; b++) this.callbackBuffer[b] && this.callbackBuffer[b]();
					this.writeBuffer.splice(0, this.prevBufferLen), this.callbackBuffer.splice(0, this.prevBufferLen), this.prevBufferLen = 0, 0 == this.writeBuffer.length ? this.emit('drain') : this.flush()
				}, a.prototype.flush = function() {
					'closed' != this.readyState && this.transport.writable && !this.upgrading && this.writeBuffer.length && (m('flushing %d packets in socket', this.writeBuffer.length), this.transport.send(this.writeBuffer), this.prevBufferLen = this.writeBuffer.length, this.emit('flush'))
				}, a.prototype.write = a.prototype.send = function(b, v) {
					return this.sendPacket('message', b, v), this
				}, a.prototype.sendPacket = function(b, v, k) {
					if ('closing' != this.readyState && 'closed' != this.readyState) {
						var w = {
							type: b,
							data: v
						};
						this.emit('packetCreate', w), this.writeBuffer.push(w), this.callbackBuffer.push(k), this.flush()
					}
				}, a.prototype.close = function() {
					if ('opening' == this.readyState || 'open' == this.readyState) {
						function v() {
							b.onClose('forced close'), m('socket closing - telling transport to close'), b.transport.close()
						}

						function k() {
							b.removeListener('upgrade', k), b.removeListener('upgradeError', k), v()
						}

						function w() {
							b.once('upgrade', k), b.once('upgradeError', k)
						}
						this.readyState = 'closing';
						var b = this;
						this.writeBuffer.length ? this.once('drain', function() {
							this.upgrading ? w() : v()
						}) : this.upgrading ? w() : v()
					}
					return this
				}, a.prototype.onError = function(b) {
					m('socket error %j', b), a.priorWebsocketSuccess = !1, this.emit('error', b), this.onClose('transport error', b)
				}, a.prototype.onClose = function(b, v) {
					if ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {
						m('socket close with reason: "%s"', b);
						var k = this;
						clearTimeout(this.pingIntervalTimer), clearTimeout(this.pingTimeoutTimer), setTimeout(function() {
							k.writeBuffer = [], k.callbackBuffer = [], k.prevBufferLen = 0
						}, 0), this.transport.removeAllListeners('close'), this.transport.close(), this.transport.removeAllListeners(), this.readyState = 'closed', this.id = null, this.emit('close', b, v)
					}
				}, a.prototype.filterUpgrades = function(b) {
					for (var v = [], k = 0, w = b.length; k < w; k++) ~u(this.transports, b[k]) && v.push(b[k]);
					return v
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./transport': 23,
			'./transports': 24,
			'component-emitter': 17,
			debug: 30,
			'engine.io-parser': 33,
			indexof: 41,
			parsejson: 49,
			parseqs: 50,
			parseuri: 32
		}],
		23: [function(t, r) {
			function n(s) {
				this.path = s.path, this.hostname = s.hostname, this.port = s.port, this.secure = s.secure, this.query = s.query, this.timestampParam = s.timestampParam, this.timestampRequests = s.timestampRequests, this.readyState = '', this.agent = s.agent || !1, this.socket = s.socket, this.enablesXDR = s.enablesXDR, this.pfx = s.pfx, this.key = s.key, this.passphrase = s.passphrase, this.cert = s.cert, this.ca = s.ca, this.ciphers = s.ciphers, this.rejectUnauthorized = s.rejectUnauthorized
			}
			var a = t('engine.io-parser'),
				o = t('component-emitter');
			r.exports = n, o(n.prototype), n.timestamps = 0, n.prototype.onError = function(s, c) {
				var m = new Error(s);
				return m.type = 'TransportError', m.description = c, this.emit('error', m), this
			}, n.prototype.open = function() {
				return ('closed' == this.readyState || '' == this.readyState) && (this.readyState = 'opening', this.doOpen()), this
			}, n.prototype.close = function() {
				return ('opening' == this.readyState || 'open' == this.readyState) && (this.doClose(), this.onClose()), this
			}, n.prototype.send = function(s) {
				if ('open' == this.readyState) this.write(s);
				else throw new Error('Transport not open')
			}, n.prototype.onOpen = function() {
				this.readyState = 'open', this.writable = !0, this.emit('open')
			}, n.prototype.onData = function(s) {
				var c = a.decodePacket(s, this.socket.binaryType);
				this.onPacket(c)
			}, n.prototype.onPacket = function(s) {
				this.emit('packet', s)
			}, n.prototype.onClose = function() {
				this.readyState = 'closed', this.emit('close')
			}
		}, {
			'component-emitter': 17,
			'engine.io-parser': 33
		}],
		24: [function(t, r, n) {
			(function(a) {
				var o = t('xmlhttprequest'),
					s = t('./polling-xhr'),
					c = t('./polling-jsonp'),
					m = t('./websocket');
				n.polling = function(u) {
					var y, g = !1,
						f = !1,
						h = !1 !== u.jsonp;
					if (a.location) {
						var b = 'https:' == location.protocol,
							v = location.port;
						v || (v = b ? 443 : 80), g = u.hostname != location.hostname || v != u.port, f = u.secure != b
					}
					if (u.xdomain = g, u.xscheme = f, y = new o(u), 'open' in y && !u.forceJSONP) return new s(u);
					if (!h) throw new Error('JSONP disabled');
					return new c(u)
				}, n.websocket = m
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./polling-jsonp': 25,
			'./polling-xhr': 26,
			'./websocket': 28,
			xmlhttprequest: 29
		}],
		25: [function(t, r) {
			(function(n) {
				function a() {}

				function o(f) {
					s.call(this, f), this.query = this.query || {}, g || (!n.___eio && (n.___eio = []), g = n.___eio), this.index = g.length;
					var h = this;
					g.push(function(y) {
						h.onData(y)
					}), this.query.j = this.index, n.document && n.addEventListener && n.addEventListener('beforeunload', function() {
						h.script && (h.script.onerror = a)
					}, !1)
				}
				var s = t('./polling'),
					c = t('component-inherit');
				r.exports = o;
				var g, m = /\n/g,
					u = /\\n/g;
				c(o, s), o.prototype.supportsBinary = !1, o.prototype.doClose = function() {
					this.script && (this.script.parentNode.removeChild(this.script), this.script = null), this.form && (this.form.parentNode.removeChild(this.form), this.form = null, this.iframe = null), s.prototype.doClose.call(this)
				}, o.prototype.doPoll = function() {
					var f = this,
						h = document.createElement('script');
					this.script && (this.script.parentNode.removeChild(this.script), this.script = null), h.async = !0, h.src = this.uri(), h.onerror = function(v) {
						f.onError('jsonp poll error', v)
					};
					var y = document.getElementsByTagName('script')[0];
					y.parentNode.insertBefore(h, y), this.script = h;
					var b = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);
					b && setTimeout(function() {
						var v = document.createElement('iframe');
						document.body.appendChild(v), document.body.removeChild(v)
					}, 100)
				}, o.prototype.doWrite = function(f, h) {
					function y() {
						b(), h()
					}

					function b() {
						if (v.iframe) try {
							v.form.removeChild(v.iframe)
						} catch (O) {
							v.onError('jsonp polling iframe removal error', O)
						}
						try {
							var j = '<iframe src="javascript:0" name="' + v.iframeId + '">';
							_ = document.createElement(j)
						} catch (O) {
							_ = document.createElement('iframe'), _.name = v.iframeId, _.src = 'javascript:0'
						}
						_.id = v.iframeId, v.form.appendChild(_), v.iframe = _
					}
					var v = this;
					if (!this.form) {
						var _, k = document.createElement('form'),
							w = document.createElement('textarea'),
							T = this.iframeId = 'eio_iframe_' + this.index;
						k.className = 'socketio', k.style.position = 'absolute', k.style.top = '-1000px', k.style.left = '-1000px', k.target = T, k.method = 'POST', k.setAttribute('accept-charset', 'utf-8'), w.name = 'd', k.appendChild(w), document.body.appendChild(k), this.form = k, this.area = w
					}
					this.form.action = this.uri(), b(), f = f.replace(u, '\\\n'), this.area.value = f.replace(m, '\\n');
					try {
						this.form.submit()
					} catch (j) {}
					this.iframe.attachEvent ? this.iframe.onreadystatechange = function() {
						'complete' == v.iframe.readyState && y()
					} : this.iframe.onload = y
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./polling': 27,
			'component-inherit': 18
		}],
		26: [function(t, r) {
			(function(n) {
				function a() {}

				function o(y) {
					if (u.call(this, y), n.location) {
						var b = 'https:' == location.protocol,
							v = location.port;
						v || (v = b ? 443 : 80), this.xd = y.hostname != n.location.hostname || v != y.port, this.xs = y.secure != b
					}
				}

				function s(y) {
					this.method = y.method || 'GET', this.uri = y.uri, this.xd = !!y.xd, this.xs = !!y.xs, this.async = !1 !== y.async, this.data = void 0 == y.data ? null : y.data, this.agent = y.agent, this.isBinary = y.isBinary, this.supportsBinary = y.supportsBinary, this.enablesXDR = y.enablesXDR, this.pfx = y.pfx, this.key = y.key, this.passphrase = y.passphrase, this.cert = y.cert, this.ca = y.ca, this.ciphers = y.ciphers, this.rejectUnauthorized = y.rejectUnauthorized, this.create()
				}

				function c() {
					for (var y in s.requests) s.requests.hasOwnProperty(y) && s.requests[y].abort()
				}
				var m = t('xmlhttprequest'),
					u = t('./polling'),
					g = t('component-emitter'),
					f = t('component-inherit'),
					h = t('debug')('engine.io-client:polling-xhr');
				r.exports = o, r.exports.Request = s, f(o, u), o.prototype.supportsBinary = !0, o.prototype.request = function(y) {
					return y = y || {}, y.uri = this.uri(), y.xd = this.xd, y.xs = this.xs, y.agent = this.agent || !1, y.supportsBinary = this.supportsBinary, y.enablesXDR = this.enablesXDR, y.pfx = this.pfx, y.key = this.key, y.passphrase = this.passphrase, y.cert = this.cert, y.ca = this.ca, y.ciphers = this.ciphers, y.rejectUnauthorized = this.rejectUnauthorized, new s(y)
				}, o.prototype.doWrite = function(y, b) {
					var v = this.request({
							method: 'POST',
							data: y,
							isBinary: 'string' != typeof y && void 0 !== y
						}),
						k = this;
					v.on('success', b), v.on('error', function(w) {
						k.onError('xhr post error', w)
					}), this.sendXhr = v
				}, o.prototype.doPoll = function() {
					h('xhr poll');
					var y = this.request(),
						b = this;
					y.on('data', function(v) {
						b.onData(v)
					}), y.on('error', function(v) {
						b.onError('xhr poll error', v)
					}), this.pollXhr = y
				}, g(s.prototype), s.prototype.create = function() {
					var y = {
							agent: this.agent,
							xdomain: this.xd,
							xscheme: this.xs,
							enablesXDR: this.enablesXDR,
							pfx: this.pfx,
							key: this.key,
							passphrase: this.passphrase,
							cert: this.cert,
							ca: this.ca,
							ciphers: this.ciphers,
							rejectUnauthorized: this.rejectUnauthorized
						},
						b = this.xhr = new m(y),
						v = this;
					try {
						if (h('xhr open %s: %s', this.method, this.uri), b.open(this.method, this.uri, this.async), this.supportsBinary && (b.responseType = 'arraybuffer'), 'POST' == this.method) try {
							this.isBinary ? b.setRequestHeader('Content-type', 'application/octet-stream') : b.setRequestHeader('Content-type', 'text/plain;charset=UTF-8')
						} catch (k) {}
						'withCredentials' in b && (b.withCredentials = !0), this.hasXDR() ? (b.onload = function() {
							v.onLoad()
						}, b.onerror = function() {
							v.onError(b.responseText)
						}) : b.onreadystatechange = function() {
							4 != b.readyState || (200 == b.status || 1223 == b.status ? v.onLoad() : setTimeout(function() {
								v.onError(b.status)
							}, 0))
						}, h('xhr data %s', this.data), b.send(this.data)
					} catch (k) {
						return void setTimeout(function() {
							v.onError(k)
						}, 0)
					}
					n.document && (this.index = s.requestsCount++, s.requests[this.index] = this)
				}, s.prototype.onSuccess = function() {
					this.emit('success'), this.cleanup()
				}, s.prototype.onData = function(y) {
					this.emit('data', y), this.onSuccess()
				}, s.prototype.onError = function(y) {
					this.emit('error', y), this.cleanup(!0)
				}, s.prototype.cleanup = function(y) {
					if ('undefined' != typeof this.xhr && null !== this.xhr) {
						if (this.hasXDR() ? this.xhr.onload = this.xhr.onerror = a : this.xhr.onreadystatechange = a, y) try {
							this.xhr.abort()
						} catch (b) {}
						n.document && delete s.requests[this.index], this.xhr = null
					}
				}, s.prototype.onLoad = function() {
					var y;
					try {
						var b;
						try {
							b = this.xhr.getResponseHeader('Content-Type').split(';')[0]
						} catch (v) {}
						y = 'application/octet-stream' === b ? this.xhr.response : this.supportsBinary ? 'ok' : this.xhr.responseText
					} catch (v) {
						this.onError(v)
					}
					null != y && this.onData(y)
				}, s.prototype.hasXDR = function() {
					return 'undefined' != typeof n.XDomainRequest && !this.xs && this.enablesXDR
				}, s.prototype.abort = function() {
					this.cleanup()
				}, n.document && (s.requestsCount = 0, s.requests = {}, n.attachEvent ? n.attachEvent('onunload', c) : n.addEventListener && n.addEventListener('beforeunload', c, !1))
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./polling': 27,
			'component-emitter': 17,
			'component-inherit': 18,
			debug: 30,
			xmlhttprequest: 29
		}],
		27: [function(t, r) {
			function n(g) {
				var f = g && g.forceBase64;
				(!u || f) && (this.supportsBinary = !1), a.call(this, g)
			}
			var a = t('../transport'),
				o = t('parseqs'),
				s = t('engine.io-parser'),
				c = t('component-inherit'),
				m = t('debug')('engine.io-client:polling');
			r.exports = n;
			var u = function() {
				var g = t('xmlhttprequest'),
					f = new g({
						xdomain: !1
					});
				return null != f.responseType
			}();
			c(n, a), n.prototype.name = 'polling', n.prototype.doOpen = function() {
				this.poll()
			}, n.prototype.pause = function(g) {
				function f() {
					m('paused'), h.readyState = 'paused', g()
				}
				var h = this;
				if (this.readyState = 'pausing', this.polling || !this.writable) {
					var y = 0;
					this.polling && (m('we are currently polling - waiting to pause'), y++, this.once('pollComplete', function() {
						m('pre-pause polling complete'), --y || f()
					})), this.writable || (m('we are currently writing - waiting to pause'), y++, this.once('drain', function() {
						m('pre-pause writing complete'), --y || f()
					}))
				} else f()
			}, n.prototype.poll = function() {
				m('polling'), this.polling = !0, this.doPoll(), this.emit('poll')
			}, n.prototype.onData = function(g) {
				var f = this;
				m('polling got data %s', g), s.decodePayload(g, this.socket.binaryType, function(h) {
					return 'opening' == f.readyState && f.onOpen(), 'close' == h.type ? (f.onClose(), !1) : void f.onPacket(h)
				}), 'closed' != this.readyState && (this.polling = !1, this.emit('pollComplete'), 'open' == this.readyState ? this.poll() : m('ignoring poll - transport state "%s"', this.readyState))
			}, n.prototype.doClose = function() {
				function g() {
					m('writing close packet'), f.write([{
						type: 'close'
					}])
				}
				var f = this;
				'open' == this.readyState ? (m('transport open - closing'), g()) : (m('transport not open - deferring close'), this.once('open', g))
			}, n.prototype.write = function(g) {
				var f = this;
				this.writable = !1;
				var h = function() {
						f.writable = !0, f.emit('drain')
					},
					f = this;
				s.encodePayload(g, this.supportsBinary, function(y) {
					f.doWrite(y, h)
				})
			}, n.prototype.uri = function() {
				var g = this.query || {},
					f = this.secure ? 'https' : 'http',
					h = '';
				return !1 !== this.timestampRequests && (g[this.timestampParam] = +new Date + '-' + a.timestamps++), this.supportsBinary || g.sid || (g.b64 = 1), g = o.encode(g), this.port && ('https' == f && 443 != this.port || 'http' == f && 80 != this.port) && (h = ':' + this.port), g.length && (g = '?' + g), f + '://' + this.hostname + h + this.path + g
			}
		}, {
			'../transport': 23,
			'component-inherit': 18,
			debug: 30,
			'engine.io-parser': 33,
			parseqs: 50,
			xmlhttprequest: 29
		}],
		28: [function(t, r) {
			function n(g) {
				var f = g && g.forceBase64;
				f && (this.supportsBinary = !1), a.call(this, g)
			}
			var a = t('../transport'),
				o = t('engine.io-parser'),
				s = t('parseqs'),
				c = t('component-inherit'),
				m = t('debug')('engine.io-client:websocket'),
				u = t('ws');
			r.exports = n, c(n, a), n.prototype.name = 'websocket', n.prototype.supportsBinary = !0, n.prototype.doOpen = function() {
				if (this.check()) {
					var y, g = this,
						f = this.uri(),
						h = {
							agent: this.agent
						};
					h.pfx = this.pfx, h.key = this.key, h.passphrase = this.passphrase, h.cert = this.cert, h.ca = this.ca, h.ciphers = this.ciphers, h.rejectUnauthorized = this.rejectUnauthorized, this.ws = new u(f, y, h), void 0 === this.ws.binaryType && (this.supportsBinary = !1), this.ws.binaryType = 'arraybuffer', this.addEventListeners()
				}
			}, n.prototype.addEventListeners = function() {
				var g = this;
				this.ws.onopen = function() {
					g.onOpen()
				}, this.ws.onclose = function() {
					g.onClose()
				}, this.ws.onmessage = function(f) {
					g.onData(f.data)
				}, this.ws.onerror = function(f) {
					g.onError('websocket error', f)
				}
			}, 'undefined' != typeof navigator && /iPad|iPhone|iPod/i.test(navigator.userAgent) && (n.prototype.onData = function(g) {
				var f = this;
				setTimeout(function() {
					a.prototype.onData.call(f, g)
				}, 0)
			}), n.prototype.write = function(g) {
				var f = this;
				this.writable = !1;
				for (var h = 0, y = g.length; h < y; h++) o.encodePacket(g[h], this.supportsBinary, function(b) {
					try {
						f.ws.send(b)
					} catch (v) {
						m('websocket closed before onclose event')
					}
				});
				setTimeout(function() {
					f.writable = !0, f.emit('drain')
				}, 0)
			}, n.prototype.onClose = function() {
				a.prototype.onClose.call(this)
			}, n.prototype.doClose = function() {
				'undefined' != typeof this.ws && this.ws.close()
			}, n.prototype.uri = function() {
				var g = this.query || {},
					f = this.secure ? 'wss' : 'ws',
					h = '';
				return this.port && ('wss' == f && 443 != this.port || 'ws' == f && 80 != this.port) && (h = ':' + this.port), this.timestampRequests && (g[this.timestampParam] = +new Date), this.supportsBinary || (g.b64 = 1), g = s.encode(g), g.length && (g = '?' + g), f + '://' + this.hostname + h + this.path + g
			}, n.prototype.check = function() {
				return !!u && !('__initialize' in u && this.name === n.prototype.name)
			}
		}, {
			'../transport': 23,
			'component-inherit': 18,
			debug: 30,
			'engine.io-parser': 33,
			parseqs: 50,
			ws: 76
		}],
		29: [function(t, r) {
			var n = t('has-cors');
			r.exports = function(a) {
				var o = a.xdomain,
					s = a.xscheme,
					c = a.enablesXDR;
				try {
					if ('undefined' != typeof XMLHttpRequest && (!o || n)) return new XMLHttpRequest
				} catch (m) {}
				try {
					if ('undefined' != typeof XDomainRequest && !s && c) return new XDomainRequest
				} catch (m) {}
				if (!o) try {
					return new ActiveXObject('Microsoft.XMLHTTP')
				} catch (m) {}
			}
		}, {
			'has-cors': 40
		}],
		30: [function(t, r, n) {
			function a() {
				var o;
				try {
					o = localStorage.debug
				} catch (s) {}
				return o
			}
			n = r.exports = t('./debug'), n.log = function() {
				return 'object' == typeof console && 'function' == typeof console.log && Function.prototype.apply.call(console.log, console, arguments)
			}, n.formatArgs = function() {
				var o = arguments,
					s = this.useColors;
				if (o[0] = (s ? '%c' : '') + this.namespace + (s ? ' %c' : ' ') + o[0] + (s ? '%c ' : ' ') + '+' + n.humanize(this.diff), !s) return o;
				var c = 'color: ' + this.color;
				o = [o[0], c, 'color: inherit'].concat(Array.prototype.slice.call(o, 1));
				var m = 0,
					u = 0;
				return o[0].replace(/%[a-z%]/g, function(g) {
					'%%' === g || (m++, '%c' === g && (u = m))
				}), o.splice(u, 0, c), o
			}, n.save = function(o) {
				try {
					null == o ? localStorage.removeItem('debug') : localStorage.debug = o
				} catch (s) {}
			}, n.load = a, n.useColors = function() {
				return 'WebkitAppearance' in document.documentElement.style || window.console && (console.firebug || console.exception && console.table) || navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && 31 <= parseInt(RegExp.$1, 10)
			}, n.colors = ['lightseagreen', 'forestgreen', 'goldenrod', 'dodgerblue', 'darkorchid', 'crimson'], n.formatters.j = function(o) {
				return JSON.stringify(o)
			}, n.enable(a())
		}, {
			'./debug': 31
		}],
		31: [function(t, r, n) {
			function a() {
				return n.colors[o++ % n.colors.length]
			}
			n = r.exports = function(c) {
				function m() {}

				function u() {
					var f = u,
						h = +new Date,
						y = h - (s || h);
					f.diff = y, f.prev = s, f.curr = h, s = h, null == f.useColors && (f.useColors = n.useColors()), null == f.color && f.useColors && (f.color = a());
					var b = Array.prototype.slice.call(arguments);
					b[0] = n.coerce(b[0]), 'string' != typeof b[0] && (b = ['%o'].concat(b));
					var v = 0;
					b[0] = b[0].replace(/%([a-z%])/g, function(w, T) {
						if ('%%' === w) return w;
						v++;
						var _ = n.formatters[T];
						if ('function' == typeof _) {
							var j = b[v];
							w = _.call(f, j), b.splice(v, 1), v--
						}
						return w
					}), 'function' == typeof n.formatArgs && (b = n.formatArgs.apply(f, b));
					var k = u.log || n.log || console.log.bind(console);
					k.apply(f, b)
				}
				m.enabled = !1, u.enabled = !0;
				var g = n.enabled(c) ? u : m;
				return g.namespace = c, g
			}, n.coerce = function(c) {
				return c instanceof Error ? c.stack || c.message : c
			}, n.disable = function() {
				n.enable('')
			}, n.enable = function(c) {
				n.save(c);
				for (var m = (c || '').split(/[\s,]+/), u = m.length, g = 0; g < u; g++) m[g] && (c = m[g].replace(/\*/g, '.*?'), '-' === c[0] ? n.skips.push(new RegExp('^' + c.substr(1) + '$')) : n.names.push(new RegExp('^' + c + '$')))
			}, n.enabled = function(c) {
				var m, u;
				for (m = 0, u = n.skips.length; m < u; m++)
					if (n.skips[m].test(c)) return !1;
				for (m = 0, u = n.names.length; m < u; m++)
					if (n.names[m].test(c)) return !0;
				return !1
			}, n.humanize = t('ms'), n.names = [], n.skips = [], n.formatters = {};
			var s, o = 0
		}, {
			ms: 47
		}],
		32: [function(t, r) {
			var n = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
				a = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'];
			r.exports = function(o) {
				var s = o,
					c = o.indexOf('['),
					m = o.indexOf(']'); - 1 != c && -1 != m && (o = o.substring(0, c) + o.substring(c, m).replace(/:/g, ';') + o.substring(m, o.length));
				for (var u = n.exec(o || ''), g = {}, f = 14; f--;) g[a[f]] = u[f] || '';
				return -1 != c && -1 != m && (g.source = s, g.host = g.host.substring(1, g.host.length - 1).replace(/;/g, ':'), g.authority = g.authority.replace('[', '').replace(']', '').replace(/;/g, ':'), g.ipv6uri = !0), g
			}
		}, {}],
		33: [function(t, r, n) {
			(function(a) {
				function o(ee, te) {
					var re = 'b' + n.packets[ee.type] + ee.data.data;
					return te(re)
				}

				function s(ee, te, re) {
					if (!te) return n.encodeBase64Packet(ee, re);
					var Ze = ee.data,
						rt = new Uint8Array(Ze),
						ct = new Uint8Array(1 + Ze.byteLength);
					ct[0] = _[ee.type];
					for (var pt = 0; pt < rt.length; pt++) ct[pt + 1] = rt[pt];
					return re(ct.buffer)
				}

				function c(ee, te, re) {
					if (!te) return n.encodeBase64Packet(ee, re);
					var Ze = new FileReader;
					return Ze.onload = function() {
						ee.data = Ze.result, n.encodePacket(ee, te, !0, re)
					}, Ze.readAsArrayBuffer(ee.data)
				}

				function m(ee, te, re) {
					if (!te) return n.encodeBase64Packet(ee, re);
					if (T) return c(ee, te, re);
					var Ze = new Uint8Array(1);
					Ze[0] = _[ee.type];
					var rt = new L([Ze.buffer, ee.data]);
					return re(rt)
				}

				function u(ee, te, re) {
					for (var Ze = Array(ee.length), rt = b(ee.length, re), ct = function(lt, ut, ht) {
							te(ut, function(yt, bt) {
								Ze[lt] = bt, ht(yt, Ze)
							})
						}, pt = 0; pt < ee.length; pt++) ct(pt, ee[pt], rt)
				}
				var g = t('./keys'),
					f = t('has-binary'),
					h = t('arraybuffer.slice'),
					y = t('base64-arraybuffer'),
					b = t('after'),
					v = t('utf8'),
					k = navigator.userAgent.match(/Android/i),
					w = /PhantomJS/i.test(navigator.userAgent),
					T = k || w;
				n.protocol = 3;
				var _ = n.packets = {
						open: 0,
						close: 1,
						ping: 2,
						pong: 3,
						message: 4,
						upgrade: 5,
						noop: 6
					},
					j = g(_),
					O = {
						type: 'error',
						data: 'parser error'
					},
					L = t('blob');
				n.encodePacket = function(ee, te, re, Ze) {
					'function' == typeof te && (Ze = te, te = !1), 'function' == typeof re && (Ze = re, re = null);
					var rt = void 0 === ee.data ? void 0 : ee.data.buffer || ee.data;
					if (a.ArrayBuffer && rt instanceof ArrayBuffer) return s(ee, te, Ze);
					if (L && rt instanceof a.Blob) return m(ee, te, Ze);
					if (rt && rt.base64) return o(ee, Ze);
					var ct = _[ee.type];
					return void 0 !== ee.data && (ct += re ? v.encode(ee.data + '') : ee.data + ''), Ze('' + ct)
				}, n.encodeBase64Packet = function(ee, te) {
					var re = 'b' + n.packets[ee.type];
					if (L && ee.data instanceof L) {
						var Ze = new FileReader;
						return Ze.onload = function() {
							var ut = Ze.result.split(',')[1];
							te(re + ut)
						}, Ze.readAsDataURL(ee.data)
					}
					var rt;
					try {
						rt = String.fromCharCode.apply(null, new Uint8Array(ee.data))
					} catch (ut) {
						for (var ct = new Uint8Array(ee.data), pt = Array(ct.length), lt = 0; lt < ct.length; lt++) pt[lt] = ct[lt];
						rt = String.fromCharCode.apply(null, pt)
					}
					return re += a.btoa(rt), te(re)
				}, n.decodePacket = function(ee, te, re) {
					if ('string' == typeof ee || void 0 === ee) {
						if ('b' == ee.charAt(0)) return n.decodeBase64Packet(ee.substr(1), te);
						if (re) try {
							ee = v.decode(ee)
						} catch (pt) {
							return O
						}
						var Ze = ee.charAt(0);
						return +Ze == Ze && j[Ze] ? 1 < ee.length ? {
							type: j[Ze],
							data: ee.substring(1)
						} : {
							type: j[Ze]
						} : O
					}
					var rt = new Uint8Array(ee),
						Ze = rt[0],
						ct = h(ee, 1);
					return L && 'blob' === te && (ct = new L([ct])), {
						type: j[Ze],
						data: ct
					}
				}, n.decodeBase64Packet = function(ee, te) {
					var re = j[ee.charAt(0)];
					if (!a.ArrayBuffer) return {
						type: re,
						data: {
							base64: !0,
							data: ee.substr(1)
						}
					};
					var Ze = y.decode(ee.substr(1));
					return 'blob' === te && L && (Ze = new L([Ze])), {
						type: re,
						data: Ze
					}
				}, n.encodePayload = function(ee, te, re) {
					function Ze(ct) {
						return ct.length + ':' + ct
					}
					'function' == typeof te && (re = te, te = null);
					var rt = f(ee);
					return te && rt ? L && !T ? n.encodePayloadAsBlob(ee, re) : n.encodePayloadAsArrayBuffer(ee, re) : ee.length ? void u(ee, function(ct, pt) {
						n.encodePacket(ct, !!rt && te, !0, function(lt) {
							pt(null, Ze(lt))
						})
					}, function(ct, pt) {
						return re(pt.join(''))
					}) : re('0:')
				}, n.decodePayload = function(ee, te, re) {
					if ('string' != typeof ee) return n.decodePayloadAsBinary(ee, te, re);
					'function' == typeof te && (re = te, te = null);
					var Ze;
					if ('' == ee) return re(O, 0, 1);
					for (var lt, ut, ht, rt = '', ct = 0, pt = ee.length; ct < pt; ct++)
						if (ht = ee.charAt(ct), ':' != ht) rt += ht;
						else {
							if ('' == rt || rt != (lt = +rt)) return re(O, 0, 1);
							if (ut = ee.substr(ct + 1, lt), rt != ut.length) return re(O, 0, 1);
							if (ut.length) {
								if (Ze = n.decodePacket(ut, te, !0), O.type == Ze.type && O.data == Ze.data) return re(O, 0, 1);
								var yt = re(Ze, ct + lt, pt);
								if (!1 === yt) return
							}
							ct += lt, rt = ''
						}
					if ('' != rt) return re(O, 0, 1)
				}, n.encodePayloadAsArrayBuffer = function(ee, te) {
					return ee.length ? void u(ee, function(re, Ze) {
						n.encodePacket(re, !0, !0, function(rt) {
							return Ze(null, rt)
						})
					}, function(re, Ze) {
						var rt = Ze.reduce(function(lt, ut) {
								var ht;
								return ht = 'string' == typeof ut ? ut.length : ut.byteLength, lt + ht.toString().length + ht + 2
							}, 0),
							ct = new Uint8Array(rt),
							pt = 0;
						return Ze.forEach(function(lt) {
							var ut = 'string' == typeof lt,
								ht = lt;
							if (ut) {
								for (var yt = new Uint8Array(lt.length), bt = 0; bt < lt.length; bt++) yt[bt] = lt.charCodeAt(bt);
								ht = yt.buffer
							}
							ct[pt++] = ut ? 0 : 1;
							for (var Ct = ht.byteLength.toString(), bt = 0; bt < Ct.length; bt++) ct[pt++] = parseInt(Ct[bt]);
							ct[pt++] = 255;
							for (var yt = new Uint8Array(ht), bt = 0; bt < yt.length; bt++) ct[pt++] = yt[bt]
						}), te(ct.buffer)
					}) : te(new ArrayBuffer(0))
				}, n.encodePayloadAsBlob = function(ee, te) {
					u(ee, function(re, Ze) {
						n.encodePacket(re, !0, !0, function(rt) {
							var ct = new Uint8Array(1);
							if (ct[0] = 1, 'string' == typeof rt) {
								for (var pt = new Uint8Array(rt.length), lt = 0; lt < rt.length; lt++) pt[lt] = rt.charCodeAt(lt);
								rt = pt.buffer, ct[0] = 0
							}
							for (var ut = rt instanceof ArrayBuffer ? rt.byteLength : rt.size, ht = ut.toString(), yt = new Uint8Array(ht.length + 1), lt = 0; lt < ht.length; lt++) yt[lt] = parseInt(ht[lt]);
							if (yt[ht.length] = 255, L) {
								var bt = new L([ct.buffer, yt.buffer, rt]);
								Ze(null, bt)
							}
						})
					}, function(re, Ze) {
						return te(new L(Ze))
					})
				}, n.decodePayloadAsBinary = function(ee, te, re) {
					'function' == typeof te && (re = te, te = null);
					for (var Ze = ee, rt = [], ct = !1; 0 < Ze.byteLength;) {
						for (var pt = new Uint8Array(Ze), lt = 0 === pt[0], ut = '', ht = 1;; ht++) {
							if (255 == pt[ht]) break;
							if (310 < ut.length) {
								ct = !0;
								break
							}
							ut += pt[ht]
						}
						if (ct) return re(O, 0, 1);
						Ze = h(Ze, 2 + ut.length), ut = parseInt(ut);
						var yt = h(Ze, 0, ut);
						if (lt) try {
							yt = String.fromCharCode.apply(null, new Uint8Array(yt))
						} catch (er) {
							var bt = new Uint8Array(yt);
							yt = '';
							for (var ht = 0; ht < bt.length; ht++) yt += String.fromCharCode(bt[ht])
						}
						rt.push(yt), Ze = h(Ze, ut)
					}
					var Ct = rt.length;
					rt.forEach(function(er, ar) {
						re(n.decodePacket(er, te, !0), ar, Ct)
					})
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./keys': 34,
			after: 1,
			'arraybuffer.slice': 2,
			'base64-arraybuffer': 14,
			blob: 15,
			'has-binary': 39,
			utf8: 70
		}],
		34: [function(t, r) {
			r.exports = Object.keys || function(n) {
				var a = [],
					o = Object.prototype.hasOwnProperty;
				for (var s in n) o.call(n, s) && a.push(s);
				return a
			}
		}, {}],
		35: [function(t, r) {
			function n(c) {
				o.call(this);
				var m = c || {};
				for (var u in this.config = {
						chunksize: 16384,
						pacing: 0
					}, m) this.config[u] = m[u];
				this.file = null, this.channel = null
			}

			function a() {
				o.call(this), this.receiveBuffer = [], this.received = 0, this.metadata = {}, this.channel = null
			}
			var o = t('wildemitter'),
				s = t('util');
			s.inherits(n, o), n.prototype.send = function(c, m) {
				var u = this;
				this.file = c, this.channel = m;
				var g = 'number' != typeof m.bufferedAmountLowThreshold,
					f = 0,
					h = function() {
						var y = new window.FileReader;
						y.onload = function() {
							return function(v) {
								u.channel.send(v.target.result), u.emit('progress', f, c.size, v.target.result), c.size > f + v.target.result.byteLength ? g ? window.setTimeout(h, u.config.pacing) : m.bufferedAmount <= m.bufferedAmountLowThreshold && window.setTimeout(h, 0) : (u.emit('progress', c.size, c.size, null), u.emit('sentFile')), f += u.config.chunksize
							}
						}(c);
						var b = c.slice(f, f + u.config.chunksize);
						y.readAsArrayBuffer(b)
					};
				g || (m.bufferedAmountLowThreshold = 8 * this.config.chunksize, m.addEventListener('bufferedamountlow', h)), window.setTimeout(h, 0)
			}, s.inherits(a, o), a.prototype.receive = function(c, m) {
				var u = this;
				c && (this.metadata = c), this.channel = m, m.binaryType = 'arraybuffer', this.channel.onmessage = function(g) {
					var f = g.data.byteLength;
					u.received += f, u.receiveBuffer.push(g.data), u.emit('progress', u.received, u.metadata.size, g.data), u.received === u.metadata.size ? (u.emit('receivedFile', new window.Blob(u.receiveBuffer), u.metadata), u.receiveBuffer = []) : u.received > u.metadata.size && (console.error('received more than expected, discarding...'), u.receiveBuffer = [])
				}
			}, r.exports = {}, r.exports.support = 'undefined' != typeof window && window && window.File && window.FileReader && window.Blob, r.exports.Sender = n, r.exports.Receiver = a
		}, {
			util: 73,
			wildemitter: 75
		}],
		36: [function(t, r) {
			var n = {};
			r.exports = function(a, o) {
				var m, s = 2 === arguments.length,
					c = s ? o : a;
				if ('undefined' == typeof window || 'http:' === window.location.protocol) return m = new Error('NavigatorUserMediaError'), m.name = 'HTTPS_REQUIRED', c(m);
				if (window.navigator.userAgent.match('Chrome')) {
					var u = parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1], 10),
						g = 33,
						f = !window.chrome.webstore;
					if (window.navigator.userAgent.match('Linux') && (g = 35), sessionStorage.getScreenMediaJSExtensionId) chrome.runtime.sendMessage(sessionStorage.getScreenMediaJSExtensionId, {
						type: 'getScreen',
						id: 1
					}, null, function(b) {
						if (!b || '' === b.sourceId) {
							var v = new Error('NavigatorUserMediaError');
							v.name = 'NotAllowedError', c(v)
						} else a = s && a || {
							audio: !1,
							video: {
								mandatory: {
									chromeMediaSource: 'desktop',
									maxWidth: window.screen.width,
									maxHeight: window.screen.height,
									maxFrameRate: 3
								}
							}
						}, a.video.mandatory.chromeMediaSourceId = b.sourceId, window.navigator.mediaDevices.getUserMedia(a).then(function(k) {
							c(null, k)
						}).catch(function(k) {
							c(k)
						})
					});
					else if (window.cefGetScreenMedia) window.cefGetScreenMedia(function(b) {
						if (!b) {
							var v = new Error('cefGetScreenMediaError');
							v.name = 'CEF_GETSCREENMEDIA_CANCELED', c(v)
						} else a = s && a || {
							audio: !1,
							video: {
								mandatory: {
									chromeMediaSource: 'desktop',
									maxWidth: window.screen.width,
									maxHeight: window.screen.height,
									maxFrameRate: 3
								},
								optional: [{
									googLeakyBucket: !0
								}, {
									googTemporalLayeredScreencast: !0
								}]
							}
						}, a.video.mandatory.chromeMediaSourceId = b, window.navigator.mediaDevices.getUserMedia(a).then(function(k) {
							c(null, k)
						}).catch(function(k) {
							c(k)
						})
					});
					else if (f || 26 <= u && u <= g) a = s && a || {
						video: {
							mandatory: {
								googLeakyBucket: !0,
								maxWidth: window.screen.width,
								maxHeight: window.screen.height,
								maxFrameRate: 3,
								chromeMediaSource: 'screen'
							}
						}
					}, window.navigator.mediaDevices.getUserMedia(a).then(function(b) {
						c(null, b)
					}).catch(function(b) {
						c(b)
					});
					else {
						var h = window.setTimeout(function() {
							return m = new Error('NavigatorUserMediaError'), m.name = 'EXTENSION_UNAVAILABLE', c(m)
						}, 1e3);
						n[h] = [c, s ? a : null], window.postMessage({
							type: 'getScreen',
							id: h
						}, '*')
					}
				} else if (window.navigator.userAgent.match('Firefox')) {
					var y = parseInt(window.navigator.userAgent.match(/Firefox\/(.*)/)[1], 10);
					33 <= y ? (a = s && a || {
						video: {
							mozMediaSource: 'window',
							mediaSource: 'window'
						}
					}, window.navigator.mediaDevices.getUserMedia(a).then(function(b) {
						c(null, b);
						var v = b.currentTime,
							k = window.setInterval(function() {
								b || window.clearInterval(k), b.currentTime == v && (window.clearInterval(k), b.onended && b.onended()), v = b.currentTime
							}, 500)
					}).catch(function(b) {
						c(b)
					})) : (m = new Error('NavigatorUserMediaError'), m.name = 'EXTENSION_UNAVAILABLE')
				}
			}, 'undefined' != typeof window && window.addEventListener('message', function(a) {
				if (a.origin == window.location.origin)
					if ('gotScreen' == a.data.type && n[a.data.id]) {
						var o = n[a.data.id],
							s = o[1],
							c = o[0];
						if (delete n[a.data.id], '' === a.data.sourceId) {
							var m = new Error('NavigatorUserMediaError');
							m.name = 'NotAllowedError', c(m)
						} else s = s || {
							audio: !1,
							video: {
								mandatory: {
									chromeMediaSource: 'desktop',
									maxWidth: window.screen.width,
									maxHeight: window.screen.height,
									maxFrameRate: 3
								},
								optional: [{
									googLeakyBucket: !0
								}, {
									googTemporalLayeredScreencast: !0
								}]
							}
						}, s.video.mandatory.chromeMediaSourceId = a.data.sourceId, window.navigator.mediaDevices.getUserMedia(s).then(function(u) {
							c(null, u)
						}).catch(function(u) {
							c(u)
						})
					} else 'getScreenPending' == a.data.type && window.clearTimeout(a.data.id)
			})
		}, {}],
		37: [function(t, r) {
			r.exports = function() {
				return this
			}()
		}, {}],
		38: [function(t, r) {
			function n(c, m) {
				var u = -Infinity;
				c.getFloatFrequencyData(m);
				for (var g = 4, f = m.length; g < f; g++) m[g] > u && 0 > m[g] && (u = m[g]);
				return u
			}
			var o, a = t('wildemitter');
			'undefined' != typeof window && (o = window.AudioContext || window.webkitAudioContext);
			var s = null;
			r.exports = function(c, m) {
				var u = new a;
				if (!o) return u;
				var m = m || {},
					g = m.smoothing || 0.1,
					f = m.interval || 50,
					h = m.threshold,
					y = m.play,
					b = m.history || 10,
					v = !0;
				s || (s = new o);
				var k, w, T;
				T = s.createAnalyser(), T.fftSize = 512, T.smoothingTimeConstant = g, w = new Float32Array(T.frequencyBinCount), c.jquery && (c = c[0]), c instanceof HTMLAudioElement || c instanceof HTMLVideoElement ? (k = s.createMediaElementSource(c), 'undefined' == typeof y && (y = !0), h = h || -50) : (k = s.createMediaStreamSource(c), h = h || -50), k.connect(T), y && T.connect(s.destination), u.speaking = !1, u.setThreshold = function(O) {
					h = O
				}, u.setInterval = function(O) {
					f = O
				}, u.stop = function() {
					v = !1, u.emit('volume_change', -100, h), u.speaking && (u.speaking = !1, u.emit('stopped_speaking')), T.disconnect(), k.disconnect()
				}, u.speakingHistory = [];
				for (var _ = 0; _ < b; _++) u.speakingHistory.push(0);
				var j = function() {
					setTimeout(function() {
						if (v) {
							var O = n(T, w);
							u.emit('volume_change', O, h);
							var L = 0;
							if (O > h && !u.speaking) {
								for (var ee = u.speakingHistory.length - 3; ee < u.speakingHistory.length; ee++) L += u.speakingHistory[ee];
								2 <= L && (u.speaking = !0, u.emit('speaking'))
							} else if (O < h && u.speaking) {
								for (var ee = 0; ee < u.speakingHistory.length; ee++) L += u.speakingHistory[ee];
								0 == L && (u.speaking = !1, u.emit('stopped_speaking'))
							}
							u.speakingHistory.shift(), u.speakingHistory.push(0 + (O > h)), j()
						}
					}, f)
				};
				return j(), u
			}
		}, {
			wildemitter: 75
		}],
		39: [function(t, r) {
			(function(n) {
				var a = t('isarray');
				r.exports = function(o) {
					function s(c) {
						if (!c) return !1;
						if (n.Buffer && n.Buffer.isBuffer(c) || n.ArrayBuffer && c instanceof ArrayBuffer || n.Blob && c instanceof Blob || n.File && c instanceof File) return !0;
						if (a(c)) {
							for (var m = 0; m < c.length; m++)
								if (s(c[m])) return !0;
						} else if (c && 'object' == typeof c)
							for (var u in c.toJSON && (c = c.toJSON()), c)
								if (Object.prototype.hasOwnProperty.call(c, u) && s(c[u])) return !0;
						return !1
					}
					return s(o)
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			isarray: 42
		}],
		40: [function(t, r) {
			var n = t('global');
			try {
				r.exports = 'XMLHttpRequest' in n && 'withCredentials' in new n.XMLHttpRequest
			} catch (a) {
				r.exports = !1
			}
		}, {
			global: 37
		}],
		41: [function(t, r) {
			var n = [].indexOf;
			r.exports = function(a, o) {
				if (n) return a.indexOf(o);
				for (var s = 0; s < a.length; ++s)
					if (a[s] === o) return s;
				return -1
			}
		}, {}],
		42: [function(t, r) {
			r.exports = Array.isArray || function(n) {
				return '[object Array]' == Object.prototype.toString.call(n)
			}
		}, {}],
		43: [function(t, r, n) {
			(function(a) {
				function o(ar) {
					if (o[ar] !== u) return o[ar];
					var fr;
					if ('bug-string-char-index' == ar) fr = 'a' != 'a' [0];
					else if ('json' == ar) fr = o('json-stringify') && o('json-parse');
					else {
						var nn, rn = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';
						if ('json-stringify' == ar) {
							var an = h.stringify,
								on = 'function' == typeof an && y;
							if (on) {
								(nn = function() {
									return 1
								}).toJSON = nn;
								try {
									on = '0' === an(0) && '0' === an(new Number) && '""' == an(new String) && an(s) === u && an(u) === u && an() === u && '1' === an(nn) && '[1]' == an([nn]) && '[null]' == an([u]) && 'null' == an(null) && '[null,null,null]' == an([u, s, null]) && an({
										a: [nn, !0, !1, null, '\0\b\n\f\r\t']
									}) == rn && '1' === an(null, nn) && '[\n 1,\n 2\n]' == an([1, 2], null, 1) && '"-271821-04-20T00:00:00.000Z"' == an(new Date(-8.64e15)) && '"+275760-09-13T00:00:00.000Z"' == an(new Date(8.64e15)) && '"-000001-01-01T00:00:00.000Z"' == an(new Date(-621987552e5)) && '"1969-12-31T23:59:59.999Z"' == an(new Date(-1))
								} catch (dn) {
									on = !1
								}
							}
							fr = on
						}
						if ('json-parse' == ar) {
							var sn = h.parse;
							if ('function' == typeof sn) try {
								if (0 === sn('0') && !sn(!1)) {
									nn = sn(rn);
									var cn = 5 == nn.a.length && 1 === nn.a[0];
									if (cn) {
										try {
											cn = !sn('"\t"')
										} catch (dn) {}
										if (cn) try {
											cn = 1 !== sn('01')
										} catch (dn) {}
										if (cn) try {
											cn = 1 !== sn('1.')
										} catch (dn) {}
									}
								}
							} catch (dn) {
								cn = !1
							}
							fr = cn
						}
					}
					return o[ar] = !!fr
				}
				var c, m, u, s = {}.toString,
					g = 'function' == typeof e && e.amd,
					f = 'object' == typeof JSON && JSON,
					h = 'object' == typeof n && n && !n.nodeType && n;
				h && f ? (h.stringify = f.stringify, h.parse = f.parse) : h = a.JSON = f || {};
				var y = new Date(-3509827334573292);
				try {
					y = -109252 == y.getUTCFullYear() && 0 === y.getUTCMonth() && 1 === y.getUTCDate() && 10 == y.getUTCHours() && 37 == y.getUTCMinutes() && 6 == y.getUTCSeconds() && 708 == y.getUTCMilliseconds()
				} catch (ar) {}
				if (!o('json')) {
					var b = '[object Function]',
						v = '[object Number]',
						k = '[object String]',
						w = '[object Array]',
						T = o('bug-string-char-index');
					if (!y) var _ = Math.floor,
						j = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334],
						O = function(ar, fr) {
							return j[fr] + 365 * (ar - 1970) + _((ar - 1969 + (fr = +(1 < fr))) / 4) - _((ar - 1901 + fr) / 100) + _((ar - 1601 + fr) / 400)
						};
					(c = {}.hasOwnProperty) || (c = function(ar) {
						var rn, fr = {};
						return (fr.__proto__ = null, fr.__proto__ = {
							toString: 1
						}, fr).toString == s ? (rn = fr.constructor, c = function(nn) {
							var an = (this.constructor || rn).prototype;
							return nn in this && !(nn in an && this[nn] === an[nn])
						}) : c = function(nn) {
							var an = this.__proto__,
								on = nn in (this.__proto__ = null, this);
							return this.__proto__ = an, on
						}, fr = null, c.call(this, ar)
					});
					var L = {
							boolean: 1,
							number: 1,
							string: 1,
							undefined: 1
						},
						ee = function(ar, fr) {
							var rn = typeof ar[fr];
							return 'object' == rn ? !!ar[fr] : !L[rn]
						};
					if (m = function(ar, fr) {
							var nn, an, on, rn = 0;
							for (on in (nn = function() {
									this.valueOf = 0
								}).prototype.valueOf = 0, an = new nn, an) c.call(an, on) && rn++;
							return nn = an = null, rn ? 2 == rn ? m = function(sn, cn) {
								var ln, dn = {},
									pn = s.call(sn) == b;
								for (ln in sn) !(pn && 'prototype' == ln) && !c.call(dn, ln) && (dn[ln] = 1) && c.call(sn, ln) && cn(ln)
							} : m = function(sn, cn) {
								var pn, ln, dn = s.call(sn) == b;
								for (pn in sn) dn && 'prototype' == pn || !c.call(sn, pn) || (ln = 'constructor' === pn) || cn(pn);
								(ln || c.call(sn, pn = 'constructor')) && cn(pn)
							} : (an = ['valueOf', 'toString', 'toLocaleString', 'propertyIsEnumerable', 'isPrototypeOf', 'hasOwnProperty', 'constructor'], m = function(sn, cn) {
								var ln, mn, dn = s.call(sn) == b,
									pn = !dn && 'function' != typeof sn.constructor && ee(sn, 'hasOwnProperty') ? sn.hasOwnProperty : c;
								for (ln in sn) !(dn && 'prototype' == ln) && pn.call(sn, ln) && cn(ln);
								for (mn = an.length; ln = an[--mn]; pn.call(sn, ln) && cn(ln));
							}), m(ar, fr)
						}, !o('json-stringify')) {
						var te = {
								8: '\\b',
								9: '\\t',
								10: '\\n',
								12: '\\f',
								13: '\\r',
								34: '\\"',
								92: '\\\\'
							},
							re = function(ar, fr) {
								return ('000000' + (fr || 0)).slice(-ar)
							},
							Ze = function(ar) {
								var on, fr = '"',
									rn = 0,
									nn = ar.length,
									an = 10 < nn && T;
								for (an && (on = ar.split('')); rn < nn; rn++) {
									var sn = ar.charCodeAt(rn);
									switch (sn) {
										case 8:
										case 9:
										case 10:
										case 12:
										case 13:
										case 34:
										case 92:
											fr += te[sn];
											break;
										default:
											if (32 > sn) {
												fr += '\\u00' + re(2, sn.toString(16));
												break
											}
											fr += an ? on[rn] : T ? ar.charAt(rn) : ar[rn];
									}
								}
								return fr + '"'
							},
							rt = function(ar, fr, rn, nn, an, on, sn) {
								var cn, dn, pn, ln, mn, un, gn, fn, hn, yn, bn, vn, kn, Cn, Sn, xn;
								try {
									cn = fr[ar]
								} catch (wn) {}
								if ('object' == typeof cn && cn)
									if (dn = s.call(cn), '[object Date]' != dn || c.call(cn, 'toJSON')) 'function' == typeof cn.toJSON && (dn != v && dn != k && dn != w || c.call(cn, 'toJSON')) && (cn = cn.toJSON(ar));
									else if (cn > -1 / 0 && cn < 1 / 0) {
									if (O) {
										for (mn = _(cn / 864e5), pn = _(mn / 365.2425) + 1970 - 1; O(pn + 1, 0) <= mn; pn++);
										for (ln = _((mn - O(pn, 0)) / 30.42); O(pn, ln + 1) <= mn; ln++);
										mn = 1 + mn - O(pn, ln), un = (cn % 864e5 + 864e5) % 864e5, gn = _(un / 36e5) % 24, fn = _(un / 6e4) % 60, hn = _(un / 1e3) % 60, yn = un % 1e3
									} else pn = cn.getUTCFullYear(), ln = cn.getUTCMonth(), mn = cn.getUTCDate(), gn = cn.getUTCHours(), fn = cn.getUTCMinutes(), hn = cn.getUTCSeconds(), yn = cn.getUTCMilliseconds();
									cn = (0 >= pn || 1e4 <= pn ? (0 > pn ? '-' : '+') + re(6, 0 > pn ? -pn : pn) : re(4, pn)) + '-' + re(2, ln + 1) + '-' + re(2, mn) + 'T' + re(2, gn) + ':' + re(2, fn) + ':' + re(2, hn) + '.' + re(3, yn) + 'Z'
								} else cn = null;
								if (rn && (cn = rn.call(fr, ar, cn)), null === cn) return 'null';
								if (dn = s.call(cn), '[object Boolean]' == dn) return '' + cn;
								if (dn == v) return cn > -1 / 0 && cn < 1 / 0 ? '' + cn : 'null';
								if (dn == k) return Ze('' + cn);
								if ('object' == typeof cn) {
									for (Cn = sn.length; Cn--;)
										if (sn[Cn] === cn) throw TypeError();
									if (sn.push(cn), bn = [], Sn = on, on += an, dn == w) {
										for (kn = 0, Cn = cn.length; kn < Cn; kn++) vn = rt(kn, cn, rn, nn, an, on, sn), bn.push(vn == u ? 'null' : vn);
										xn = bn.length ? an ? '[\n' + on + bn.join(',\n' + on) + '\n' + Sn + ']' : '[' + bn.join(',') + ']' : '[]'
									} else m(nn || cn, function(wn) {
										var Tn = rt(wn, cn, rn, nn, an, on, sn);
										Tn !== u && bn.push(Ze(wn) + ':' + (an ? ' ' : '') + Tn)
									}), xn = bn.length ? an ? '{\n' + on + bn.join(',\n' + on) + '\n' + Sn + '}' : '{' + bn.join(',') + '}' : '{}';
									return sn.pop(), xn
								}
							};
						h.stringify = function(ar, fr, rn) {
							var nn, an, on, sn;
							if ('function' == typeof fr || 'object' == typeof fr && fr)
								if ((sn = s.call(fr)) == b) an = fr;
								else if (sn == w) {
								on = {};
								for (var pn, cn = 0, dn = fr.length; cn < dn; pn = fr[cn++], (sn = s.call(pn), sn == k || sn == v) && (on[pn] = 1));
							}
							if (rn)
								if ((sn = s.call(rn)) != v) sn == k && (nn = 10 >= rn.length ? rn : rn.slice(0, 10));
								else if (0 < (rn -= rn % 1))
								for (nn = '', 10 < rn && (rn = 10); nn.length < rn; nn += ' ');
							return rt('', (pn = {}, pn[''] = ar, pn), an, on, nn, '', [])
						}
					}
					if (!o('json-parse')) {
						var Ct, er, ct = String.fromCharCode,
							pt = {
								34: '"',
								47: '/',
								92: '\\',
								98: '\b',
								102: '\f',
								110: '\n',
								114: '\r',
								116: '\t'
							},
							lt = function() {
								throw Ct = er = null, SyntaxError()
							},
							ut = function() {
								for (var rn, nn, an, on, sn, ar = er, fr = ar.length; Ct < fr;) switch (sn = ar.charCodeAt(Ct), sn) {
									case 9:
									case 10:
									case 13:
									case 32:
										Ct++;
										break;
									case 123:
									case 125:
									case 91:
									case 93:
									case 58:
									case 44:
										return rn = T ? ar.charAt(Ct) : ar[Ct], Ct++, rn;
									case 34:
										for (rn = '@', Ct++; Ct < fr;)
											if (sn = ar.charCodeAt(Ct), 32 > sn) lt();
											else if (92 == sn) switch (sn = ar.charCodeAt(++Ct), sn) {
											case 92:
											case 34:
											case 47:
											case 98:
											case 116:
											case 110:
											case 102:
											case 114:
												rn += pt[sn], Ct++;
												break;
											case 117:
												for (nn = ++Ct, an = Ct + 4; Ct < an; Ct++) sn = ar.charCodeAt(Ct), 48 <= sn && 57 >= sn || 97 <= sn && 102 >= sn || 65 <= sn && 70 >= sn || lt();
												rn += ct('0x' + ar.slice(nn, Ct));
												break;
											default:
												lt();
										} else {
											if (34 == sn) break;
											for (sn = ar.charCodeAt(Ct), nn = Ct; 32 <= sn && 92 != sn && 34 != sn;) sn = ar.charCodeAt(++Ct);
											rn += ar.slice(nn, Ct)
										}
										if (34 == ar.charCodeAt(Ct)) return Ct++, rn;
										lt();
									default:
										if (nn = Ct, 45 == sn && (on = !0, sn = ar.charCodeAt(++Ct)), 48 <= sn && 57 >= sn) {
											for (48 == sn && (sn = ar.charCodeAt(Ct + 1), 48 <= sn && 57 >= sn) && lt(), on = !1; Ct < fr && (sn = ar.charCodeAt(Ct), 48 <= sn && 57 >= sn); Ct++);
											if (46 == ar.charCodeAt(Ct)) {
												for (an = ++Ct; an < fr && (sn = ar.charCodeAt(an), 48 <= sn && 57 >= sn); an++);
												an == Ct && lt(), Ct = an
											}
											if (sn = ar.charCodeAt(Ct), 101 == sn || 69 == sn) {
												for (sn = ar.charCodeAt(++Ct), (43 == sn || 45 == sn) && Ct++, an = Ct; an < fr && (sn = ar.charCodeAt(an), 48 <= sn && 57 >= sn); an++);
												an == Ct && lt(), Ct = an
											}
											return +ar.slice(nn, Ct)
										}
										if (on && lt(), 'true' == ar.slice(Ct, Ct + 4)) return Ct += 4, !0;
										if ('false' == ar.slice(Ct, Ct + 5)) return Ct += 5, !1;
										if ('null' == ar.slice(Ct, Ct + 4)) return Ct += 4, null;
										lt();
								}
								return '$'
							},
							ht = function(ar) {
								var fr, rn;
								if ('$' == ar && lt(), 'string' == typeof ar) {
									if ('@' == (T ? ar.charAt(0) : ar[0])) return ar.slice(1);
									if ('[' == ar) {
										for (fr = [];; rn || (rn = !0)) {
											if (ar = ut(), ']' == ar) break;
											rn && (',' == ar ? (ar = ut(), ']' == ar && lt()) : lt()), ',' == ar && lt(), fr.push(ht(ar))
										}
										return fr
									}
									if ('{' == ar) {
										for (fr = {};; rn || (rn = !0)) {
											if (ar = ut(), '}' == ar) break;
											rn && (',' == ar ? (ar = ut(), '}' == ar && lt()) : lt()), (',' == ar || 'string' != typeof ar || '@' != (T ? ar.charAt(0) : ar[0]) || ':' != ut()) && lt(), fr[ar.slice(1)] = ht(ut())
										}
										return fr
									}
									lt()
								}
								return ar
							},
							yt = function(ar, fr, rn) {
								var nn = bt(ar, fr, rn);
								nn === u ? delete ar[fr] : ar[fr] = nn
							},
							bt = function(ar, fr, rn) {
								var an, nn = ar[fr];
								if ('object' == typeof nn && nn)
									if (s.call(nn) == w)
										for (an = nn.length; an--;) yt(nn, an, rn);
									else m(nn, function(on) {
										yt(nn, on, rn)
									});
								return rn.call(ar, fr, nn)
							};
						h.parse = function(ar, fr) {
							var rn, nn;
							return Ct = 0, er = '' + ar, rn = ht(ut()), '$' != ut() && lt(), Ct = er = null, fr && s.call(fr) == b ? bt((nn = {}, nn[''] = rn, nn), '', fr) : rn
						}
					}
				}
				g && e(function() {
					return h
				})
			})(this)
		}, {}],
		44: [function(t, r) {
			function n(f) {
				var h = !0;
				return f.getTracks().forEach(function(y) {
					h = 'ended' === y.readyState && h
				}), h
			}

			function a() {
				if ('undefined' == typeof window) return !1;
				if (!window.navigator.mozGetUserMedia) return !1;
				var f = window.navigator.userAgent.match(/Firefox\/(\d+)\./),
					h = f && 1 <= f.length && parseInt(f[1], 10);
				return 50 > h
			}

			function o(f) {
				u.call(this);
				var y, h = this.config = {
					detectSpeakingEvents: !1,
					audioFallback: !1,
					media: {
						audio: !0,
						video: !0
					},
					harkOptions: null,
					logger: g
				};
				for (y in f) f.hasOwnProperty(y) && (this.config[y] = f[y]);
				this.logger = h.logger, this._log = this.logger.log.bind(this.logger, 'LocalMedia:'), this._logerror = this.logger.error.bind(this.logger, 'LocalMedia:'), this.localStreams = [], this.localScreens = [], navigator.mediaDevices && navigator.mediaDevices.getUserMedia || this._logerror('Your browser does not support local media capture.'), this._audioMonitors = [], this.on('localStreamStopped', this._stopAudioMonitor.bind(this)), this.on('localScreenStopped', this._stopAudioMonitor.bind(this))
			}
			var s = t('util'),
				c = t('hark'),
				m = t('getscreenmedia'),
				u = t('wildemitter'),
				g = t('mockconsole');
			s.inherits(o, u), o.prototype.start = function(f, h) {
				var y = this,
					b = f || this.config.media;
				this.emit('localStreamRequested', b), navigator.mediaDevices.getUserMedia(b).then(function(v) {
					if (b.audio && y.config.detectSpeakingEvents && y._setupAudioMonitor(v, y.config.harkOptions), y.localStreams.push(v), v.getTracks().forEach(function(k) {
							k.addEventListener('ended', function() {
								n(v) && y._removeStream(v)
							})
						}), y.emit('localStream', v), h) return h(null, v)
				}).catch(function(v) {
					return y.config.audioFallback && 'DevicesNotFoundError' === v.name && !1 !== b.video ? (b.video = !1, void y.start(b, h)) : (y.emit('localStreamRequestFailed', b), h) ? h(v, null) : void 0
				})
			}, o.prototype.stop = function(f) {
				this.stopStream(f), this.stopScreenShare(f)
			}, o.prototype.stopStream = function(f) {
				var h = this;
				if (f) {
					var y = this.localStreams.indexOf(f); - 1 < y && (f.getTracks().forEach(function(b) {
						b.stop()
					}), a() && this._removeStream(f))
				} else this.localStreams.forEach(function(b) {
					b.getTracks().forEach(function(v) {
						v.stop()
					}), a() && h._removeStream(b)
				})
			}, o.prototype.startScreenShare = function(f, h) {
				var y = this;
				this.emit('localScreenRequested'), 'function' != typeof f || h || (h = f, f = null), m(f, function(b, v) {
					if (b ? y.emit('localScreenRequestFailed') : (y.localScreens.push(v), v.getTracks().forEach(function(k) {
							k.addEventListener('ended', function() {
								var w = !0;
								v.getTracks().forEach(function(T) {
									w = 'ended' === T.readyState && w
								}), w && y._removeStream(v)
							})
						}), y.emit('localScreen', v)), h) return h(b, v)
				})
			}, o.prototype.stopScreenShare = function(f) {
				var h = this;
				if (f) {
					var y = this.localScreens.indexOf(f); - 1 < y && (f.getTracks().forEach(function(b) {
						b.stop()
					}), a() && this._removeStream(f))
				} else this.localScreens.forEach(function(b) {
					b.getTracks().forEach(function(v) {
						v.stop()
					}), a() && h._removeStream(b)
				})
			}, o.prototype.mute = function() {
				this._audioEnabled(!1), this.emit('audioOff')
			}, o.prototype.unmute = function() {
				this._audioEnabled(!0), this.emit('audioOn')
			}, o.prototype.pauseVideo = function() {
				this._videoEnabled(!1), this.emit('videoOff')
			}, o.prototype.resumeVideo = function() {
				this._videoEnabled(!0), this.emit('videoOn')
			}, o.prototype.pause = function() {
				this.mute(), this.pauseVideo()
			}, o.prototype.resume = function() {
				this.unmute(), this.resumeVideo()
			}, o.prototype._audioEnabled = function(f) {
				this.localStreams.forEach(function(h) {
					h.getAudioTracks().forEach(function(y) {
						y.enabled = !!f
					})
				})
			}, o.prototype._videoEnabled = function(f) {
				this.localStreams.forEach(function(h) {
					h.getVideoTracks().forEach(function(y) {
						y.enabled = !!f
					})
				})
			}, o.prototype.isAudioEnabled = function() {
				var f = !0;
				return this.localStreams.forEach(function(h) {
					h.getAudioTracks().forEach(function(y) {
						f = f && y.enabled
					})
				}), f
			}, o.prototype.isVideoEnabled = function() {
				var f = !0;
				return this.localStreams.forEach(function(h) {
					h.getVideoTracks().forEach(function(y) {
						f = f && y.enabled
					})
				}), f
			}, o.prototype._removeStream = function(f) {
				var h = this.localStreams.indexOf(f); - 1 < h ? (this.localStreams.splice(h, 1), this.emit('localStreamStopped', f)) : (h = this.localScreens.indexOf(f), -1 < h && (this.localScreens.splice(h, 1), this.emit('localScreenStopped', f)))
			}, o.prototype._setupAudioMonitor = function(f, h) {
				this._log('Setup audio');
				var v, y = c(f, h),
					b = this;
				y.on('speaking', function() {
					b.emit('speaking')
				}), y.on('stopped_speaking', function() {
					v && clearTimeout(v), v = setTimeout(function() {
						b.emit('stoppedSpeaking')
					}, 1e3)
				}), y.on('volume_change', function(k, w) {
					b.emit('volumeChange', k, w)
				}), this._audioMonitors.push({
					audio: y,
					stream: f
				})
			}, o.prototype._stopAudioMonitor = function(f) {
				var h = -1;
				this._audioMonitors.forEach(function(y, b) {
					y.stream === f && (h = b)
				}), -1 < h && (this._audioMonitors[h].audio.stop(), this._audioMonitors.splice(h, 1))
			}, r.exports = o
		}, {
			getscreenmedia: 36,
			hark: 38,
			mockconsole: 46,
			util: 73,
			wildemitter: 75
		}],
		45: [function(t, r, n) {
			(function(a) {
				function o(qa, $a) {
					return qa.set($a[0], $a[1]), qa
				}

				function s(qa, $a) {
					return qa.add($a), qa
				}

				function c(qa, $a) {
					for (var Ha = -1, Ja = qa ? qa.length : 0; ++Ha < Ja && !1 !== $a(qa[Ha], Ha, qa););
					return qa
				}

				function m(qa, $a) {
					for (var Ha = -1, Ja = $a.length, Wa = qa.length; ++Ha < Ja;) qa[Wa + Ha] = $a[Ha];
					return qa
				}

				function u(qa, $a, Ha, Ja) {
					var Wa = -1,
						Xa = qa ? qa.length : 0;
					for (Ja && Xa && (Ha = qa[++Wa]); ++Wa < Xa;) Ha = $a(Ha, qa[Wa], Wa, qa);
					return Ha
				}

				function g(qa, $a) {
					for (var Ha = -1, Ja = Array(qa); ++Ha < qa;) Ja[Ha] = $a(Ha);
					return Ja
				}

				function f(qa, $a) {
					return null == qa ? void 0 : qa[$a]
				}

				function h(qa) {
					var $a = !1;
					if (null != qa && 'function' != typeof qa.toString) try {
						$a = !!(qa + '')
					} catch (Ha) {}
					return $a
				}

				function y(qa) {
					var $a = -1,
						Ha = Array(qa.size);
					return qa.forEach(function(Ja, Wa) {
						Ha[++$a] = [Wa, Ja]
					}), Ha
				}

				function b(qa, $a) {
					return function(Ha) {
						return qa($a(Ha))
					}
				}

				function v(qa) {
					var $a = -1,
						Ha = Array(qa.size);
					return qa.forEach(function(Ja) {
						Ha[++$a] = Ja
					}), Ha
				}

				function k(qa) {
					var $a = -1,
						Ha = qa ? qa.length : 0;
					for (this.clear(); ++$a < Ha;) {
						var Ja = qa[$a];
						this.set(Ja[0], Ja[1])
					}
				}

				function w(qa) {
					var $a = -1,
						Ha = qa ? qa.length : 0;
					for (this.clear(); ++$a < Ha;) {
						var Ja = qa[$a];
						this.set(Ja[0], Ja[1])
					}
				}

				function T(qa) {
					var $a = -1,
						Ha = qa ? qa.length : 0;
					for (this.clear(); ++$a < Ha;) {
						var Ja = qa[$a];
						this.set(Ja[0], Ja[1])
					}
				}

				function _(qa) {
					this.__data__ = new w(qa)
				}

				function j(qa, $a) {
					var Ha = Ga(qa) || hn(qa) ? g(qa.length, String) : [],
						Ja = Ha.length;
					for (var Wa in qa)($a || ga.call(qa, Wa)) && (!Ja || 'length' != Wa && !pn(Wa, Ja)) && Ha.push(Wa);
					return Ha
				}

				function O(qa, $a, Ha) {
					var Ja = qa[$a];
					ga.call(qa, $a) && fn(Ja, Ha) && (void 0 !== Ha || $a in qa) || (qa[$a] = Ha)
				}

				function L(qa, $a) {
					for (var Ha = qa.length; Ha--;)
						if (fn(qa[Ha][0], $a)) return Ha;
					return -1
				}

				function ee(qa, $a) {
					return qa && fr($a, xn($a), qa)
				}

				function te(qa, $a, Ha, Ja, Wa, Xa, Ya) {
					var Ka;
					if (Ja && (Ka = Xa ? Ja(qa, Wa, Xa, Ya) : Ja(qa)), void 0 != Ka) return Ka;
					if (!Cn(qa)) return qa;
					var Za = Ga(qa);
					if (!Za) {
						var Qa = za(qa),
							eo = Qa == _n || Qa == Dn;
						if (Va(qa)) return pt(qa, $a);
						if (Qa == Mn || Qa == En || eo && !Xa) {
							if (h(qa)) return Xa ? qa : {};
							if (Ka = cn(eo ? {} : qa), !$a) return rn(qa, ee(Ka, qa))
						} else {
							if (!ta[Qa]) return Xa ? qa : {};
							Ka = dn(qa, Qa, te, $a)
						}
					} else if (Ka = sn(qa), !$a) return ar(qa, Ka);
					Ya || (Ya = new _);
					var to = Ya.get(qa);
					if (to) return to;
					if (Ya.set(qa, Ka), !Za) var ro = Ha ? nn(qa) : xn(qa);
					return c(ro || qa, function(no, ao) {
						ro && (ao = no, no = qa[ao]), O(Ka, ao, te(no, $a, Ha, Ja, ao, qa, Ya))
					}), Ka
				}

				function re(qa) {
					return Cn(qa) ? Ca(qa) : {}
				}

				function Ze(qa, $a, Ha) {
					var Ja = $a(qa);
					return Ga(qa) ? Ja : m(Ja, Ha(qa))
				}

				function rt(qa) {
					if (!Cn(qa) || mn(qa)) return !1;
					var $a = vn(qa) || h(qa) ? ha : Qn;
					return $a.test(gn(qa))
				}

				function ct(qa) {
					if (!un(qa)) return Ea(qa);
					var $a = [];
					for (var Ha in Object(qa)) ga.call(qa, Ha) && 'constructor' != Ha && $a.push(Ha);
					return $a
				}

				function pt(qa, $a) {
					if ($a) return qa.slice();
					var Ha = new qa.constructor(qa.length);
					return qa.copy(Ha), Ha
				}

				function lt(qa) {
					var $a = new qa.constructor(qa.byteLength);
					return new va($a).set(new va(qa)), $a
				}

				function ut(qa, $a) {
					var Ha = $a ? lt(qa.buffer) : qa.buffer;
					return new qa.constructor(Ha, qa.byteOffset, qa.byteLength)
				}

				function ht(qa, $a, Ha) {
					var Ja = $a ? Ha(y(qa), !0) : y(qa);
					return u(Ja, o, new qa.constructor)
				}

				function yt(qa) {
					var $a = new qa.constructor(qa.source, Zn.exec(qa));
					return $a.lastIndex = qa.lastIndex, $a
				}

				function bt(qa, $a, Ha) {
					var Ja = $a ? Ha(v(qa), !0) : v(qa);
					return u(Ja, s, new qa.constructor)
				}

				function Ct(qa) {
					return Ua ? Object(Ua.call(qa)) : {}
				}

				function er(qa, $a) {
					var Ha = $a ? lt(qa.buffer) : qa.buffer;
					return new qa.constructor(Ha, qa.byteOffset, qa.length)
				}

				function ar(qa, $a) {
					var Ha = -1,
						Ja = qa.length;
					for ($a || ($a = Array(Ja)); ++Ha < Ja;) $a[Ha] = qa[Ha];
					return $a
				}

				function fr(qa, $a, Ha, Ja) {
					Ha || (Ha = {});
					for (var Wa = -1, Xa = $a.length; ++Wa < Xa;) {
						var Ya = $a[Wa],
							Ka = Ja ? Ja(Ha[Ya], qa[Ya], Ya, Ha, qa) : void 0;
						O(Ha, Ya, void 0 === Ka ? qa[Ya] : Ka)
					}
					return Ha
				}

				function rn(qa, $a) {
					return fr(qa, Fa(qa), $a)
				}

				function nn(qa) {
					return Ze(qa, xn, Fa)
				}

				function an(qa, $a) {
					var Ha = qa.__data__;
					return ln($a) ? Ha['string' == typeof $a ? 'string' : 'hash'] : Ha.map
				}

				function on(qa, $a) {
					var Ha = f(qa, $a);
					return rt(Ha) ? Ha : void 0
				}

				function sn(qa) {
					var $a = qa.length,
						Ha = qa.constructor($a);
					return $a && 'string' == typeof qa[0] && ga.call(qa, 'index') && (Ha.index = qa.index, Ha.input = qa.input), Ha
				}

				function cn(qa) {
					return 'function' != typeof qa.constructor || un(qa) ? {} : re(ka(qa))
				}

				function dn(qa, $a, Ha, Ja) {
					var Wa = qa.constructor;
					return $a === Fn ? lt(qa) : $a === Pn || $a === Rn ? new Wa(+qa) : $a === zn ? ut(qa, Ja) : $a === Gn || $a === Vn || $a === qn || $a === $n || $a === Hn || $a === Jn || $a === Wn || $a === Xn || $a === Yn ? er(qa, Ja) : $a === jn ? ht(qa, Ja, Ha) : $a === On || $a === Bn ? new Wa(qa) : $a === Ln ? yt(qa) : $a === In ? bt(qa, Ja, Ha) : $a === Nn ? Ct(qa) : void 0
				}

				function pn(qa, $a) {
					return $a = null == $a ? Tn : $a, !!$a && ('number' == typeof qa || ea.test(qa)) && -1 < qa && 0 == qa % 1 && qa < $a
				}

				function ln(qa) {
					var $a = typeof qa;
					return 'string' == $a || 'number' == $a || 'symbol' == $a || 'boolean' == $a ? '__proto__' !== qa : null === qa
				}

				function mn(qa) {
					return !!ma && ma in qa
				}

				function un(qa) {
					var $a = qa && qa.constructor,
						Ha = 'function' == typeof $a && $a.prototype || pa;
					return qa === Ha
				}

				function gn(qa) {
					if (null != qa) {
						try {
							return ua.call(qa)
						} catch ($a) {}
						try {
							return qa + ''
						} catch ($a) {}
					}
					return ''
				}

				function fn(qa, $a) {
					return qa === $a || qa !== qa && $a !== $a
				}

				function hn(qa) {
					return bn(qa) && ga.call(qa, 'callee') && (!Sa.call(qa, 'callee') || fa.call(qa) == En)
				}

				function yn(qa) {
					return null != qa && kn(qa.length) && !vn(qa)
				}

				function bn(qa) {
					return Sn(qa) && yn(qa)
				}

				function vn(qa) {
					var $a = Cn(qa) ? fa.call(qa) : '';
					return $a == _n || $a == Dn
				}

				function kn(qa) {
					return 'number' == typeof qa && -1 < qa && 0 == qa % 1 && qa <= Tn
				}

				function Cn(qa) {
					var $a = typeof qa;
					return !!qa && ('object' == $a || 'function' == $a)
				}

				function Sn(qa) {
					return !!qa && 'object' == typeof qa
				}

				function xn(qa) {
					return yn(qa) ? j(qa) : ct(qa)
				}
				var wn = '__lodash_hash_undefined__',
					Tn = 9007199254740991,
					En = '[object Arguments]',
					Pn = '[object Boolean]',
					Rn = '[object Date]',
					_n = '[object Function]',
					Dn = '[object GeneratorFunction]',
					jn = '[object Map]',
					On = '[object Number]',
					Mn = '[object Object]',
					An = '[object Promise]',
					Ln = '[object RegExp]',
					In = '[object Set]',
					Bn = '[object String]',
					Nn = '[object Symbol]',
					Un = '[object WeakMap]',
					Fn = '[object ArrayBuffer]',
					zn = '[object DataView]',
					Gn = '[object Float32Array]',
					Vn = '[object Float64Array]',
					qn = '[object Int8Array]',
					$n = '[object Int16Array]',
					Hn = '[object Int32Array]',
					Jn = '[object Uint8Array]',
					Wn = '[object Uint8ClampedArray]',
					Xn = '[object Uint16Array]',
					Yn = '[object Uint32Array]',
					Kn = /[\\^$.*+?()[\]{}|]/g,
					Zn = /\w*$/,
					Qn = /^\[object .+?Constructor\]$/,
					ea = /^(?:0|[1-9]\d*)$/,
					ta = {};
				ta[En] = ta['[object Array]'] = ta[Fn] = ta[zn] = ta[Pn] = ta[Rn] = ta[Gn] = ta[Vn] = ta[qn] = ta[$n] = ta[Hn] = ta[jn] = ta[On] = ta[Mn] = ta[Ln] = ta[In] = ta[Bn] = ta[Nn] = ta[Jn] = ta[Wn] = ta[Xn] = ta[Yn] = !0, ta['[object Error]'] = ta[_n] = ta[Un] = !1;
				var ra = 'object' == typeof a && a && a.Object === Object && a,
					na = 'object' == typeof self && self && self.Object === Object && self,
					aa = ra || na || Function('return this')(),
					oa = 'object' == typeof n && n && !n.nodeType && n,
					ia = oa && 'object' == typeof r && r && !r.nodeType && r,
					sa = ia && ia.exports === oa,
					ca = Array.prototype,
					da = Function.prototype,
					pa = Object.prototype,
					la = aa['__core-js_shared__'],
					ma = function() {
						var qa = /[^.]+$/.exec(la && la.keys && la.keys.IE_PROTO || '');
						return qa ? 'Symbol(src)_1.' + qa : ''
					}(),
					ua = da.toString,
					ga = pa.hasOwnProperty,
					fa = pa.toString,
					ha = RegExp('^' + ua.call(ga).replace(Kn, '\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'),
					ya = sa ? aa.Buffer : void 0,
					ba = aa.Symbol,
					va = aa.Uint8Array,
					ka = b(Object.getPrototypeOf, Object),
					Ca = Object.create,
					Sa = pa.propertyIsEnumerable,
					xa = ca.splice,
					wa = Object.getOwnPropertySymbols,
					Ta = ya ? ya.isBuffer : void 0,
					Ea = b(Object.keys, Object),
					Pa = on(aa, 'DataView'),
					Ra = on(aa, 'Map'),
					_a = on(aa, 'Promise'),
					Da = on(aa, 'Set'),
					ja = on(aa, 'WeakMap'),
					Oa = on(Object, 'create'),
					Ma = gn(Pa),
					Aa = gn(Ra),
					La = gn(_a),
					Ia = gn(Da),
					Ba = gn(ja),
					Na = ba ? ba.prototype : void 0,
					Ua = Na ? Na.valueOf : void 0;
				k.prototype.clear = function() {
					this.__data__ = Oa ? Oa(null) : {}
				}, k.prototype['delete'] = function(qa) {
					return this.has(qa) && delete this.__data__[qa]
				}, k.prototype.get = function(qa) {
					var $a = this.__data__;
					if (Oa) {
						var Ha = $a[qa];
						return Ha === wn ? void 0 : Ha
					}
					return ga.call($a, qa) ? $a[qa] : void 0
				}, k.prototype.has = function(qa) {
					var $a = this.__data__;
					return Oa ? void 0 !== $a[qa] : ga.call($a, qa)
				}, k.prototype.set = function(qa, $a) {
					var Ha = this.__data__;
					return Ha[qa] = Oa && void 0 === $a ? wn : $a, this
				}, w.prototype.clear = function() {
					this.__data__ = []
				}, w.prototype['delete'] = function(qa) {
					var $a = this.__data__,
						Ha = L($a, qa);
					if (0 > Ha) return !1;
					var Ja = $a.length - 1;
					return Ha == Ja ? $a.pop() : xa.call($a, Ha, 1), !0
				}, w.prototype.get = function(qa) {
					var $a = this.__data__,
						Ha = L($a, qa);
					return 0 > Ha ? void 0 : $a[Ha][1]
				}, w.prototype.has = function(qa) {
					return -1 < L(this.__data__, qa)
				}, w.prototype.set = function(qa, $a) {
					var Ha = this.__data__,
						Ja = L(Ha, qa);
					return 0 > Ja ? Ha.push([qa, $a]) : Ha[Ja][1] = $a, this
				}, T.prototype.clear = function() {
					this.__data__ = {
						hash: new k,
						map: new(Ra || w),
						string: new k
					}
				}, T.prototype['delete'] = function(qa) {
					return an(this, qa)['delete'](qa)
				}, T.prototype.get = function(qa) {
					return an(this, qa).get(qa)
				}, T.prototype.has = function(qa) {
					return an(this, qa).has(qa)
				}, T.prototype.set = function(qa, $a) {
					return an(this, qa).set(qa, $a), this
				}, _.prototype.clear = function() {
					this.__data__ = new w
				}, _.prototype['delete'] = function(qa) {
					return this.__data__['delete'](qa)
				}, _.prototype.get = function(qa) {
					return this.__data__.get(qa)
				}, _.prototype.has = function(qa) {
					return this.__data__.has(qa)
				}, _.prototype.set = function(qa, $a) {
					var Ha = this.__data__;
					if (Ha instanceof w) {
						var Ja = Ha.__data__;
						if (!Ra || Ja.length < 199) return Ja.push([qa, $a]), this;
						Ha = this.__data__ = new T(Ja)
					}
					return Ha.set(qa, $a), this
				};
				var Fa = wa ? b(wa, Object) : function() {
						return []
					},
					za = function(qa) {
						return fa.call(qa)
					};
				(Pa && za(new Pa(new ArrayBuffer(1))) != zn || Ra && za(new Ra) != jn || _a && za(_a.resolve()) != An || Da && za(new Da) != In || ja && za(new ja) != Un) && (za = function(qa) {
					var $a = fa.call(qa),
						Ha = $a == Mn ? qa.constructor : void 0,
						Ja = Ha ? gn(Ha) : void 0;
					if (Ja) switch (Ja) {
						case Ma:
							return zn;
						case Aa:
							return jn;
						case La:
							return An;
						case Ia:
							return In;
						case Ba:
							return Un;
					}
					return $a
				});
				var Ga = Array.isArray,
					Va = Ta || function() {
						return !1
					};
				r.exports = function(qa) {
					return te(qa, !0, !0)
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {}],
		46: [function(t, r) {
			for (var n = 'assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn'.split(','), a = n.length, o = function() {}, s = {}; a--;) s[n[a]] = o;
			r.exports = s
		}, {}],
		47: [function(t, r) {
			function n(f) {
				var h = /^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(f);
				if (h) {
					var y = parseFloat(h[1]),
						b = (h[2] || 'ms').toLowerCase();
					return 'years' === b || 'year' === b || 'y' === b ? y * (365.25 * g) : 'days' === b || 'day' === b || 'd' === b ? y * g : 'hours' === b || 'hour' === b || 'h' === b ? y * u : 'minutes' === b || 'minute' === b || 'm' === b ? y * m : 'seconds' === b || 'second' === b || 's' === b ? y * c : 'ms' === b ? y : void 0
				}
			}

			function a(f) {
				return f >= g ? Math.round(f / g) + 'd' : f >= u ? Math.round(f / u) + 'h' : f >= m ? Math.round(f / m) + 'm' : f >= c ? Math.round(f / c) + 's' : f + 'ms'
			}

			function o(f) {
				return s(f, g, 'day') || s(f, u, 'hour') || s(f, m, 'minute') || s(f, c, 'second') || f + ' ms'
			}

			function s(f, h, y) {
				return f < h ? void 0 : f < 1.5 * h ? Math.floor(f / h) + ' ' + y : Math.ceil(f / h) + ' ' + y + 's'
			}
			var c = 1e3,
				m = 60 * c,
				u = 60 * m,
				g = 24 * u;
			r.exports = function(f, h) {
				return h = h || {}, 'string' == typeof f ? n(f) : h.long ? o(f) : a(f)
			}
		}, {}],
		48: [function(t, r, n) {
			var a = Object.prototype.hasOwnProperty;
			n.keys = Object.keys || function(o) {
				var s = [];
				for (var c in o) a.call(o, c) && s.push(c);
				return s
			}, n.values = function(o) {
				var s = [];
				for (var c in o) a.call(o, c) && s.push(o[c]);
				return s
			}, n.merge = function(o, s) {
				for (var c in s) a.call(s, c) && (o[c] = s[c]);
				return o
			}, n.length = function(o) {
				return n.keys(o).length
			}, n.isEmpty = function(o) {
				return 0 == n.length(o)
			}
		}, {}],
		49: [function(t, r) {
			(function(n) {
				var a = /^[\],:{}\s]*$/,
					o = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
					s = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
					c = /(?:^|:|,)(?:\s*\[)+/g,
					m = /^\s+/,
					u = /\s+$/;
				r.exports = function(g) {
					return 'string' == typeof g && g ? (g = g.replace(m, '').replace(u, ''), n.JSON && JSON.parse ? JSON.parse(g) : a.test(g.replace(o, '@').replace(s, ']').replace(c, '')) ? new Function('return ' + g)() : void 0) : null
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {}],
		50: [function(t, r, n) {
			n.encode = function(a) {
				var o = '';
				for (var s in a) a.hasOwnProperty(s) && (o.length && (o += '&'), o += encodeURIComponent(s) + '=' + encodeURIComponent(a[s]));
				return o
			}, n.decode = function(a) {
				for (var u, o = {}, s = a.split('&'), c = 0, m = s.length; c < m; c++) u = s[c].split('='), o[decodeURIComponent(u[0])] = decodeURIComponent(u[1]);
				return o
			}
		}, {}],
		51: [function(t, r) {
			var n = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
				a = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'];
			r.exports = function(o) {
				for (var s = n.exec(o || ''), c = {}, m = 14; m--;) c[a[m]] = s[m] || '';
				return c
			}
		}, {}],
		52: [function(t, r) {
			function n() {
				throw new Error('setTimeout has not been defined')
			}

			function a() {
				throw new Error('clearTimeout has not been defined')
			}

			function o(T) {
				if (h === setTimeout) return setTimeout(T, 0);
				if ((h === n || !h) && setTimeout) return h = setTimeout, setTimeout(T, 0);
				try {
					return h(T, 0)
				} catch (_) {
					try {
						return h.call(null, T, 0)
					} catch (j) {
						return h.call(this, T, 0)
					}
				}
			}

			function s(T) {
				if (y === clearTimeout) return clearTimeout(T);
				if ((y === a || !y) && clearTimeout) return y = clearTimeout, clearTimeout(T);
				try {
					return y(T)
				} catch (_) {
					try {
						return y.call(null, T)
					} catch (j) {
						return y.call(this, T)
					}
				}
			}

			function c() {
				v && k && (v = !1, k.length ? b = k.concat(b) : w = -1, b.length && m())
			}

			function m() {
				if (!v) {
					var T = o(c);
					v = !0;
					for (var _ = b.length; _;) {
						for (k = b, b = []; ++w < _;) k && k[w].run();
						w = -1, _ = b.length
					}
					k = null, v = !1, s(T)
				}
			}

			function u(T, _) {
				this.fun = T, this.array = _
			}

			function g() {}
			var h, y, f = r.exports = {};
			(function() {
				try {
					h = 'function' == typeof setTimeout ? setTimeout : n
				} catch (T) {
					h = n
				}
				try {
					y = 'function' == typeof clearTimeout ? clearTimeout : a
				} catch (T) {
					y = a
				}
			})();
			var k, b = [],
				v = !1,
				w = -1;
			f.nextTick = function(T) {
				var _ = Array(arguments.length - 1);
				if (1 < arguments.length)
					for (var j = 1; j < arguments.length; j++) _[j - 1] = arguments[j];
				b.push(new u(T, _)), 1 !== b.length || v || o(m)
			}, u.prototype.run = function() {
				this.fun.apply(null, this.array)
			}, f.title = 'browser', f.browser = !0, f.env = {}, f.argv = [], f.version = '', f.versions = {}, f.on = g, f.addListener = g, f.once = g, f.off = g, f.removeListener = g, f.removeAllListeners = g, f.emit = g, f.prependListener = g, f.prependOnceListener = g, f.listeners = function() {
				return []
			}, f.binding = function() {
				throw new Error('process.binding is not supported')
			}, f.cwd = function() {
				return '/'
			}, f.chdir = function() {
				throw new Error('process.chdir is not supported')
			}, f.umask = function() {
				return 0
			}
		}, {}],
		53: [function(t, r) {
			function n(m, u) {
				var f, g = this;
				for (f in s.call(this), m = m || {}, m.iceServers = m.iceServers || [], this.enableChromeNativeSimulcast = !1, u && u.optional && window.chrome && null === navigator.appVersion.match(/Chromium\//) && u.optional.forEach(function(h) {
						h.enableChromeNativeSimulcast && (g.enableChromeNativeSimulcast = !0)
					}), this.enableMultiStreamHacks = !1, u && u.optional && window.chrome && u.optional.forEach(function(h) {
						h.enableMultiStreamHacks && (g.enableMultiStreamHacks = !0)
					}), this.restrictBandwidth = 0, u && u.optional && u.optional.forEach(function(h) {
						h.andyetRestrictBandwidth && (g.restrictBandwidth = h.andyetRestrictBandwidth)
					}), this.batchIceCandidates = 0, u && u.optional && u.optional.forEach(function(h) {
						h.andyetBatchIce && (g.batchIceCandidates = h.andyetBatchIce)
					}), this.batchedIceCandidates = [], u && u.optional && window.chrome && u.optional.forEach(function(h) {
						h.andyetFasterICE && (g.eliminateDuplicateCandidates = h.andyetFasterICE)
					}), u && u.optional && u.optional.forEach(function(h) {
						h.andyetDontSignalCandidates && (g.dontSignalCandidates = h.andyetDontSignalCandidates)
					}), this.assumeSetLocalSuccess = !1, u && u.optional && u.optional.forEach(function(h) {
						h.andyetAssumeSetLocalSuccess && (g.assumeSetLocalSuccess = h.andyetAssumeSetLocalSuccess)
					}), window.navigator.mozGetUserMedia && u && u.optional && (this.wtFirefox = 0, u.optional.forEach(function(h) {
						h.andyetFirefoxMakesMeSad && (g.wtFirefox = h.andyetFirefoxMakesMeSad, 0 < g.wtFirefox && (g.firefoxcandidatebuffer = []))
					})), this.pc = new RTCPeerConnection(m, u), this.getLocalStreams = 'function' == typeof this.pc.getLocalStreams ? this.pc.getLocalStreams.bind(this.pc) : function() {
						return []
					}, this.getRemoteStreams = this.pc.getRemoteStreams.bind(this.pc), this.addStream = this.pc.addStream.bind(this.pc), this.removeStream = function(h) {
						'function' == typeof g.pc.removeStream ? g.pc.removeStream.apply(g.pc, arguments) : 'function' == typeof g.pc.removeTrack && h.getTracks().forEach(function(y) {
							g.pc.removeTrack(y)
						})
					}, 'function' == typeof this.pc.removeTrack && (this.removeTrack = this.pc.removeTrack.bind(this.pc)), this.pc.onremovestream = this.emit.bind(this, 'removeStream'), this.pc.onremovetrack = this.emit.bind(this, 'removeTrack'), this.pc.onaddstream = this.emit.bind(this, 'addStream'), this.pc.onnegotiationneeded = this.emit.bind(this, 'negotiationNeeded'), this.pc.oniceconnectionstatechange = this.emit.bind(this, 'iceConnectionStateChange'), this.pc.onsignalingstatechange = this.emit.bind(this, 'signalingStateChange'), this.pc.onicecandidate = this._onIce.bind(this), this.pc.ondatachannel = this._onDataChannel.bind(this), this.localDescription = {
						contents: []
					}, this.remoteDescription = {
						contents: []
					}, this.config = {
						debug: !1,
						sid: '',
						isInitiator: !0,
						sdpSessionID: Date.now(),
						useJingle: !1
					}, this.iceCredentials = {
						local: {},
						remote: {}
					}, m) this.config[f] = m[f];
				this.config.debug && this.on('*', function() {
					var h = m.logger || console;
					h.log('PeerConnection event:', arguments)
				}), this.hadLocalStunCandidate = !1, this.hadRemoteStunCandidate = !1, this.hadLocalRelayCandidate = !1, this.hadRemoteRelayCandidate = !1, this.hadLocalIPv6Candidate = !1, this.hadRemoteIPv6Candidate = !1, this._remoteDataChannels = [], this._localDataChannels = [], this._candidateBuffer = []
			}
			var a = t('util'),
				o = t('sdp-jingle-json'),
				s = t('wildemitter'),
				c = t('lodash.clonedeep');
			a.inherits(n, s), Object.defineProperty(n.prototype, 'signalingState', {
				get: function() {
					return this.pc.signalingState
				}
			}), Object.defineProperty(n.prototype, 'iceConnectionState', {
				get: function() {
					return this.pc.iceConnectionState
				}
			}), n.prototype._role = function() {
				return this.isInitiator ? 'initiator' : 'responder'
			}, n.prototype.addStream = function(m) {
				this.localStream = m, this.pc.addStream(m)
			}, n.prototype._checkLocalCandidate = function(m) {
				var u = o.toCandidateJSON(m);
				'srflx' == u.type ? this.hadLocalStunCandidate = !0 : 'relay' == u.type && (this.hadLocalRelayCandidate = !0), -1 != u.ip.indexOf(':') && (this.hadLocalIPv6Candidate = !0)
			}, n.prototype._checkRemoteCandidate = function(m) {
				var u = o.toCandidateJSON(m);
				'srflx' == u.type ? this.hadRemoteStunCandidate = !0 : 'relay' == u.type && (this.hadRemoteRelayCandidate = !0), -1 != u.ip.indexOf(':') && (this.hadRemoteIPv6Candidate = !0)
			}, n.prototype.processIce = function(m, u) {
				u = u || function() {};
				var g = this;
				if ('closed' === this.pc.signalingState) return u();
				if (m.contents || m.jingle && m.jingle.contents) {
					var f = this.remoteDescription.contents.map(function(y) {
							return y.name
						}),
						h = m.contents || m.jingle.contents;
					h.forEach(function(y) {
						var b = y.transport || {},
							v = b.candidates || [],
							k = f.indexOf(y.name),
							w = y.name,
							T = g.remoteDescription.contents.find(function(O) {
								return O.name === y.name
							}),
							_ = function() {
								v.forEach(function(O) {
									var L = o.toCandidateSDP(O);
									g.pc.addIceCandidate(new RTCIceCandidate({
										candidate: L,
										sdpMLineIndex: k,
										sdpMid: w
									}), function() {}, function(ee) {
										g.emit('error', ee)
									}), g._checkRemoteCandidate(L)
								}), u()
							};
						if (!(g.iceCredentials.remote[y.name] && b.ufrag && g.iceCredentials.remote[y.name].ufrag !== b.ufrag)) _();
						else if (T) {
							T.transport.ufrag = b.ufrag, T.transport.pwd = b.pwd;
							var j = {
								type: 'offer',
								jingle: g.remoteDescription
							};
							j.sdp = o.toSessionSDP(j.jingle, {
								sid: g.config.sdpSessionID,
								role: g._role(),
								direction: 'incoming'
							}), g.pc.setRemoteDescription(new RTCSessionDescription(j), function() {
								_()
							}, function(O) {
								g.emit('error', O)
							})
						} else g.emit('error', 'ice restart failed to find matching content')
					})
				} else {
					if (m.candidate && 0 !== m.candidate.candidate.indexOf('a=') && (m.candidate.candidate = 'a=' + m.candidate.candidate), this.wtFirefox && null !== this.firefoxcandidatebuffer && this.pc.localDescription && 'offer' === this.pc.localDescription.type) return this.firefoxcandidatebuffer.push(m.candidate), u();
					g.pc.addIceCandidate(new RTCIceCandidate(m.candidate), function() {}, function(y) {
						g.emit('error', y)
					}), g._checkRemoteCandidate(m.candidate.candidate), u()
				}
			}, n.prototype.offer = function(m, u) {
				var g = this,
					f = 2 === arguments.length,
					h = f && m ? m : {
						offerToReceiveAudio: 1,
						offerToReceiveVideo: 1
					};
				return u = f ? u : m, u = u || function() {}, 'closed' === this.pc.signalingState ? u('Already closed') : void this.pc.createOffer(function(y) {
					var b = {
						type: 'offer',
						sdp: y.sdp
					};
					g.assumeSetLocalSuccess && (g.emit('offer', b), u(null, b)), g._candidateBuffer = [], g.pc.setLocalDescription(y, function() {
						var v;
						g.config.useJingle && (v = o.toSessionJSON(y.sdp, {
							role: g._role(),
							direction: 'outgoing'
						}), v.sid = g.config.sid, g.localDescription = v, v.contents.forEach(function(k) {
							var w = k.transport || {};
							w.ufrag && (g.iceCredentials.local[k.name] = {
								ufrag: w.ufrag,
								pwd: w.pwd
							})
						}), b.jingle = v), b.sdp.split('\r\n').forEach(function(k) {
							0 === k.indexOf('a=candidate:') && g._checkLocalCandidate(k)
						}), g.assumeSetLocalSuccess || (g.emit('offer', b), u(null, b))
					}, function(v) {
						g.emit('error', v), u(v)
					})
				}, function(y) {
					g.emit('error', y), u(y)
				}, h)
			}, n.prototype.handleOffer = function(m, u) {
				u = u || function() {};
				var g = this;
				if (m.type = 'offer', m.jingle) {
					if (this.enableChromeNativeSimulcast && m.jingle.contents.forEach(function(y) {
							'video' === y.name && (y.application.googConferenceFlag = !0)
						}), this.enableMultiStreamHacks && m.jingle.contents.forEach(function(y) {
							if ('video' === y.name) {
								var b = y.application.sources || [];
								(0 === b.length || '3735928559' !== b[0].ssrc) && (b.unshift({
									ssrc: '3735928559',
									parameters: [{
										key: 'cname',
										value: 'deadbeef'
									}, {
										key: 'msid',
										value: 'mixyourfecintothis please'
									}]
								}), y.application.sources = b)
							}
						}), 0 < g.restrictBandwidth && 2 <= m.jingle.contents.length && 'video' === m.jingle.contents[1].name) {
						var f = m.jingle.contents[1],
							h = f.application && f.application.bandwidth && f.application.bandwidth.bandwidth;
						h || (m.jingle.contents[1].application.bandwidth = {
							type: 'AS',
							bandwidth: g.restrictBandwidth.toString()
						}, m.sdp = o.toSessionSDP(m.jingle, {
							sid: g.config.sdpSessionID,
							role: g._role(),
							direction: 'outgoing'
						}))
					}
					m.jingle.contents.forEach(function(y) {
						var b = y.transport || {};
						b.ufrag && (g.iceCredentials.remote[y.name] = {
							ufrag: b.ufrag,
							pwd: b.pwd
						})
					}), m.sdp = o.toSessionSDP(m.jingle, {
						sid: g.config.sdpSessionID,
						role: g._role(),
						direction: 'incoming'
					}), g.remoteDescription = m.jingle
				}
				m.sdp.split('\r\n').forEach(function(y) {
					0 === y.indexOf('a=candidate:') && g._checkRemoteCandidate(y)
				}), g.pc.setRemoteDescription(new RTCSessionDescription(m), function() {
					u()
				}, u)
			}, n.prototype.answerAudioOnly = function(m) {
				this._answer({
					mandatory: {
						OfferToReceiveAudio: !0,
						OfferToReceiveVideo: !1
					}
				}, m)
			}, n.prototype.answerBroadcastOnly = function(m) {
				this._answer({
					mandatory: {
						OfferToReceiveAudio: !1,
						OfferToReceiveVideo: !1
					}
				}, m)
			}, n.prototype.answer = function(m, u) {
				var g = 2 === arguments.length,
					f = g ? u : m,
					h = g && m ? m : {
						mandatory: {
							OfferToReceiveAudio: !0,
							OfferToReceiveVideo: !0
						}
					};
				this._answer(h, f)
			}, n.prototype.handleAnswer = function(m, u) {
				u = u || function() {};
				var g = this;
				m.jingle && (m.sdp = o.toSessionSDP(m.jingle, {
					sid: g.config.sdpSessionID,
					role: g._role(),
					direction: 'incoming'
				}), g.remoteDescription = m.jingle, m.jingle.contents.forEach(function(f) {
					var h = f.transport || {};
					h.ufrag && (g.iceCredentials.remote[f.name] = {
						ufrag: h.ufrag,
						pwd: h.pwd
					})
				})), m.sdp.split('\r\n').forEach(function(f) {
					0 === f.indexOf('a=candidate:') && g._checkRemoteCandidate(f)
				}), g.pc.setRemoteDescription(new RTCSessionDescription(m), function() {
					g.wtFirefox && window.setTimeout(function() {
						g.firefoxcandidatebuffer.forEach(function(f) {
							g.pc.addIceCandidate(new RTCIceCandidate(f), function() {}, function(h) {
								g.emit('error', h)
							}), g._checkRemoteCandidate(f.candidate)
						}), g.firefoxcandidatebuffer = null
					}, g.wtFirefox), u(null)
				}, u)
			}, n.prototype.close = function() {
				this.pc.close(), this._localDataChannels = [], this._remoteDataChannels = [], this.emit('close')
			}, n.prototype._answer = function(m, u) {
				u = u || function() {};
				var g = this;
				if (!this.pc.remoteDescription) throw new Error('remoteDescription not set');
				return 'closed' === this.pc.signalingState ? u('Already closed') : void g.pc.createAnswer(function(f) {
					var h = [];
					if (g.enableChromeNativeSimulcast && (f.jingle = o.toSessionJSON(f.sdp, {
							role: g._role(),
							direction: 'outgoing'
						}), 2 <= f.jingle.contents.length && 'video' === f.jingle.contents[1].name)) {
						var y = f.jingle.contents[1].application.sourceGroups || [],
							b = !1;
						if (y.forEach(function(_) {
								'SIM' == _.semantics && (b = !0)
							}), !b && f.jingle.contents[1].application.sources.length) {
							var v = JSON.parse(JSON.stringify(f.jingle.contents[1].application.sources[0]));
							v.ssrc = '' + Math.floor(4294967295 * Math.random()), f.jingle.contents[1].application.sources.push(v), h.push(f.jingle.contents[1].application.sources[0].ssrc), h.push(v.ssrc), y.push({
								semantics: 'SIM',
								sources: h
							});
							var k = JSON.parse(JSON.stringify(v));
							k.ssrc = '' + Math.floor(4294967295 * Math.random()), f.jingle.contents[1].application.sources.push(k), y.push({
								semantics: 'FID',
								sources: [v.ssrc, k.ssrc]
							}), f.jingle.contents[1].application.sourceGroups = y, f.sdp = o.toSessionSDP(f.jingle, {
								sid: g.config.sdpSessionID,
								role: g._role(),
								direction: 'outgoing'
							})
						}
					}
					var w = {
						type: 'answer',
						sdp: f.sdp
					};
					if (g.assumeSetLocalSuccess) {
						var T = c(w);
						g.emit('answer', T), u(null, T)
					}
					g._candidateBuffer = [], g.pc.setLocalDescription(f, function() {
						if (g.config.useJingle) {
							var _ = o.toSessionJSON(f.sdp, {
								role: g._role(),
								direction: 'outgoing'
							});
							_.sid = g.config.sid, g.localDescription = _, w.jingle = _
						}
						if (g.enableChromeNativeSimulcast && (!w.jingle && (w.jingle = o.toSessionJSON(f.sdp, {
								role: g._role(),
								direction: 'outgoing'
							})), w.jingle.contents[1].application.sources.forEach(function(O, L) {
								O.parameters = O.parameters.map(function(ee) {
									return 'msid' === ee.key && (ee.value += '-' + Math.floor(L / 2)), ee
								})
							}), w.sdp = o.toSessionSDP(w.jingle, {
								sid: g.sdpSessionID,
								role: g._role(),
								direction: 'outgoing'
							})), w.sdp.split('\r\n').forEach(function(O) {
								0 === O.indexOf('a=candidate:') && g._checkLocalCandidate(O)
							}), !g.assumeSetLocalSuccess) {
							var j = c(w);
							g.emit('answer', j), u(null, j)
						}
					}, function(_) {
						g.emit('error', _), u(_)
					})
				}, function(f) {
					g.emit('error', f), u(f)
				}, m)
			}, n.prototype._onIce = function(m) {
				var u = this;
				if (m.candidate) {
					if (this.dontSignalCandidates) return;
					var g = m.candidate,
						f = {
							candidate: {
								candidate: g.candidate,
								sdpMid: g.sdpMid,
								sdpMLineIndex: g.sdpMLineIndex
							}
						};
					this._checkLocalCandidate(g.candidate);
					var y, b, h = o.toCandidateJSON(g.candidate);
					if (this.eliminateDuplicateCandidates && 'relay' === h.type && (y = this._candidateBuffer.filter(function(k) {
							return 'relay' === k.type
						}).map(function(k) {
							return k.foundation + ':' + k.component
						}), b = y.indexOf(h.foundation + ':' + h.component), -1 < b && h.priority >> 24 >= y[b].priority >> 24)) return;
					if ('max-bundle' === this.config.bundlePolicy && (y = this._candidateBuffer.filter(function(k) {
							return h.type === k.type
						}).map(function(k) {
							return k.address + ':' + k.port
						}), b = y.indexOf(h.address + ':' + h.port), -1 < b)) return;
					if ('require' === this.config.rtcpMuxPolicy && '2' === h.component) return;
					if (this._candidateBuffer.push(h), u.config.useJingle) {
						if (g.sdpMid || (u.pc.remoteDescription && 'offer' === u.pc.remoteDescription.type ? g.sdpMid = u.remoteDescription.contents[g.sdpMLineIndex].name : g.sdpMid = u.localDescription.contents[g.sdpMLineIndex].name), !u.iceCredentials.local[g.sdpMid]) {
							var v = o.toSessionJSON(u.pc.localDescription.sdp, {
								role: u._role(),
								direction: 'outgoing'
							});
							v.contents.forEach(function(k) {
								var w = k.transport || {};
								w.ufrag && (u.iceCredentials.local[k.name] = {
									ufrag: w.ufrag,
									pwd: w.pwd
								})
							})
						}
						if (f.jingle = {
								contents: [{
									name: g.sdpMid,
									creator: u._role(),
									transport: {
										transportType: 'iceUdp',
										ufrag: u.iceCredentials.local[g.sdpMid].ufrag,
										pwd: u.iceCredentials.local[g.sdpMid].pwd,
										candidates: [h]
									}
								}]
							}, 0 < u.batchIceCandidates) return 0 === u.batchedIceCandidates.length && window.setTimeout(function() {
							var k = {};
							u.batchedIceCandidates.forEach(function(T) {
								T = T.contents[0], k[T.name] || (k[T.name] = T), k[T.name].transport.candidates.push(T.transport.candidates[0])
							});
							var w = {
								jingle: {
									contents: []
								}
							};
							Object.keys(k).forEach(function(T) {
								w.jingle.contents.push(k[T])
							}), u.batchedIceCandidates = [], u.emit('ice', w)
						}, u.batchIceCandidates), void u.batchedIceCandidates.push(f.jingle)
					}
					this.emit('ice', f)
				} else this.emit('endOfCandidates')
			}, n.prototype._onDataChannel = function(m) {
				var u = m.channel;
				this._remoteDataChannels.push(u), this.emit('addChannel', u)
			}, n.prototype.createDataChannel = function(m, u) {
				var g = this.pc.createDataChannel(m, u);
				return this._localDataChannels.push(g), g
			}, n.prototype.getStats = function() {
				if ('function' == typeof arguments[0]) {
					var m = arguments[0];
					this.pc.getStats().then(function(u) {
						m(null, u)
					}, function(u) {
						m(u)
					})
				} else return this.pc.getStats.apply(this.pc, arguments)
			}, r.exports = n
		}, {
			'lodash.clonedeep': 45,
			'sdp-jingle-json': 54,
			util: 73,
			wildemitter: 75
		}],
		54: [function(t, r, n) {
			var a = t('./lib/tosdp'),
				o = t('./lib/tojson');
			n.toIncomingSDPOffer = function(s) {
				return a.toSessionSDP(s, {
					role: 'responder',
					direction: 'incoming'
				})
			}, n.toOutgoingSDPOffer = function(s) {
				return a.toSessionSDP(s, {
					role: 'initiator',
					direction: 'outgoing'
				})
			}, n.toIncomingSDPAnswer = function(s) {
				return a.toSessionSDP(s, {
					role: 'initiator',
					direction: 'incoming'
				})
			}, n.toOutgoingSDPAnswer = function(s) {
				return a.toSessionSDP(s, {
					role: 'responder',
					direction: 'outgoing'
				})
			}, n.toIncomingMediaSDPOffer = function(s) {
				return a.toMediaSDP(s, {
					role: 'responder',
					direction: 'incoming'
				})
			}, n.toOutgoingMediaSDPOffer = function(s) {
				return a.toMediaSDP(s, {
					role: 'initiator',
					direction: 'outgoing'
				})
			}, n.toIncomingMediaSDPAnswer = function(s) {
				return a.toMediaSDP(s, {
					role: 'initiator',
					direction: 'incoming'
				})
			}, n.toOutgoingMediaSDPAnswer = function(s) {
				return a.toMediaSDP(s, {
					role: 'responder',
					direction: 'outgoing'
				})
			}, n.toCandidateSDP = a.toCandidateSDP, n.toMediaSDP = a.toMediaSDP, n.toSessionSDP = a.toSessionSDP, n.toIncomingJSONOffer = function(s, c) {
				return o.toSessionJSON(s, {
					role: 'responder',
					direction: 'incoming',
					creators: c
				})
			}, n.toOutgoingJSONOffer = function(s, c) {
				return o.toSessionJSON(s, {
					role: 'initiator',
					direction: 'outgoing',
					creators: c
				})
			}, n.toIncomingJSONAnswer = function(s, c) {
				return o.toSessionJSON(s, {
					role: 'initiator',
					direction: 'incoming',
					creators: c
				})
			}, n.toOutgoingJSONAnswer = function(s, c) {
				return o.toSessionJSON(s, {
					role: 'responder',
					direction: 'outgoing',
					creators: c
				})
			}, n.toIncomingMediaJSONOffer = function(s, c) {
				return o.toMediaJSON(s, {
					role: 'responder',
					direction: 'incoming',
					creator: c
				})
			}, n.toOutgoingMediaJSONOffer = function(s, c) {
				return o.toMediaJSON(s, {
					role: 'initiator',
					direction: 'outgoing',
					creator: c
				})
			}, n.toIncomingMediaJSONAnswer = function(s, c) {
				return o.toMediaJSON(s, {
					role: 'initiator',
					direction: 'incoming',
					creator: c
				})
			}, n.toOutgoingMediaJSONAnswer = function(s, c) {
				return o.toMediaJSON(s, {
					role: 'responder',
					direction: 'outgoing',
					creator: c
				})
			}, n.toCandidateJSON = o.toCandidateJSON, n.toMediaJSON = o.toMediaJSON, n.toSessionJSON = o.toSessionJSON
		}, {
			'./lib/tojson': 57,
			'./lib/tosdp': 58
		}],
		55: [function(t, r, n) {
			n.lines = function(a) {
				return a.split('\r\n').filter(function(o) {
					return 0 < o.length
				})
			}, n.findLine = function(a, o, s) {
				for (var c = a.length, m = 0; m < o.length; m++)
					if (o[m].substr(0, c) === a) return o[m];
				if (!s) return !1;
				for (var u = 0; u < s.length; u++)
					if (s[u].substr(0, c) === a) return s[u];
				return !1
			}, n.findLines = function(a, o, s) {
				for (var c = [], m = a.length, u = 0; u < o.length; u++) o[u].substr(0, m) === a && c.push(o[u]);
				if (c.length || !s) return c;
				for (var g = 0; g < s.length; g++) s[g].substr(0, m) === a && c.push(s[g]);
				return c
			}, n.mline = function(a) {
				for (var o = a.substr(2).split(' '), s = {
						media: o[0],
						port: o[1],
						proto: o[2],
						formats: []
					}, c = 3; c < o.length; c++) o[c] && s.formats.push(o[c]);
				return s
			}, n.rtpmap = function(a) {
				var o = a.substr(9).split(' '),
					s = {
						id: o.shift()
					};
				return o = o[0].split('/'), s.name = o[0], s.clockrate = o[1], s.channels = 3 == o.length ? o[2] : '1', s
			}, n.sctpmap = function(a) {
				var o = a.substr(10).split(' '),
					s = {
						number: o.shift(),
						protocol: o.shift(),
						streams: o.shift()
					};
				return s
			}, n.fmtp = function(a) {
				for (var m, u, g, o = a.substr(a.indexOf(' ') + 1).split(';'), s = [], c = 0; c < o.length; c++) m = o[c].split('='), u = m[0].trim(), g = m[1], u && g ? s.push({
					key: u,
					value: g
				}) : u && s.push({
					key: '',
					value: u
				});
				return s
			}, n.crypto = function(a) {
				var o = a.substr(9).split(' '),
					s = {
						tag: o[0],
						cipherSuite: o[1],
						keyParams: o[2],
						sessionParams: o.slice(3).join(' ')
					};
				return s
			}, n.fingerprint = function(a) {
				var o = a.substr(14).split(' ');
				return {
					hash: o[0],
					value: o[1]
				}
			}, n.extmap = function(a) {
				var o = a.substr(9).split(' '),
					s = {},
					c = o.shift(),
					m = c.indexOf('/');
				return 0 <= m ? (s.id = c.substr(0, m), s.senders = c.substr(m + 1)) : (s.id = c, s.senders = 'sendrecv'), s.uri = o.shift() || '', s
			}, n.rtcpfb = function(a) {
				var o = a.substr(10).split(' '),
					s = {};
				return s.id = o.shift(), s.type = o.shift(), 'trr-int' === s.type ? s.value = o.shift() : s.subtype = o.shift() || '', s.parameters = o, s
			}, n.candidate = function(a) {
				for (var o = 0 === a.indexOf('a=candidate:') ? a.substring(12).split(' ') : a.substring(10).split(' '), s = {
						foundation: o[0],
						component: o[1],
						protocol: o[2].toLowerCase(),
						priority: o[3],
						ip: o[4],
						port: o[5],
						type: o[7],
						generation: '0'
					}, c = 8; c < o.length; c += 2) 'raddr' === o[c] ? s.relAddr = o[c + 1] : 'rport' === o[c] ? s.relPort = o[c + 1] : 'generation' === o[c] ? s.generation = o[c + 1] : 'tcptype' === o[c] && (s.tcpType = o[c + 1]);
				return s.network = '1', s
			}, n.sourceGroups = function(a) {
				for (var c, o = [], s = 0; s < a.length; s++) c = a[s].substr(13).split(' '), o.push({
					semantics: c.shift(),
					sources: c
				});
				return o
			}, n.sources = function(a) {
				for (var o = [], s = {}, c = 0; c < a.length; c++) {
					var m = a[c].substr(7).split(' '),
						u = m.shift();
					if (!s[u]) {
						var g = {
							ssrc: u,
							parameters: []
						};
						o.push(g), s[u] = g
					}
					m = m.join(' ').split(':');
					var f = m.shift(),
						h = m.join(':') || null;
					s[u].parameters.push({
						key: f,
						value: h
					})
				}
				return o
			}, n.groups = function(a) {
				for (var c, o = [], s = 0; s < a.length; s++) c = a[s].substr(8).split(' '), o.push({
					semantics: c.shift(),
					contents: c
				});
				return o
			}, n.bandwidth = function(a) {
				var o = a.substr(2).split(':'),
					s = {};
				return s.type = o.shift(), s.bandwidth = o.shift(), s
			}, n.msid = function(a) {
				var o = a.substr(7),
					s = o.split(' ');
				return {
					msid: o,
					mslabel: s[0],
					label: s[1]
				}
			}
		}, {}],
		56: [function(t, r) {
			r.exports = {
				initiator: {
					incoming: {
						initiator: 'recvonly',
						responder: 'sendonly',
						both: 'sendrecv',
						none: 'inactive',
						recvonly: 'initiator',
						sendonly: 'responder',
						sendrecv: 'both',
						inactive: 'none'
					},
					outgoing: {
						initiator: 'sendonly',
						responder: 'recvonly',
						both: 'sendrecv',
						none: 'inactive',
						recvonly: 'responder',
						sendonly: 'initiator',
						sendrecv: 'both',
						inactive: 'none'
					}
				},
				responder: {
					incoming: {
						initiator: 'sendonly',
						responder: 'recvonly',
						both: 'sendrecv',
						none: 'inactive',
						recvonly: 'responder',
						sendonly: 'initiator',
						sendrecv: 'both',
						inactive: 'none'
					},
					outgoing: {
						initiator: 'recvonly',
						responder: 'sendonly',
						both: 'sendrecv',
						none: 'inactive',
						recvonly: 'initiator',
						sendonly: 'responder',
						sendrecv: 'both',
						inactive: 'none'
					}
				}
			}
		}, {}],
		57: [function(t, r, n) {
			var a = t('./senders'),
				o = t('./parsers'),
				s = Math.random();
			n._setIdCounter = function(c) {
				s = c
			}, n.toSessionJSON = function(c, m) {
				var y, u = m.creators || [],
					g = m.role || 'initiator',
					f = m.direction || 'outgoing',
					h = c.split('\r\nm=');
				for (y = 1; y < h.length; y++) h[y] = 'm=' + h[y], y !== h.length - 1 && (h[y] += '\r\n');
				var b = h.shift() + '\r\n',
					v = o.lines(b),
					k = {},
					w = [];
				for (y = 0; y < h.length; y++) w.push(n.toMediaJSON(h[y], b, {
					role: g,
					direction: f,
					creator: u[y] || 'initiator'
				}));
				k.contents = w;
				var T = o.findLines('a=group:', v);
				return T.length && (k.groups = o.groups(T)), k
			}, n.toMediaJSON = function(c, m, u) {
				var g = u.creator || 'initiator',
					f = u.role || 'initiator',
					h = u.direction || 'outgoing',
					y = o.lines(c),
					b = o.lines(m),
					v = o.mline(y[0]),
					k = {
						creator: g,
						name: v.media,
						application: {
							applicationType: 'rtp',
							media: v.media,
							payloads: [],
							encryption: [],
							feedback: [],
							headerExtensions: []
						},
						transport: {
							transportType: 'iceUdp',
							candidates: [],
							fingerprints: []
						}
					};
				'application' == v.media && (k.application = {
					applicationType: 'datachannel'
				}, k.transport.sctp = []);
				var w = k.application,
					T = k.transport,
					_ = o.findLine('a=mid:', y);
				if (_ && (k.name = _.substr(6)), o.findLine('a=sendrecv', y, b) ? k.senders = 'both' : o.findLine('a=sendonly', y, b) ? k.senders = a[f][h].sendonly : o.findLine('a=recvonly', y, b) ? k.senders = a[f][h].recvonly : o.findLine('a=inactive', y, b) && (k.senders = 'none'), 'rtp' == w.applicationType) {
					var j = o.findLine('b=', y);
					j && (w.bandwidth = o.bandwidth(j));
					var O = o.findLine('a=ssrc:', y);
					O && (w.ssrc = O.substr(7).split(' ')[0]);
					var L = o.findLines('a=rtpmap:', y);
					L.forEach(function(ar) {
						var fr = o.rtpmap(ar);
						fr.parameters = [], fr.feedback = [];
						var rn = o.findLines('a=fmtp:' + fr.id, y);
						rn.forEach(function(an) {
							fr.parameters = o.fmtp(an)
						});
						var nn = o.findLines('a=rtcp-fb:' + fr.id, y);
						nn.forEach(function(an) {
							fr.feedback.push(o.rtcpfb(an))
						}), w.payloads.push(fr)
					});
					var ee = o.findLines('a=crypto:', y, b);
					ee.forEach(function(ar) {
						w.encryption.push(o.crypto(ar))
					}), o.findLine('a=rtcp-mux', y) && (w.mux = !0);
					var te = o.findLines('a=rtcp-fb:*', y);
					te.forEach(function(ar) {
						w.feedback.push(o.rtcpfb(ar))
					});
					var re = o.findLines('a=extmap:', y);
					re.forEach(function(ar) {
						var fr = o.extmap(ar);
						fr.senders = a[f][h][fr.senders], w.headerExtensions.push(fr)
					});
					var Ze = o.findLines('a=ssrc-group:', y);
					w.sourceGroups = o.sourceGroups(Ze || []);
					var rt = o.findLines('a=ssrc:', y),
						ct = w.sources = o.sources(rt || []),
						pt = o.findLine('a=msid:', y);
					if (pt) {
						var lt = o.msid(pt);
						['msid', 'mslabel', 'label'].forEach(function(ar) {
							for (var rn, fr = 0; fr < ct.length; fr++) {
								rn = !1;
								for (var nn = 0; nn < ct[fr].parameters.length; nn++) ct[fr].parameters[nn].key === ar && (rn = !0);
								rn || ct[fr].parameters.push({
									key: ar,
									value: lt[ar]
								})
							}
						})
					}
					o.findLine('a=x-google-flag:conference', y, b) && (w.googConferenceFlag = !0)
				}
				var ut = o.findLines('a=fingerprint:', y, b),
					ht = o.findLine('a=setup:', y, b);
				ut.forEach(function(ar) {
					var fr = o.fingerprint(ar);
					ht && (fr.setup = ht.substr(8)), T.fingerprints.push(fr)
				});
				var yt = o.findLine('a=ice-ufrag:', y, b),
					bt = o.findLine('a=ice-pwd:', y, b);
				if (yt && bt) {
					T.ufrag = yt.substr(12), T.pwd = bt.substr(10), T.candidates = [];
					var Ct = o.findLines('a=candidate:', y, b);
					Ct.forEach(function(ar) {
						T.candidates.push(n.toCandidateJSON(ar))
					})
				}
				if ('datachannel' == w.applicationType) {
					var er = o.findLines('a=sctpmap:', y);
					er.forEach(function(ar) {
						var fr = o.sctpmap(ar);
						T.sctp.push(fr)
					})
				}
				return k
			}, n.toCandidateJSON = function(c) {
				var m = o.candidate(c.split('\r\n')[0]);
				return m.id = (s++).toString(36).substr(0, 12), m
			}
		}, {
			'./parsers': 55,
			'./senders': 56
		}],
		58: [function(t, r, n) {
			var a = t('./senders');
			n.toSessionSDP = function(o, s) {
				var c = s.role || 'initiator',
					m = s.direction || 'outgoing',
					u = s.sid || o.sid || Date.now(),
					g = s.time || Date.now(),
					f = ['v=0', 'o=- ' + u + ' ' + g + ' IN IP4 0.0.0.0', 's=-', 't=0 0'],
					h = o.contents || [],
					y = !1;
				h.forEach(function(v) {
					v.application.sources && v.application.sources.length && (y = !0)
				}), y && f.push('a=msid-semantic: WMS *');
				var b = o.groups || [];
				return b.forEach(function(v) {
					f.push('a=group:' + v.semantics + ' ' + v.contents.join(' '))
				}), h.forEach(function(v) {
					f.push(n.toMediaSDP(v, s))
				}), f.join('\r\n') + '\r\n'
			}, n.toMediaSDP = function(o, s) {
				var c = [],
					m = s.role || 'initiator',
					u = s.direction || 'outgoing',
					g = o.application,
					f = o.transport,
					h = g.payloads || [],
					y = f && f.fingerprints || [],
					b = [];
				('datachannel' == g.applicationType ? (b.push('application'), b.push('1'), b.push('DTLS/SCTP'), f.sctp && f.sctp.forEach(function(j) {
					b.push(j.number)
				})) : (b.push(g.media), b.push('1'), 0 < y.length ? b.push('UDP/TLS/RTP/SAVPF') : g.encryption && 0 < g.encryption.length ? b.push('RTP/SAVPF') : b.push('RTP/AVPF'), h.forEach(function(j) {
					b.push(j.id)
				})), c.push('m=' + b.join(' ')), c.push('c=IN IP4 0.0.0.0'), g.bandwidth && g.bandwidth.type && g.bandwidth.bandwidth && c.push('b=' + g.bandwidth.type + ':' + g.bandwidth.bandwidth), 'rtp' == g.applicationType && c.push('a=rtcp:1 IN IP4 0.0.0.0'), f) && (f.ufrag && c.push('a=ice-ufrag:' + f.ufrag), f.pwd && c.push('a=ice-pwd:' + f.pwd), y.forEach(function(j) {
					c.push('a=fingerprint:' + j.hash + ' ' + j.value), j.setup && !0 && c.push('a=setup:' + j.setup)
				}), f.sctp && f.sctp.forEach(function(j) {
					c.push('a=sctpmap:' + j.number + ' ' + j.protocol + ' ' + j.streams)
				})), 'rtp' == g.applicationType && c.push('a=' + (a[m][u][o.senders] || 'sendrecv')), c.push('a=mid:' + o.name), g.sources && g.sources.length && (g.sources[0].parameters || []).forEach(function(j) {
					'msid' === j.key && c.push('a=msid:' + j.value)
				}), g.mux && c.push('a=rtcp-mux');
				var v = g.encryption || [];
				v.forEach(function(j) {
					c.push('a=crypto:' + j.tag + ' ' + j.cipherSuite + ' ' + j.keyParams + (j.sessionParams ? ' ' + j.sessionParams : ''))
				}), g.googConferenceFlag && c.push('a=x-google-flag:conference'), h.forEach(function(j) {
					var O = 'a=rtpmap:' + j.id + ' ' + j.name + '/' + j.clockrate;
					if (j.channels && '1' != j.channels && (O += '/' + j.channels), c.push(O), j.parameters && j.parameters.length) {
						var L = ['a=fmtp:' + j.id],
							ee = [];
						j.parameters.forEach(function(te) {
							ee.push((te.key ? te.key + '=' : '') + te.value)
						}), L.push(ee.join(';')), c.push(L.join(' '))
					}
					j.feedback && j.feedback.forEach(function(te) {
						'trr-int' === te.type ? c.push('a=rtcp-fb:' + j.id + ' trr-int ' + (te.value ? te.value : '0')) : c.push('a=rtcp-fb:' + j.id + ' ' + te.type + (te.subtype ? ' ' + te.subtype : ''))
					})
				}), g.feedback && g.feedback.forEach(function(j) {
					'trr-int' === j.type ? c.push('a=rtcp-fb:* trr-int ' + (j.value ? j.value : '0')) : c.push('a=rtcp-fb:* ' + j.type + (j.subtype ? ' ' + j.subtype : ''))
				});
				var k = g.headerExtensions || [];
				k.forEach(function(j) {
					c.push('a=extmap:' + j.id + (j.senders ? '/' + a[m][u][j.senders] : '') + ' ' + j.uri)
				});
				var w = g.sourceGroups || [];
				w.forEach(function(j) {
					c.push('a=ssrc-group:' + j.semantics + ' ' + j.sources.join(' '))
				});
				var T = g.sources || [];
				T.forEach(function(j) {
					for (var L, O = 0; O < j.parameters.length; O++) L = j.parameters[O], c.push('a=ssrc:' + (j.ssrc || g.ssrc) + ' ' + L.key + (L.value ? ':' + L.value : ''))
				});
				var _ = f.candidates || [];
				return _.forEach(function(j) {
					c.push(n.toCandidateSDP(j))
				}), c.join('\r\n')
			}, n.toCandidateSDP = function(o) {
				var s = [o.foundation, o.component, o.protocol.toUpperCase(), o.priority, o.ip, o.port],
					c = o.type;
				return s.push('typ'), s.push(c), ('srflx' === c || 'prflx' === c || 'relay' === c) && o.relAddr && o.relPort && (s.push('raddr'), s.push(o.relAddr), s.push('rport'), s.push(o.relPort)), o.tcpType && 'TCP' == o.protocol.toUpperCase() && (s.push('tcptype'), s.push(o.tcpType)), s.push('generation'), s.push(o.generation || '0'), 'a=candidate:' + s.join(' ')
			}
		}, {
			'./senders': 56
		}],
		59: [function(t, r) {
			'use strict';
			var n = {};
			n.generateIdentifier = function() {
				return Math.random().toString(36).substr(2, 10)
			}, n.localCName = n.generateIdentifier(), n.splitLines = function(a) {
				return a.trim().split('\n').map(function(o) {
					return o.trim()
				})
			}, n.splitSections = function(a) {
				var o = a.split('\nm=');
				return o.map(function(s, c) {
					return (0 < c ? 'm=' + s : s).trim() + '\r\n'
				})
			}, n.matchPrefix = function(a, o) {
				return n.splitLines(a).filter(function(s) {
					return 0 === s.indexOf(o)
				})
			}, n.parseCandidate = function(a) {
				for (var o = 0 === a.indexOf('a=candidate:') ? a.substring(12).split(' ') : a.substring(10).split(' '), s = {
						foundation: o[0],
						component: o[1],
						protocol: o[2].toLowerCase(),
						priority: parseInt(o[3], 10),
						ip: o[4],
						port: parseInt(o[5], 10),
						type: o[7]
					}, c = 8; c < o.length; c += 2) switch (o[c]) {
					case 'raddr':
						s.relatedAddress = o[c + 1];
						break;
					case 'rport':
						s.relatedPort = parseInt(o[c + 1], 10);
						break;
					case 'tcptype':
						s.tcpType = o[c + 1];
						break;
					default:
						s[o[c]] = o[c + 1];
				}
				return s
			}, n.writeCandidate = function(a) {
				var o = [a.foundation, a.component, a.protocol.toUpperCase(), a.priority, a.ip, a.port],
					s = a.type;
				return o.push('typ'), o.push(s), 'host' !== s && a.relatedAddress && a.relatedPort && (o.push('raddr'), o.push(a.relatedAddress), o.push('rport'), o.push(a.relatedPort)), a.tcpType && 'tcp' === a.protocol.toLowerCase() && (o.push('tcptype'), o.push(a.tcpType)), 'candidate:' + o.join(' ')
			}, n.parseIceOptions = function(a) {
				return a.substr(14).split(' ')
			}, n.parseRtpMap = function(a) {
				var o = a.substr(9).split(' '),
					s = {
						payloadType: parseInt(o.shift(), 10)
					};
				return o = o[0].split('/'), s.name = o[0], s.clockRate = parseInt(o[1], 10), s.numChannels = 3 === o.length ? parseInt(o[2], 10) : 1, s
			}, n.writeRtpMap = function(a) {
				var o = a.payloadType;
				return void 0 !== a.preferredPayloadType && (o = a.preferredPayloadType), 'a=rtpmap:' + o + ' ' + a.name + '/' + a.clockRate + (1 === a.numChannels ? '' : '/' + a.numChannels) + '\r\n'
			}, n.parseExtmap = function(a) {
				var o = a.substr(9).split(' ');
				return {
					id: parseInt(o[0], 10),
					direction: 0 < o[0].indexOf('/') ? o[0].split('/')[1] : 'sendrecv',
					uri: o[1]
				}
			}, n.writeExtmap = function(a) {
				return 'a=extmap:' + (a.id || a.preferredId) + (a.direction && 'sendrecv' !== a.direction ? '/' + a.direction : '') + ' ' + a.uri + '\r\n'
			}, n.parseFmtp = function(a) {
				for (var m, o = {}, s = a.substr(a.indexOf(' ') + 1).split(';'), c = 0; c < s.length; c++) m = s[c].trim().split('='), o[m[0].trim()] = m[1];
				return o
			}, n.writeFmtp = function(a) {
				var o = '',
					s = a.payloadType;
				if (void 0 !== a.preferredPayloadType && (s = a.preferredPayloadType), a.parameters && Object.keys(a.parameters).length) {
					var c = [];
					Object.keys(a.parameters).forEach(function(m) {
						c.push(m + '=' + a.parameters[m])
					}), o += 'a=fmtp:' + s + ' ' + c.join(';') + '\r\n'
				}
				return o
			}, n.parseRtcpFb = function(a) {
				var o = a.substr(a.indexOf(' ') + 1).split(' ');
				return {
					type: o.shift(),
					parameter: o.join(' ')
				}
			}, n.writeRtcpFb = function(a) {
				var o = '',
					s = a.payloadType;
				return void 0 !== a.preferredPayloadType && (s = a.preferredPayloadType), a.rtcpFeedback && a.rtcpFeedback.length && a.rtcpFeedback.forEach(function(c) {
					o += 'a=rtcp-fb:' + s + ' ' + c.type + (c.parameter && c.parameter.length ? ' ' + c.parameter : '') + '\r\n'
				}), o
			}, n.parseSsrcMedia = function(a) {
				var o = a.indexOf(' '),
					s = {
						ssrc: parseInt(a.substr(7, o - 7), 10)
					},
					c = a.indexOf(':', o);
				return -1 < c ? (s.attribute = a.substr(o + 1, c - o - 1), s.value = a.substr(c + 1)) : s.attribute = a.substr(o + 1), s
			}, n.getMid = function(a) {
				var o = n.matchPrefix(a, 'a=mid:')[0];
				if (o) return o.substr(6)
			}, n.parseFingerprint = function(a) {
				var o = a.substr(14).split(' ');
				return {
					algorithm: o[0].toLowerCase(),
					value: o[1]
				}
			}, n.getDtlsParameters = function(a, o) {
				var s = n.matchPrefix(a + o, 'a=fingerprint:');
				return {
					role: 'auto',
					fingerprints: s.map(n.parseFingerprint)
				}
			}, n.writeDtlsParameters = function(a, o) {
				var s = 'a=setup:' + o + '\r\n';
				return a.fingerprints.forEach(function(c) {
					s += 'a=fingerprint:' + c.algorithm + ' ' + c.value + '\r\n'
				}), s
			}, n.getIceParameters = function(a, o) {
				var s = n.splitLines(a);
				s = s.concat(n.splitLines(o));
				var c = {
					usernameFragment: s.filter(function(m) {
						return 0 === m.indexOf('a=ice-ufrag:')
					})[0].substr(12),
					password: s.filter(function(m) {
						return 0 === m.indexOf('a=ice-pwd:')
					})[0].substr(10)
				};
				return c
			}, n.writeIceParameters = function(a) {
				return 'a=ice-ufrag:' + a.usernameFragment + '\r\na=ice-pwd:' + a.password + '\r\n'
			}, n.parseRtpParameters = function(a) {
				for (var o = {
						codecs: [],
						headerExtensions: [],
						fecMechanisms: [],
						rtcp: []
					}, s = n.splitLines(a), c = s[0].split(' '), m = 3; m < c.length; m++) {
					var u = c[m],
						g = n.matchPrefix(a, 'a=rtpmap:' + u + ' ')[0];
					if (g) {
						var f = n.parseRtpMap(g),
							h = n.matchPrefix(a, 'a=fmtp:' + u + ' ');
						switch (f.parameters = h.length ? n.parseFmtp(h[0]) : {}, f.rtcpFeedback = n.matchPrefix(a, 'a=rtcp-fb:' + u + ' ').map(n.parseRtcpFb), o.codecs.push(f), f.name.toUpperCase()) {
							case 'RED':
							case 'ULPFEC':
								o.fecMechanisms.push(f.name.toUpperCase());
								break;
							default:
						}
					}
				}
				return n.matchPrefix(a, 'a=extmap:').forEach(function(y) {
					o.headerExtensions.push(n.parseExtmap(y))
				}), o
			}, n.writeRtpDescription = function(a, o) {
				var s = '';
				s += 'm=' + a + ' ', s += 0 < o.codecs.length ? '9' : '0', s += ' UDP/TLS/RTP/SAVPF ', s += o.codecs.map(function(m) {
					return void 0 === m.preferredPayloadType ? m.payloadType : m.preferredPayloadType
				}).join(' ') + '\r\n', s += 'c=IN IP4 0.0.0.0\r\n', s += 'a=rtcp:9 IN IP4 0.0.0.0\r\n', o.codecs.forEach(function(m) {
					s += n.writeRtpMap(m), s += n.writeFmtp(m), s += n.writeRtcpFb(m)
				});
				var c = 0;
				return o.codecs.forEach(function(m) {
					m.maxptime > c && (c = m.maxptime)
				}), 0 < c && (s += 'a=maxptime:' + c + '\r\n'), s += 'a=rtcp-mux\r\n', o.headerExtensions.forEach(function(m) {
					s += n.writeExtmap(m)
				}), s
			}, n.parseRtpEncodingParameters = function(a) {
				var h, o = [],
					s = n.parseRtpParameters(a),
					c = -1 !== s.fecMechanisms.indexOf('RED'),
					m = -1 !== s.fecMechanisms.indexOf('ULPFEC'),
					u = n.matchPrefix(a, 'a=ssrc:').map(function(b) {
						return n.parseSsrcMedia(b)
					}).filter(function(b) {
						return 'cname' === b.attribute
					}),
					g = 0 < u.length && u[0].ssrc,
					f = n.matchPrefix(a, 'a=ssrc-group:FID').map(function(b) {
						var v = b.split(' ');
						return v.shift(), v.map(function(k) {
							return parseInt(k, 10)
						})
					});
				0 < f.length && 1 < f[0].length && f[0][0] === g && (h = f[0][1]), s.codecs.forEach(function(b) {
					if ('RTX' === b.name.toUpperCase() && b.parameters.apt) {
						var v = {
							ssrc: g,
							codecPayloadType: parseInt(b.parameters.apt, 10),
							rtx: {
								ssrc: h
							}
						};
						o.push(v), c && (v = JSON.parse(JSON.stringify(v)), v.fec = {
							ssrc: h,
							mechanism: m ? 'red+ulpfec' : 'red'
						}, o.push(v))
					}
				}), 0 === o.length && g && o.push({
					ssrc: g
				});
				var y = n.matchPrefix(a, 'b=');
				return y.length && (0 === y[0].indexOf('b=TIAS:') ? y = parseInt(y[0].substr(7), 10) : 0 === y[0].indexOf('b=AS:') && (y = parseInt(y[0].substr(5), 10)), o.forEach(function(b) {
					b.maxBitrate = y
				})), o
			}, n.parseRtcpParameters = function(a) {
				var o = {},
					s = n.matchPrefix(a, 'a=ssrc:').map(function(u) {
						return n.parseSsrcMedia(u)
					}).filter(function(u) {
						return 'cname' === u.attribute
					})[0];
				s && (o.cname = s.value, o.ssrc = s.ssrc);
				var c = n.matchPrefix(a, 'a=rtcp-rsize');
				o.reducedSize = 0 < c.length, o.compound = 0 === c.length;
				var m = n.matchPrefix(a, 'a=rtcp-mux');
				return o.mux = 0 < m.length, o
			}, n.parseMsid = function(a) {
				var o, s = n.matchPrefix(a, 'a=msid:');
				if (1 === s.length) return o = s[0].substr(7).split(' '), {
					stream: o[0],
					track: o[1]
				};
				var c = n.matchPrefix(a, 'a=ssrc:').map(function(m) {
					return n.parseSsrcMedia(m)
				}).filter(function(m) {
					return 'msid' === m.attribute
				});
				if (0 < c.length) return o = c[0].value.split(' '), {
					stream: o[0],
					track: o[1]
				}
			}, n.writeSessionBoilerplate = function() {
				return 'v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n'
			}, n.writeMediaSection = function(a, o, s, c) {
				var m = n.writeRtpDescription(a.kind, o);
				if (m += n.writeIceParameters(a.iceGatherer.getLocalParameters()), m += n.writeDtlsParameters(a.dtlsTransport.getLocalParameters(), 'offer' === s ? 'actpass' : 'active'), m += 'a=mid:' + a.mid + '\r\n', m += a.direction ? 'a=' + a.direction + '\r\n' : a.rtpSender && a.rtpReceiver ? 'a=sendrecv\r\n' : a.rtpSender ? 'a=sendonly\r\n' : a.rtpReceiver ? 'a=recvonly\r\n' : 'a=inactive\r\n', a.rtpSender) {
					var u = 'msid:' + c.id + ' ' + a.rtpSender.track.id + '\r\n';
					m += 'a=' + u, m += 'a=ssrc:' + a.sendEncodingParameters[0].ssrc + ' ' + u, a.sendEncodingParameters[0].rtx && (m += 'a=ssrc:' + a.sendEncodingParameters[0].rtx.ssrc + ' ' + u, m += 'a=ssrc-group:FID ' + a.sendEncodingParameters[0].ssrc + ' ' + a.sendEncodingParameters[0].rtx.ssrc + '\r\n')
				}
				return m += 'a=ssrc:' + a.sendEncodingParameters[0].ssrc + ' cname:' + n.localCName + '\r\n', a.rtpSender && a.sendEncodingParameters[0].rtx && (m += 'a=ssrc:' + a.sendEncodingParameters[0].rtx.ssrc + ' cname:' + n.localCName + '\r\n'), m
			}, n.getDirection = function(a, o) {
				for (var s = n.splitLines(a), c = 0; c < s.length; c++) switch (s[c]) {
					case 'a=sendrecv':
					case 'a=sendonly':
					case 'a=recvonly':
					case 'a=inactive':
						return s[c].substr(2);
					default:
				}
				return o ? n.getDirection(o) : 'sendrecv'
			}, n.getKind = function(a) {
				var o = n.splitLines(a),
					s = o[0].split(' ');
				return s[0].substr(2)
			}, n.isRejected = function(a) {
				return '0' === a.split(' ', 2)[1]
			}, r.exports = n
		}, {}],
		60: [function(t, r) {
			r.exports = t('./lib/')
		}, {
			'./lib/': 61
		}],
		61: [function(t, r, n) {
			function a(g, f) {
				'object' == typeof g && (f = g, g = void 0), f = f || {};
				var v, h = o(g),
					y = h.source,
					b = h.id;
				return f.forceNew || f['force new connection'] || !1 === f.multiplex ? (m('ignoring socket cache for %s', y), v = c(y, f)) : (!u[b] && (m('new io instance for %s', y), u[b] = c(y, f)), v = u[b]), v.socket(h.path)
			}
			var o = t('./url'),
				s = t('socket.io-parser'),
				c = t('./manager'),
				m = t('debug')('socket.io-client');
			r.exports = n = a;
			var u = n.managers = {};
			n.protocol = s.protocol, n.connect = a, n.Manager = t('./manager'), n.Socket = t('./socket')
		}, {
			'./manager': 62,
			'./socket': 64,
			'./url': 65,
			debug: 19,
			'socket.io-parser': 67
		}],
		62: [function(t, r) {
			function n(v, k) {
				return this instanceof n ? void(v && 'object' == typeof v && (k = v, v = void 0), k = k || {}, k.path = k.path || '/socket.io', this.nsps = {}, this.subs = [], this.opts = k, this.reconnection(!1 !== k.reconnection), this.reconnectionAttempts(k.reconnectionAttempts || Infinity), this.reconnectionDelay(k.reconnectionDelay || 1e3), this.reconnectionDelayMax(k.reconnectionDelayMax || 5e3), this.randomizationFactor(k.randomizationFactor || 0.5), this.backoff = new b({
					min: this.reconnectionDelay(),
					max: this.reconnectionDelayMax(),
					jitter: this.randomizationFactor()
				}), this.timeout(null == k.timeout ? 2e4 : k.timeout), this.readyState = 'closed', this.uri = v, this.connected = [], this.encoding = !1, this.packetBuffer = [], this.encoder = new m.Encoder, this.decoder = new m.Decoder, this.autoConnect = !1 !== k.autoConnect, this.autoConnect && this.open()) : new n(v, k)
			}
			var a = t('./url'),
				o = t('engine.io-client'),
				s = t('./socket'),
				c = t('component-emitter'),
				m = t('socket.io-parser'),
				u = t('./on'),
				g = t('component-bind'),
				f = t('object-component'),
				h = t('debug')('socket.io-client:manager'),
				y = t('indexof'),
				b = t('backo2');
			r.exports = n, n.prototype.emitAll = function() {
				for (var v in this.emit.apply(this, arguments), this.nsps) this.nsps[v].emit.apply(this.nsps[v], arguments)
			}, n.prototype.updateSocketIds = function() {
				for (var v in this.nsps) this.nsps[v].id = this.engine.id
			}, c(n.prototype), n.prototype.reconnection = function(v) {
				return arguments.length ? (this._reconnection = !!v, this) : this._reconnection
			}, n.prototype.reconnectionAttempts = function(v) {
				return arguments.length ? (this._reconnectionAttempts = v, this) : this._reconnectionAttempts
			}, n.prototype.reconnectionDelay = function(v) {
				return arguments.length ? (this._reconnectionDelay = v, this.backoff && this.backoff.setMin(v), this) : this._reconnectionDelay
			}, n.prototype.randomizationFactor = function(v) {
				return arguments.length ? (this._randomizationFactor = v, this.backoff && this.backoff.setJitter(v), this) : this._randomizationFactor
			}, n.prototype.reconnectionDelayMax = function(v) {
				return arguments.length ? (this._reconnectionDelayMax = v, this.backoff && this.backoff.setMax(v), this) : this._reconnectionDelayMax
			}, n.prototype.timeout = function(v) {
				return arguments.length ? (this._timeout = v, this) : this._timeout
			}, n.prototype.maybeReconnectOnOpen = function() {
				!this.reconnecting && this._reconnection && 0 === this.backoff.attempts && this.reconnect()
			}, n.prototype.open = n.prototype.connect = function(v) {
				if (h('readyState %s', this.readyState), ~this.readyState.indexOf('open')) return this;
				h('opening %s', this.uri), this.engine = o(this.uri, this.opts);
				var k = this.engine,
					w = this;
				this.readyState = 'opening', this.skipReconnect = !1;
				var T = u(k, 'open', function() {
						w.onopen(), v && v()
					}),
					_ = u(k, 'error', function(L) {
						if (h('connect_error'), w.cleanup(), w.readyState = 'closed', w.emitAll('connect_error', L), v) {
							var ee = new Error('Connection error');
							ee.data = L, v(ee)
						} else w.maybeReconnectOnOpen()
					});
				if (!1 !== this._timeout) {
					var j = this._timeout;
					h('connect attempt will timeout after %d', j);
					var O = setTimeout(function() {
						h('connect attempt timed out after %d', j), T.destroy(), k.close(), k.emit('error', 'timeout'), w.emitAll('connect_timeout', j)
					}, j);
					this.subs.push({
						destroy: function() {
							clearTimeout(O)
						}
					})
				}
				return this.subs.push(T), this.subs.push(_), this
			}, n.prototype.onopen = function() {
				h('open'), this.cleanup(), this.readyState = 'open', this.emit('open');
				var v = this.engine;
				this.subs.push(u(v, 'data', g(this, 'ondata'))), this.subs.push(u(this.decoder, 'decoded', g(this, 'ondecoded'))), this.subs.push(u(v, 'error', g(this, 'onerror'))), this.subs.push(u(v, 'close', g(this, 'onclose')))
			}, n.prototype.ondata = function(v) {
				this.decoder.add(v)
			}, n.prototype.ondecoded = function(v) {
				this.emit('packet', v)
			}, n.prototype.onerror = function(v) {
				h('error', v), this.emitAll('error', v)
			}, n.prototype.socket = function(v) {
				var k = this.nsps[v];
				if (!k) {
					k = new s(this, v), this.nsps[v] = k;
					var w = this;
					k.on('connect', function() {
						k.id = w.engine.id, ~y(w.connected, k) || w.connected.push(k)
					})
				}
				return k
			}, n.prototype.destroy = function(v) {
				var k = y(this.connected, v);
				~k && this.connected.splice(k, 1), this.connected.length || this.close()
			}, n.prototype.packet = function(v) {
				h('writing packet %j', v);
				var k = this;
				k.encoding ? k.packetBuffer.push(v) : (k.encoding = !0, this.encoder.encode(v, function(w) {
					for (var T = 0; T < w.length; T++) k.engine.write(w[T]);
					k.encoding = !1, k.processPacketQueue()
				}))
			}, n.prototype.processPacketQueue = function() {
				if (0 < this.packetBuffer.length && !this.encoding) {
					var v = this.packetBuffer.shift();
					this.packet(v)
				}
			}, n.prototype.cleanup = function() {
				for (var v; v = this.subs.shift();) v.destroy();
				this.packetBuffer = [], this.encoding = !1, this.decoder.destroy()
			}, n.prototype.close = n.prototype.disconnect = function() {
				this.skipReconnect = !0, this.backoff.reset(), this.readyState = 'closed', this.engine && this.engine.close()
			}, n.prototype.onclose = function(v) {
				h('close'), this.cleanup(), this.backoff.reset(), this.readyState = 'closed', this.emit('close', v), this._reconnection && !this.skipReconnect && this.reconnect()
			}, n.prototype.reconnect = function() {
				if (this.reconnecting || this.skipReconnect) return this;
				var v = this;
				if (this.backoff.attempts >= this._reconnectionAttempts) h('reconnect failed'), this.backoff.reset(), this.emitAll('reconnect_failed'), this.reconnecting = !1;
				else {
					var k = this.backoff.duration();
					h('will wait %dms before reconnect attempt', k), this.reconnecting = !0;
					var w = setTimeout(function() {
						v.skipReconnect || (h('attempting reconnect'), v.emitAll('reconnect_attempt', v.backoff.attempts), v.emitAll('reconnecting', v.backoff.attempts), v.skipReconnect || v.open(function(T) {
							T ? (h('reconnect attempt error'), v.reconnecting = !1, v.reconnect(), v.emitAll('reconnect_error', T.data)) : (h('reconnect success'), v.onreconnect())
						}))
					}, k);
					this.subs.push({
						destroy: function() {
							clearTimeout(w)
						}
					})
				}
			}, n.prototype.onreconnect = function() {
				var v = this.backoff.attempts;
				this.reconnecting = !1, this.backoff.reset(), this.updateSocketIds(), this.emitAll('reconnect', v)
			}
		}, {
			'./on': 63,
			'./socket': 64,
			'./url': 65,
			backo2: 13,
			'component-bind': 16,
			'component-emitter': 17,
			debug: 19,
			'engine.io-client': 20,
			indexof: 41,
			'object-component': 48,
			'socket.io-parser': 67
		}],
		63: [function(t, r) {
			r.exports = function(n, a, o) {
				return n.on(a, o), {
					destroy: function() {
						n.removeListener(a, o)
					}
				}
			}
		}, {}],
		64: [function(t, r, n) {
			function a(b, v) {
				this.io = b, this.nsp = v, this.json = this, this.ids = 0, this.acks = {}, this.io.autoConnect && this.open(), this.receiveBuffer = [], this.sendBuffer = [], this.connected = !1, this.disconnected = !0
			}
			var o = t('socket.io-parser'),
				s = t('component-emitter'),
				c = t('to-array'),
				m = t('./on'),
				u = t('component-bind'),
				g = t('debug')('socket.io-client:socket'),
				f = t('has-binary');
			r.exports = n = a;
			var h = {
					connect: 1,
					connect_error: 1,
					connect_timeout: 1,
					disconnect: 1,
					error: 1,
					reconnect: 1,
					reconnect_attempt: 1,
					reconnect_failed: 1,
					reconnect_error: 1,
					reconnecting: 1
				},
				y = s.prototype.emit;
			s(a.prototype), a.prototype.subEvents = function() {
				if (!this.subs) {
					var b = this.io;
					this.subs = [m(b, 'open', u(this, 'onopen')), m(b, 'packet', u(this, 'onpacket')), m(b, 'close', u(this, 'onclose'))]
				}
			}, a.prototype.open = a.prototype.connect = function() {
				return this.connected ? this : (this.subEvents(), this.io.open(), 'open' == this.io.readyState && this.onopen(), this)
			}, a.prototype.send = function() {
				var b = c(arguments);
				return b.unshift('message'), this.emit.apply(this, b), this
			}, a.prototype.emit = function(b) {
				if (h.hasOwnProperty(b)) return y.apply(this, arguments), this;
				var v = c(arguments),
					k = o.EVENT;
				f(v) && (k = o.BINARY_EVENT);
				var w = {
					type: k,
					data: v
				};
				return 'function' == typeof v[v.length - 1] && (g('emitting packet with ack id %d', this.ids), this.acks[this.ids] = v.pop(), w.id = this.ids++), this.connected ? this.packet(w) : this.sendBuffer.push(w), this
			}, a.prototype.packet = function(b) {
				b.nsp = this.nsp, this.io.packet(b)
			}, a.prototype.onopen = function() {
				g('transport is open - connecting'), '/' != this.nsp && this.packet({
					type: o.CONNECT
				})
			}, a.prototype.onclose = function(b) {
				g('close (%s)', b), this.connected = !1, this.disconnected = !0, delete this.id, this.emit('disconnect', b)
			}, a.prototype.onpacket = function(b) {
				if (b.nsp == this.nsp) switch (b.type) {
					case o.CONNECT:
						this.onconnect();
						break;
					case o.EVENT:
						this.onevent(b);
						break;
					case o.BINARY_EVENT:
						this.onevent(b);
						break;
					case o.ACK:
						this.onack(b);
						break;
					case o.BINARY_ACK:
						this.onack(b);
						break;
					case o.DISCONNECT:
						this.ondisconnect();
						break;
					case o.ERROR:
						this.emit('error', b.data);
				}
			}, a.prototype.onevent = function(b) {
				var v = b.data || [];
				g('emitting event %j', v), null != b.id && (g('attaching ack callback to event'), v.push(this.ack(b.id))), this.connected ? y.apply(this, v) : this.receiveBuffer.push(v)
			}, a.prototype.ack = function(b) {
				var v = this,
					k = !1;
				return function() {
					if (!k) {
						k = !0;
						var w = c(arguments);
						g('sending ack %j', w);
						var T = f(w) ? o.BINARY_ACK : o.ACK;
						v.packet({
							type: T,
							id: b,
							data: w
						})
					}
				}
			}, a.prototype.onack = function(b) {
				g('calling ack %s with %j', b.id, b.data);
				var v = this.acks[b.id];
				v.apply(this, b.data), delete this.acks[b.id]
			}, a.prototype.onconnect = function() {
				this.connected = !0, this.disconnected = !1, this.emit('connect'), this.emitBuffered()
			}, a.prototype.emitBuffered = function() {
				var b;
				for (b = 0; b < this.receiveBuffer.length; b++) y.apply(this, this.receiveBuffer[b]);
				for (this.receiveBuffer = [], b = 0; b < this.sendBuffer.length; b++) this.packet(this.sendBuffer[b]);
				this.sendBuffer = []
			}, a.prototype.ondisconnect = function() {
				g('server disconnect (%s)', this.nsp), this.destroy(), this.onclose('io server disconnect')
			}, a.prototype.destroy = function() {
				if (this.subs) {
					for (var b = 0; b < this.subs.length; b++) this.subs[b].destroy();
					this.subs = null
				}
				this.io.destroy(this)
			}, a.prototype.close = a.prototype.disconnect = function() {
				return this.connected && (g('performing disconnect (%s)', this.nsp), this.packet({
					type: o.DISCONNECT
				})), this.destroy(), this.connected && this.onclose('io client disconnect'), this
			}
		}, {
			'./on': 63,
			'component-bind': 16,
			'component-emitter': 17,
			debug: 19,
			'has-binary': 39,
			'socket.io-parser': 67,
			'to-array': 69
		}],
		65: [function(t, r) {
			(function(n) {
				var a = t('parseuri'),
					o = t('debug')('socket.io-client:url');
				r.exports = function(s, c) {
					var m = s,
						c = c || n.location;
					return null == s && (s = c.protocol + '//' + c.host), 'string' == typeof s && ('/' == s.charAt(0) && ('/' == s.charAt(1) ? s = c.protocol + s : s = c.hostname + s), !/^(https?|wss?):\/\//.test(s) && (o('protocol-less url %s', s), s = 'undefined' == typeof c ? 'https://' + s : c.protocol + '//' + s), o('parse %s', s), m = a(s)), m.port || (/^(http|ws)$/.test(m.protocol) ? m.port = '80' : /^(http|ws)s$/.test(m.protocol) && (m.port = '443')), m.path = m.path || '/', m.id = m.protocol + '://' + m.host + ':' + m.port, m.href = m.protocol + '://' + m.host + (c && c.port == m.port ? '' : ':' + m.port), m
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			debug: 19,
			parseuri: 51
		}],
		66: [function(t, r, n) {
			(function(a) {
				var o = t('isarray'),
					s = t('./is-buffer');
				n.deconstructPacket = function(c) {
					function m(h) {
						if (!h) return h;
						if (s(h)) {
							var y = {
								_placeholder: !0,
								num: u.length
							};
							return u.push(h), y
						}
						if (o(h)) {
							for (var b = Array(h.length), v = 0; v < h.length; v++) b[v] = m(h[v]);
							return b
						}
						if ('object' == typeof h && !(h instanceof Date)) {
							var b = {};
							for (var k in h) b[k] = m(h[k]);
							return b
						}
						return h
					}
					var u = [],
						g = c.data,
						f = c;
					return f.data = m(g), f.attachments = u.length, {
						packet: f,
						buffers: u
					}
				}, n.reconstructPacket = function(c, m) {
					function u(g) {
						if (g && g._placeholder) {
							var f = m[g.num];
							return f
						}
						if (o(g)) {
							for (var h = 0; h < g.length; h++) g[h] = u(g[h]);
							return g
						}
						if (g && 'object' == typeof g) {
							for (var y in g) g[y] = u(g[y]);
							return g
						}
						return g
					}
					return c.data = u(c.data), c.attachments = void 0, c
				}, n.removeBlobs = function(c, m) {
					function u(h, y, b) {
						if (!h) return h;
						if (a.Blob && h instanceof Blob || a.File && h instanceof File) {
							g++;
							var v = new FileReader;
							v.onload = function() {
								b ? b[y] = this.result : f = this.result, --g || m(f)
							}, v.readAsArrayBuffer(h)
						} else if (o(h))
							for (var k = 0; k < h.length; k++) u(h[k], k, h);
						else if (h && 'object' == typeof h && !s(h))
							for (var w in h) u(h[w], w, h)
					}
					var g = 0,
						f = c;
					u(f), g || m(f)
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./is-buffer': 68,
			isarray: 42
		}],
		67: [function(t, r, n) {
			function a() {}

			function o(w) {
				var T = '',
					_ = !1;
				return T += w.type, (n.BINARY_EVENT == w.type || n.BINARY_ACK == w.type) && (T += w.attachments, T += '-'), w.nsp && '/' != w.nsp && (_ = !0, T += w.nsp), null != w.id && (_ && (T += ',', _ = !1), T += w.id), null != w.data && (_ && (T += ','), T += h.stringify(w.data)), f('encoded %j as %s', w, T), T
			}

			function s(w, T) {
				v.removeBlobs(w, function(_) {
					var j = v.deconstructPacket(_),
						O = o(j.packet),
						L = j.buffers;
					L.unshift(O), T(L)
				})
			}

			function c() {
				this.reconstructor = null
			}

			function m(w) {
				var T = {},
					_ = 0;
				if (T.type = +w.charAt(0), null == n.types[T.type]) return g();
				if (n.BINARY_EVENT == T.type || n.BINARY_ACK == T.type) {
					for (var j = '';
						'-' != w.charAt(++_) && (j += w.charAt(_), _ != w.length););
					if (j != +j || '-' != w.charAt(_)) throw new Error('Illegal attachments');
					T.attachments = +j
				}
				if ('/' == w.charAt(_ + 1))
					for (T.nsp = ''; ++_;) {
						var O = w.charAt(_);
						if (',' == O) break;
						if (T.nsp += O, _ == w.length) break
					} else T.nsp = '/';
				var L = w.charAt(_ + 1);
				if ('' !== L && +L == L) {
					for (T.id = ''; ++_;) {
						var O = w.charAt(_);
						if (null == O || +O != O) {
							--_;
							break
						}
						if (T.id += w.charAt(_), _ == w.length) break
					}
					T.id = +T.id
				}
				if (w.charAt(++_)) try {
					T.data = h.parse(w.substr(_))
				} catch (ee) {
					return g()
				}
				return f('decoded %s as %j', w, T), T
			}

			function u(w) {
				this.reconPack = w, this.buffers = []
			}

			function g() {
				return {
					type: n.ERROR,
					data: 'parser error'
				}
			}
			var f = t('debug')('socket.io-parser'),
				h = t('json3'),
				y = t('isarray'),
				b = t('component-emitter'),
				v = t('./binary'),
				k = t('./is-buffer');
			n.protocol = 4, n.types = ['CONNECT', 'DISCONNECT', 'EVENT', 'BINARY_EVENT', 'ACK', 'BINARY_ACK', 'ERROR'], n.CONNECT = 0, n.DISCONNECT = 1, n.EVENT = 2, n.ACK = 3, n.ERROR = 4, n.BINARY_EVENT = 5, n.BINARY_ACK = 6, n.Encoder = a, n.Decoder = c, a.prototype.encode = function(w, T) {
				if (f('encoding packet %j', w), n.BINARY_EVENT == w.type || n.BINARY_ACK == w.type) s(w, T);
				else {
					var _ = o(w);
					T([_])
				}
			}, b(c.prototype), c.prototype.add = function(w) {
				var T;
				if ('string' == typeof w) T = m(w), n.BINARY_EVENT == T.type || n.BINARY_ACK == T.type ? (this.reconstructor = new u(T), 0 === this.reconstructor.reconPack.attachments && this.emit('decoded', T)) : this.emit('decoded', T);
				else if (!(k(w) || w.base64)) throw new Error('Unknown type: ' + w);
				else if (!this.reconstructor) throw new Error('got binary data when not reconstructing a packet');
				else T = this.reconstructor.takeBinaryData(w), T && (this.reconstructor = null, this.emit('decoded', T))
			}, c.prototype.destroy = function() {
				this.reconstructor && this.reconstructor.finishedReconstruction()
			}, u.prototype.takeBinaryData = function(w) {
				if (this.buffers.push(w), this.buffers.length == this.reconPack.attachments) {
					var T = v.reconstructPacket(this.reconPack, this.buffers);
					return this.finishedReconstruction(), T
				}
				return null
			}, u.prototype.finishedReconstruction = function() {
				this.reconPack = null, this.buffers = []
			}
		}, {
			'./binary': 66,
			'./is-buffer': 68,
			'component-emitter': 17,
			debug: 19,
			isarray: 42,
			json3: 43
		}],
		68: [function(t, r) {
			(function(n) {
				r.exports = function(a) {
					return n.Buffer && n.Buffer.isBuffer(a) || n.ArrayBuffer && a instanceof ArrayBuffer
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {}],
		69: [function(t, r) {
			r.exports = function(n, a) {
				var o = [];
				a = a || 0;
				for (var s = a || 0; s < n.length; s++) o[s - a] = n[s];
				return o
			}
		}, {}],
		70: [function(t, r, n) {
			(function(a) {
				(function(o) {
					function s(ee) {
						for (var rt, ct, te = [], re = 0, Ze = ee.length; re < Ze;) rt = ee.charCodeAt(re++), 55296 <= rt && 56319 >= rt && re < Ze ? (ct = ee.charCodeAt(re++), 56320 == (64512 & ct) ? te.push(((1023 & rt) << 10) + (1023 & ct) + 65536) : (te.push(rt), re--)) : te.push(rt);
						return te
					}

					function c(ee) {
						for (var rt, te = ee.length, re = -1, Ze = ''; ++re < te;) rt = ee[re], 65535 < rt && (rt -= 65536, Ze += k(55296 | 1023 & rt >>> 10), rt = 56320 | 1023 & rt), Ze += k(rt);
						return Ze
					}

					function m(ee) {
						if (55296 <= ee && 57343 >= ee) throw Error('Lone surrogate U+' + ee.toString(16).toUpperCase() + ' is not a scalar value')
					}

					function u(ee, te) {
						return k(128 | 63 & ee >> te)
					}

					function g(ee) {
						if (0 == (4294967168 & ee)) return k(ee);
						var te = '';
						return 0 == (4294965248 & ee) ? te = k(192 | 31 & ee >> 6) : 0 == (4294901760 & ee) ? (m(ee), te = k(224 | 15 & ee >> 12), te += u(ee, 6)) : 0 == (4292870144 & ee) && (te = k(240 | 7 & ee >> 18), te += u(ee, 12), te += u(ee, 6)), te += k(128 | 63 & ee), te
					}

					function f() {
						if (_ >= T) throw Error('Invalid byte index');
						var ee = 255 & w[_];
						if (_++, 128 == (192 & ee)) return 63 & ee;
						throw Error('Invalid continuation byte')
					}

					function h() {
						var ee, te, re, Ze, rt;
						if (_ > T) throw Error('Invalid byte index');
						if (_ == T) return !1;
						if (ee = 255 & w[_], _++, 0 == (128 & ee)) return ee;
						if (192 == (224 & ee)) {
							var te = f();
							if (rt = (31 & ee) << 6 | te, 128 <= rt) return rt;
							throw Error('Invalid continuation byte')
						}
						if (224 == (240 & ee)) {
							if (te = f(), re = f(), rt = (15 & ee) << 12 | te << 6 | re, 2048 <= rt) return m(rt), rt;
							throw Error('Invalid continuation byte')
						}
						if (240 == (248 & ee) && (te = f(), re = f(), Ze = f(), rt = (15 & ee) << 18 | te << 12 | re << 6 | Ze, 65536 <= rt && 1114111 >= rt)) return rt;
						throw Error('Invalid UTF-8 detected')
					}
					var y = 'object' == typeof n && n,
						b = 'object' == typeof r && r && r.exports == y && r,
						v = 'object' == typeof a && a;
					(v.global === v || v.window === v) && (o = v);
					var w, T, _, k = String.fromCharCode,
						j = {
							version: '2.0.0',
							encode: function(ee) {
								for (var ct, te = s(ee), re = te.length, Ze = -1, rt = ''; ++Ze < re;) ct = te[Ze], rt += g(ct);
								return rt
							},
							decode: function(ee) {
								w = s(ee), T = w.length, _ = 0;
								for (var re, te = []; !1 !== (re = h());) te.push(re);
								return c(te)
							}
						};
					if ('function' == typeof e && 'object' == typeof e.amd && e.amd) e(function() {
						return j
					});
					else if (!y || y.nodeType) o.utf8 = j;
					else if (b) b.exports = j;
					else {
						var O = {}.hasOwnProperty;
						for (var L in j) O.call(j, L) && (y[L] = j[L])
					}
				})(this)
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {}],
		71: [function(t, r) {
			r.exports = 'function' == typeof Object.create ? function(n, a) {
				n.super_ = a, n.prototype = Object.create(a.prototype, {
					constructor: {
						value: n,
						enumerable: !1,
						writable: !0,
						configurable: !0
					}
				})
			} : function(n, a) {
				n.super_ = a;
				var o = function() {};
				o.prototype = a.prototype, n.prototype = new o, n.prototype.constructor = n
			}
		}, {}],
		72: [function(t, r) {
			r.exports = function(n) {
				return n && 'object' == typeof n && 'function' == typeof n.copy && 'function' == typeof n.fill && 'function' == typeof n.readUInt8
			}
		}, {}],
		73: [function(t, r, n) {
			(function(a, o) {
				function s(Ct, er) {
					var ar = {
						seen: [],
						stylize: m
					};
					return 3 <= arguments.length && (ar.depth = arguments[2]), 4 <= arguments.length && (ar.colors = arguments[3]), w(er) ? ar.showHidden = er : er && n._extend(ar, er), O(ar.showHidden) && (ar.showHidden = !1), O(ar.depth) && (ar.depth = 2), O(ar.colors) && (ar.colors = !1), O(ar.customInspect) && (ar.customInspect = !0), ar.colors && (ar.stylize = c), g(ar, Ct, ar.depth)
				}

				function c(Ct, er) {
					var ar = s.styles[er];
					return ar ? '\x1B[' + s.colors[ar][0] + 'm' + Ct + '\x1B[' + s.colors[ar][1] + 'm' : Ct
				}

				function m(Ct) {
					return Ct
				}

				function u(Ct) {
					var er = {};
					return Ct.forEach(function(ar) {
						er[ar] = !0
					}), er
				}

				function g(Ct, er, ar) {
					if (Ct.customInspect && er && Ze(er.inspect) && er.inspect !== n.inspect && !(er.constructor && er.constructor.prototype === er)) {
						var fr = er.inspect(ar, Ct);
						return j(fr) || (fr = g(Ct, fr, ar)), fr
					}
					var rn = f(Ct, er);
					if (rn) return rn;
					var nn = Object.keys(er),
						an = u(nn);
					if (Ct.showHidden && (nn = Object.getOwnPropertyNames(er)), re(er) && (0 <= nn.indexOf('message') || 0 <= nn.indexOf('description'))) return h(er);
					if (0 === nn.length) {
						if (Ze(er)) {
							var on = er.name ? ': ' + er.name : '';
							return Ct.stylize('[Function' + on + ']', 'special')
						}
						if (L(er)) return Ct.stylize(RegExp.prototype.toString.call(er), 'regexp');
						if (te(er)) return Ct.stylize(Date.prototype.toString.call(er), 'date');
						if (re(er)) return h(er)
					}
					var sn = '',
						cn = !1,
						dn = ['{', '}'];
					if (k(er) && (cn = !0, dn = ['[', ']']), Ze(er)) {
						var pn = er.name ? ': ' + er.name : '';
						sn = ' [Function' + pn + ']'
					}
					if (L(er) && (sn = ' ' + RegExp.prototype.toString.call(er)), te(er) && (sn = ' ' + Date.prototype.toUTCString.call(er)), re(er) && (sn = ' ' + h(er)), 0 === nn.length && (!cn || 0 == er.length)) return dn[0] + sn + dn[1];
					if (0 > ar) return L(er) ? Ct.stylize(RegExp.prototype.toString.call(er), 'regexp') : Ct.stylize('[Object]', 'special');
					Ct.seen.push(er);
					var ln;
					return ln = cn ? y(Ct, er, ar, an, nn) : nn.map(function(mn) {
						return b(Ct, er, ar, an, mn, cn)
					}), Ct.seen.pop(), v(ln, sn, dn)
				}

				function f(Ct, er) {
					if (O(er)) return Ct.stylize('undefined', 'undefined');
					if (j(er)) {
						var ar = '\'' + JSON.stringify(er).replace(/^"|"$/g, '').replace(/'/g, '\\\'').replace(/\\"/g, '"') + '\'';
						return Ct.stylize(ar, 'string')
					}
					return _(er) ? Ct.stylize('' + er, 'number') : w(er) ? Ct.stylize('' + er, 'boolean') : T(er) ? Ct.stylize('null', 'null') : void 0
				}

				function h(Ct) {
					return '[' + Error.prototype.toString.call(Ct) + ']'
				}

				function y(Ct, er, ar, fr, rn) {
					for (var nn = [], an = 0, on = er.length; an < on; ++an) lt(er, an + '') ? nn.push(b(Ct, er, ar, fr, an + '', !0)) : nn.push('');
					return rn.forEach(function(sn) {
						sn.match(/^\d+$/) || nn.push(b(Ct, er, ar, fr, sn, !0))
					}), nn
				}

				function b(Ct, er, ar, fr, rn, nn) {
					var an, on, sn;
					if (sn = Object.getOwnPropertyDescriptor(er, rn) || {
							value: er[rn]
						}, sn.get ? sn.set ? on = Ct.stylize('[Getter/Setter]', 'special') : on = Ct.stylize('[Getter]', 'special') : sn.set && (on = Ct.stylize('[Setter]', 'special')), lt(fr, rn) || (an = '[' + rn + ']'), on || (0 > Ct.seen.indexOf(sn.value) ? (on = T(ar) ? g(Ct, sn.value, null) : g(Ct, sn.value, ar - 1), -1 < on.indexOf('\n') && (nn ? on = on.split('\n').map(function(cn) {
							return '  ' + cn
						}).join('\n').substr(2) : on = '\n' + on.split('\n').map(function(cn) {
							return '   ' + cn
						}).join('\n'))) : on = Ct.stylize('[Circular]', 'special')), O(an)) {
						if (nn && rn.match(/^\d+$/)) return on;
						an = JSON.stringify('' + rn), an.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (an = an.substr(1, an.length - 2), an = Ct.stylize(an, 'name')) : (an = an.replace(/'/g, '\\\'').replace(/\\"/g, '"').replace(/(^"|"$)/g, '\''), an = Ct.stylize(an, 'string'))
					}
					return an + ': ' + on
				}

				function v(Ct, er, ar) {
					var fr = 0,
						rn = Ct.reduce(function(nn, an) {
							return fr++, 0 <= an.indexOf('\n') && fr++, nn + an.replace(/\u001b\[\d\d?m/g, '').length + 1
						}, 0);
					return 60 < rn ? ar[0] + ('' === er ? '' : er + '\n ') + ' ' + Ct.join(',\n  ') + ' ' + ar[1] : ar[0] + er + ' ' + Ct.join(', ') + ' ' + ar[1]
				}

				function k(Ct) {
					return Array.isArray(Ct)
				}

				function w(Ct) {
					return 'boolean' == typeof Ct
				}

				function T(Ct) {
					return null === Ct
				}

				function _(Ct) {
					return 'number' == typeof Ct
				}

				function j(Ct) {
					return 'string' == typeof Ct
				}

				function O(Ct) {
					return void 0 === Ct
				}

				function L(Ct) {
					return ee(Ct) && '[object RegExp]' === rt(Ct)
				}

				function ee(Ct) {
					return 'object' == typeof Ct && null !== Ct
				}

				function te(Ct) {
					return ee(Ct) && '[object Date]' === rt(Ct)
				}

				function re(Ct) {
					return ee(Ct) && ('[object Error]' === rt(Ct) || Ct instanceof Error)
				}

				function Ze(Ct) {
					return 'function' == typeof Ct
				}

				function rt(Ct) {
					return Object.prototype.toString.call(Ct)
				}

				function ct(Ct) {
					return 10 > Ct ? '0' + Ct.toString(10) : Ct.toString(10)
				}

				function pt() {
					var Ct = new Date,
						er = [ct(Ct.getHours()), ct(Ct.getMinutes()), ct(Ct.getSeconds())].join(':');
					return [Ct.getDate(), bt[Ct.getMonth()], er].join(' ')
				}

				function lt(Ct, er) {
					return Object.prototype.hasOwnProperty.call(Ct, er)
				}
				var ut = /%[sdj%]/g;
				n.format = function(Ct) {
					if (!j(Ct)) {
						for (var er = [], ar = 0; ar < arguments.length; ar++) er.push(s(arguments[ar]));
						return er.join(' ')
					}
					for (var ar = 1, fr = arguments, rn = fr.length, nn = (Ct + '').replace(ut, function(on) {
							if ('%%' === on) return '%';
							if (ar >= rn) return on;
							switch (on) {
								case '%s':
									return fr[ar++] + '';
								case '%d':
									return +fr[ar++];
								case '%j':
									try {
										return JSON.stringify(fr[ar++])
									} catch (sn) {
										return '[Circular]'
									}
								default:
									return on;
							}
						}), an = fr[ar]; ar < rn; an = fr[++ar]) nn += T(an) || !ee(an) ? ' ' + an : ' ' + s(an);
					return nn
				}, n.deprecate = function(Ct, er) {
					if (O(o.process)) return function() {
						return n.deprecate(Ct, er).apply(this, arguments)
					};
					if (!0 === a.noDeprecation) return Ct;
					var ar = !1;
					return function() {
						if (!ar) {
							if (a.throwDeprecation) throw new Error(er);
							else a.traceDeprecation ? console.trace(er) : console.error(er);
							ar = !0
						}
						return Ct.apply(this, arguments)
					}
				};
				var yt, ht = {};
				n.debuglog = function(Ct) {
					if (O(yt) && (yt = a.env.NODE_DEBUG || ''), Ct = Ct.toUpperCase(), !ht[Ct])
						if (new RegExp('\\b' + Ct + '\\b', 'i').test(yt)) {
							var er = a.pid;
							ht[Ct] = function() {
								var ar = n.format.apply(n, arguments);
								console.error('%s %d: %s', Ct, er, ar)
							}
						} else ht[Ct] = function() {};
					return ht[Ct]
				}, n.inspect = s, s.colors = {
					bold: [1, 22],
					italic: [3, 23],
					underline: [4, 24],
					inverse: [7, 27],
					white: [37, 39],
					grey: [90, 39],
					black: [30, 39],
					blue: [34, 39],
					cyan: [36, 39],
					green: [32, 39],
					magenta: [35, 39],
					red: [31, 39],
					yellow: [33, 39]
				}, s.styles = {
					special: 'cyan',
					number: 'yellow',
					boolean: 'yellow',
					undefined: 'grey',
					'null': 'bold',
					string: 'green',
					date: 'magenta',
					regexp: 'red'
				}, n.isArray = k, n.isBoolean = w, n.isNull = T, n.isNullOrUndefined = function(Ct) {
					return null == Ct
				}, n.isNumber = _, n.isString = j, n.isSymbol = function(Ct) {
					return 'symbol' == typeof Ct
				}, n.isUndefined = O, n.isRegExp = L, n.isObject = ee, n.isDate = te, n.isError = re, n.isFunction = Ze, n.isPrimitive = function(Ct) {
					return null === Ct || 'boolean' == typeof Ct || 'number' == typeof Ct || 'string' == typeof Ct || 'symbol' == typeof Ct || 'undefined' == typeof Ct
				}, n.isBuffer = t('./support/isBuffer');
				var bt = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
				n.log = function() {
					console.log('%s - %s', pt(), n.format.apply(n, arguments))
				}, n.inherits = t('inherits'), n._extend = function(Ct, er) {
					if (!er || !ee(er)) return Ct;
					for (var ar = Object.keys(er), fr = ar.length; fr--;) Ct[ar[fr]] = er[ar[fr]];
					return Ct
				}
			}).call(this, t('_process'), 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./support/isBuffer': 72,
			_process: 52,
			inherits: 71
		}],
		74: [function(t, r) {
			var n, a;
			window.mozRTCPeerConnection || navigator.mozGetUserMedia ? (n = 'moz', a = parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1], 10)) : (window.webkitRTCPeerConnection || navigator.webkitGetUserMedia) && (n = 'webkit', a = navigator.userAgent.match(/Chrom(e|ium)/) && parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2], 10));
			var o = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection,
				s = window.mozRTCIceCandidate || window.RTCIceCandidate,
				c = window.mozRTCSessionDescription || window.RTCSessionDescription,
				m = window.webkitMediaStream || window.MediaStream,
				u = 'https:' === window.location.protocol && ('webkit' === n && 26 <= a || 'moz' === n && 33 <= a),
				g = window.AudioContext || window.webkitAudioContext,
				f = document.createElement('video'),
				h = f && f.canPlayType && 'probably' === f.canPlayType('video/webm; codecs="vp8", vorbis'),
				y = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.msGetUserMedia || navigator.mozGetUserMedia;
			r.exports = {
				prefix: n,
				browserVersion: a,
				support: !!o && !!y,
				supportRTCPeerConnection: !!o,
				supportVp8: h,
				supportGetUserMedia: !!y,
				supportDataChannel: !!(o && o.prototype && o.prototype.createDataChannel),
				supportWebAudio: !!(g && g.prototype.createMediaStreamSource),
				supportMediaStream: !!(m && m.prototype.removeTrack),
				supportScreenSharing: !!u,
				AudioContext: g,
				PeerConnection: o,
				SessionDescription: c,
				IceCandidate: s,
				MediaStream: m,
				getUserMedia: y
			}
		}, {}],
		75: [function(t, r) {
			function n() {}
			r.exports = n, n.mixin = function(a) {
				var o = a.prototype || a;
				o.isWildEmitter = !0, o.on = function(s) {
					this.callbacks = this.callbacks || {};
					var c = 3 === arguments.length,
						m = c ? arguments[1] : void 0,
						u = c ? arguments[2] : arguments[1];
					return u._groupName = m, (this.callbacks[s] = this.callbacks[s] || []).push(u), this
				}, o.once = function(s) {
					function c() {
						m.off(s, c), f.apply(this, arguments)
					}
					var m = this,
						u = 3 === arguments.length,
						g = u ? arguments[1] : void 0,
						f = u ? arguments[2] : arguments[1];
					return this.on(s, g, c), this
				}, o.releaseGroup = function(s) {
					this.callbacks = this.callbacks || {};
					var c, m, u, g;
					for (c in this.callbacks)
						for (g = this.callbacks[c], m = 0, u = g.length; m < u; m++) g[m]._groupName === s && (g.splice(m, 1), m--, u--);
					return this
				}, o.off = function(s, c) {
					this.callbacks = this.callbacks || {};
					var u, m = this.callbacks[s];
					return m ? 1 === arguments.length ? (delete this.callbacks[s], this) : (u = m.indexOf(c), m.splice(u, 1), 0 === m.length && delete this.callbacks[s], this) : this
				}, o.emit = function(s) {
					this.callbacks = this.callbacks || {};
					var g, f, h, c = [].slice.call(arguments, 1),
						m = this.callbacks[s],
						u = this.getWildcardCallbacks(s);
					if (m)
						for (h = m.slice(), g = 0, f = h.length; g < f && !!h[g]; ++g) h[g].apply(this, c);
					if (u)
						for (f = u.length, h = u.slice(), g = 0, f = h.length; g < f && !!h[g]; ++g) h[g].apply(this, [s].concat(c));
					return this
				}, o.getWildcardCallbacks = function(s) {
					this.callbacks = this.callbacks || {};
					var m, u, c = [];
					for (m in this.callbacks) u = m.split('*'), ('*' === m || 2 === u.length && s.slice(0, u[0].length) === u[0]) && (c = c.concat(this.callbacks[m]));
					return c
				}
			}, n.mixin(n)
		}, {}],
		76: [function(t, r) {
			function n(s, c) {
				var m;
				return m = c ? new o(s, c) : new o(s), m
			}
			var a = function() {
					return this
				}(),
				o = a.WebSocket || a.MozWebSocket;
			r.exports = o ? n : null, o && (n.prototype = o.prototype)
		}, {}],
		77: [function(t, r) {
			function n(f) {
				var h = !0;
				return f.getTracks().forEach(function(y) {
					h = 'ended' === y.readyState && h
				}), h
			}

			function a(f) {
				var h = this;
				m.call(this), this.id = f.id, this.parent = f.parent, this.type = f.type || 'video', this.oneway = f.oneway || !1, this.sharemyscreen = f.sharemyscreen || !1, this.browserPrefix = f.prefix, this.stream = f.stream, this.enableDataChannels = void 0 === f.enableDataChannels ? this.parent.config.enableDataChannels : f.enableDataChannels, this.receiveMedia = f.receiveMedia || this.parent.config.receiveMedia, this.channels = {}, this.sid = f.sid || Date.now().toString(), this.pc = new c(this.parent.config.peerConnectionConfig, this.parent.config.peerConnectionConstraints), this.pc.on('ice', this.onIceCandidate.bind(this)), this.pc.on('endOfCandidates', function(y) {
					h.send('endOfCandidates', y)
				}), this.pc.on('offer', function(y) {
					h.parent.config.nick && (y.nick = h.parent.config.nick), h.send('offer', y)
				}), this.pc.on('answer', function(y) {
					h.parent.config.nick && (y.nick = h.parent.config.nick), h.send('answer', y)
				}), this.pc.on('addStream', this.handleRemoteStreamAdded.bind(this)), this.pc.on('addChannel', this.handleDataChannelAdded.bind(this)), this.pc.on('removeStream', this.handleStreamRemoved.bind(this)), this.pc.on('negotiationNeeded', this.emit.bind(this, 'negotiationNeeded')), this.pc.on('iceConnectionStateChange', this.emit.bind(this, 'iceConnectionStateChange')), this.pc.on('iceConnectionStateChange', function() {
					switch (h.pc.iceConnectionState) {
						case 'failed':
							'offer' === h.pc.pc.localDescription.type && (h.parent.emit('iceFailed', h), h.send('connectivityError'));
					}
				}), this.pc.on('signalingStateChange', this.emit.bind(this, 'signalingStateChange')), this.logger = this.parent.logger, 'screen' === f.type ? this.parent.localScreens && this.parent.localScreens[0] && this.sharemyscreen && (this.logger.log('adding local screen stream to peer connection'), this.pc.addStream(this.parent.localScreens[0]), this.broadcaster = f.broadcaster) : this.parent.localStreams.forEach(function(y) {
					h.pc.addStream(y)
				}), this.on('channelOpen', function(y) {
					y.protocol === g && (y.onmessage = function(b) {
						var v = JSON.parse(b.data),
							k = new u.Receiver;
						k.receive(v, y), h.emit('fileTransfer', v, k), k.on('receivedFile', function() {
							k.channel.close()
						})
					})
				}), this.on('*', function() {
					h.parent.emit.apply(h.parent, arguments)
				})
			}
			var o = t('util'),
				s = t('webrtcsupport'),
				c = t('rtcpeerconnection'),
				m = t('wildemitter'),
				u = t('filetransfer'),
				g = 'https://simplewebrtc.com/protocol/filetransfer#inband-v1';
			o.inherits(a, m), a.prototype.handleMessage = function(f) {
				var h = this;
				if (this.logger.log('getting', f.type, f), f.prefix && (this.browserPrefix = f.prefix), 'offer' === f.type) this.nick || (this.nick = f.payload.nick), delete f.payload.nick, this.pc.handleOffer(f.payload, function(b) {
					b || h.pc.answer(function() {})
				});
				else if ('answer' === f.type) this.nick || (this.nick = f.payload.nick), delete f.payload.nick, this.pc.handleAnswer(f.payload);
				else if ('candidate' === f.type) this.pc.processIce(f.payload);
				else if ('connectivityError' === f.type) this.parent.emit('connectivityError', h);
				else if ('mute' === f.type) this.parent.emit('mute', {
					id: f.from,
					name: f.payload.name
				});
				else if ('unmute' === f.type) this.parent.emit('unmute', {
					id: f.from,
					name: f.payload.name
				});
				else if ('endOfCandidates' === f.type) {
					var y = this.pc.pc.transceivers || [];
					y.forEach(function(b) {
						b.iceTransport && b.iceTransport.addRemoteCandidate({})
					})
				}
			}, a.prototype.send = function(f, h) {
				var y = {
					to: this.id,
					sid: this.sid,
					broadcaster: this.broadcaster,
					roomType: this.type,
					type: f,
					payload: h,
					prefix: s.prefix
				};
				this.logger.log('sending', f, y), this.parent.emit('message', y)
			}, a.prototype.sendDirectly = function(f, h, y) {
				var b = {
					type: h,
					payload: y
				};
				this.logger.log('sending via datachannel', f, h, b);
				var v = this.getDataChannel(f);
				return 'open' == v.readyState && (v.send(JSON.stringify(b)), !0)
			}, a.prototype._observeDataChannel = function(f) {
				var h = this;
				f.onclose = this.emit.bind(this, 'channelClose', f), f.onerror = this.emit.bind(this, 'channelError', f), f.onmessage = function(y) {
					h.emit('channelMessage', h, f.label, JSON.parse(y.data), f, y)
				}, f.onopen = this.emit.bind(this, 'channelOpen', f)
			}, a.prototype.getDataChannel = function(f, h) {
				if (!s.supportDataChannel) return this.emit('error', new Error('createDataChannel not supported'));
				var y = this.channels[f];
				return (h || (h = {}), y) ? y : (y = this.channels[f] = this.pc.createDataChannel(f, h), this._observeDataChannel(y), y)
			}, a.prototype.onIceCandidate = function(f) {
				if (!this.closed)
					if (f) {
						var h = this.parent.config.peerConnectionConfig;
						'moz' === s.prefix && h && h.iceTransports && f.candidate && f.candidate.candidate && 0 > f.candidate.candidate.indexOf(h.iceTransports) ? this.logger.log('Ignoring ice candidate not matching pcConfig iceTransports type: ', h.iceTransports) : this.send('candidate', f)
					} else this.logger.log('End of candidates.')
			}, a.prototype.start = function() {
				this,
				this.enableDataChannels && this.getDataChannel('simplewebrtc'),
				this.pc.offer(this.receiveMedia, function() {})
			}, a.prototype.icerestart = function() {
				var f = this.receiveMedia;
				f.mandatory.IceRestart = !0, this.pc.offer(f, function() {})
			}, a.prototype.end = function() {
				this.closed || (this.pc.close(), this.handleStreamRemoved())
			}, a.prototype.handleRemoteStreamAdded = function(f) {
				var h = this;
				this.stream ? this.logger.warn('Already have a remote stream') : (this.stream = f.stream, this.stream.getTracks().forEach(function(y) {
					y.addEventListener('ended', function() {
						n(h.stream) && h.end()
					})
				}), this.parent.emit('peerStreamAdded', this))
			}, a.prototype.handleStreamRemoved = function() {
				var f = this.parent.peers.indexOf(this); - 1 < f && (this.parent.peers.splice(f, 1), this.closed = !0, this.parent.emit('peerStreamRemoved', this))
			}, a.prototype.handleDataChannelAdded = function(f) {
				this.channels[f.label] = f, this._observeDataChannel(f)
			}, a.prototype.sendFile = function(f) {
				var h = new u.Sender,
					y = this.getDataChannel('filetransfer' + new Date().getTime(), {
						protocol: g
					});
				return y.onopen = function() {
					y.send(JSON.stringify({
						size: f.size,
						name: f.name
					})), h.send(f, y)
				}, y.onclose = function() {
					console.log('sender received transfer'), h.emit('complete')
				}, h
			}, r.exports = a
		}, {
			filetransfer: 35,
			rtcpeerconnection: 53,
			util: 73,
			webrtcsupport: 74,
			wildemitter: 75
		}],
		78: [function(t, r) {
			function n(g) {
				var b, v, f = this,
					h = g || {},
					y = this.config = {
						url: 'https://sandbox.simplewebrtc.com:443/',
						socketio: {},
						connection: null,
						debug: !1,
						localVideoEl: '',
						remoteVideosEl: '',
						enableDataChannels: !0,
						autoRequestMedia: !1,
						autoRemoveVideos: !0,
						adjustPeerVolume: !1,
						peerVolumeWhenSpeaking: 0.25,
						media: {
							video: !0,
							audio: !0
						},
						receiveMedia: {
							offerToReceiveAudio: 1,
							offerToReceiveVideo: 1
						},
						localVideo: {
							autoplay: !0,
							mirror: !0,
							muted: !0
						}
					};
				for (b in this.logger = function() {
						return g.debug ? g.logger || console : g.logger || m
					}(), h) h.hasOwnProperty(b) && (this.config[b] = h[b]);
				this.capabilities = s, o.call(this), v = null === this.config.connection ? this.connection = new u(this.config) : this.connection = this.config.connection, v.on('connect', function() {
					f.emit('connectionReady', v.getSessionid()), f.sessionReady = !0, f.testReadiness()
				}), v.on('message', function(k) {
					var T, w = f.webrtc.getPeers(k.from, k.roomType);
					'offer' === k.type ? (w.length && w.forEach(function(_) {
						_.sid == k.sid && (T = _)
					}), !T && (T = f.webrtc.createPeer({
						id: k.from,
						sid: k.sid,
						type: k.roomType,
						enableDataChannels: f.config.enableDataChannels && 'screen' !== k.roomType,
						sharemyscreen: 'screen' === k.roomType && !k.broadcaster,
						broadcaster: 'screen' !== k.roomType || k.broadcaster ? null : f.connection.getSessionid()
					}), f.emit('createdPeer', T)), T.handleMessage(k)) : w.length && w.forEach(function(_) {
						k.sid ? _.sid === k.sid && _.handleMessage(k) : _.handleMessage(k)
					})
				}), v.on('remove', function(k) {
					k.id !== f.connection.getSessionid() && f.webrtc.removePeers(k.id, k.type)
				}), g.logger = this.logger, g.debug = !1, this.webrtc = new a(g), ['mute', 'unmute', 'pauseVideo', 'resumeVideo', 'pause', 'resume', 'sendToAll', 'sendDirectlyToAll', 'getPeers'].forEach(function(k) {
					f[k] = f.webrtc[k].bind(f.webrtc)
				}), this.webrtc.on('*', function() {
					f.emit.apply(f, arguments)
				}), y.debug && this.on('*', this.logger.log.bind(this.logger, 'SimpleWebRTC event:')), this.webrtc.on('localStream', function() {
					f.testReadiness()
				}), this.webrtc.on('message', function(k) {
					f.connection.emit('message', k)
				}), this.webrtc.on('peerStreamAdded', this.handlePeerStreamAdded.bind(this)), this.webrtc.on('peerStreamRemoved', this.handlePeerStreamRemoved.bind(this)), this.config.adjustPeerVolume && (this.webrtc.on('speaking', this.setVolumeForAll.bind(this, this.config.peerVolumeWhenSpeaking)), this.webrtc.on('stoppedSpeaking', this.setVolumeForAll.bind(this, 1))), v.on('stunservers', function(k) {
					f.webrtc.config.peerConnectionConfig.iceServers = k, f.emit('stunservers', k)
				}), v.on('turnservers', function(k) {
					f.webrtc.config.peerConnectionConfig.iceServers = f.webrtc.config.peerConnectionConfig.iceServers.concat(k), f.emit('turnservers', k)
				}), this.webrtc.on('iceFailed', function() {}), this.webrtc.on('connectivityError', function() {}), this.webrtc.on('audioOn', function() {
					f.webrtc.sendToAll('unmute', {
						name: 'audio'
					})
				}), this.webrtc.on('audioOff', function() {
					f.webrtc.sendToAll('mute', {
						name: 'audio'
					})
				}), this.webrtc.on('videoOn', function() {
					f.webrtc.sendToAll('unmute', {
						name: 'video'
					})
				}), this.webrtc.on('videoOff', function() {
					f.webrtc.sendToAll('mute', {
						name: 'video'
					})
				}), this.webrtc.on('localScreen', function(k) {
					var w = document.createElement('video'),
						T = f.getRemoteVideoContainer();
					w.oncontextmenu = function() {
						return !1
					}, w.id = 'localScreen', c(k, w), T && T.appendChild(w), f.emit('localScreenAdded', w), f.connection.emit('shareScreen'), f.webrtc.peers.forEach(function(_) {
						var j;
						'video' === _.type && (j = f.webrtc.createPeer({
							id: _.id,
							type: 'screen',
							sharemyscreen: !0,
							enableDataChannels: !1,
							receiveMedia: {
								offerToReceiveAudio: 0,
								offerToReceiveVideo: 0
							},
							broadcaster: f.connection.getSessionid()
						}), f.emit('createdPeer', j), j.start())
					})
				}), this.webrtc.on('localScreenStopped', function() {
					f.getLocalScreen() && f.stopScreenShare()
				}), this.webrtc.on('channelMessage', function(k, w, T) {
					'volume' == T.type && f.emit('remoteVolumeChange', k, T.volume)
				}), this.config.autoRequestMedia && this.startLocalVideo()
			}
			var a = t('./webrtc'),
				o = t('wildemitter'),
				s = t('webrtcsupport'),
				c = t('attachmediastream'),
				m = t('mockconsole'),
				u = t('./socketioconnection');
			n.prototype = Object.create(o.prototype, {
				constructor: {
					value: n
				}
			}), n.prototype.leaveRoom = function() {
				if (this.roomName) {
					for (this.connection.emit('leave'); this.webrtc.peers.length;) this.webrtc.peers[0].end();
					this.getLocalScreen() && this.stopScreenShare(), this.emit('leftRoom', this.roomName), this.roomName = void 0
				}
			}, n.prototype.disconnect = function() {
				this.connection.disconnect(), delete this.connection
			}, n.prototype.handlePeerStreamAdded = function(g) {
				var f = this,
					h = this.getRemoteVideoContainer(),
					y = c(g.stream);
				g.videoEl = y, y.id = this.getDomId(g), h && h.appendChild(y), this.emit('videoAdded', y, g), window.setTimeout(function() {
					f.webrtc.isAudioEnabled() || g.send('mute', {
						name: 'audio'
					}), f.webrtc.isVideoEnabled() || g.send('mute', {
						name: 'video'
					})
				}, 250)
			}, n.prototype.handlePeerStreamRemoved = function(g) {
				var f = this.getRemoteVideoContainer(),
					h = g.videoEl;
				this.config.autoRemoveVideos && f && h && f.removeChild(h), h && this.emit('videoRemoved', h, g)
			}, n.prototype.getDomId = function(g) {
				return [g.id, g.type, g.broadcaster ? 'broadcasting' : 'incoming'].join('_')
			}, n.prototype.setVolumeForAll = function(g) {
				this.webrtc.peers.forEach(function(f) {
					f.videoEl && (f.videoEl.volume = g)
				})
			}, n.prototype.joinRoom = function(g, f) {
				var h = this;
				this.roomName = g, this.connection.emit('join', g, function(y, b) {
					if (console.log('join CB', y, b), y) h.emit('error', y);
					else {
						var v, k, w, T;
						for (v in b.clients)
							for (w in k = b.clients[v], k) k[w] && (T = h.webrtc.createPeer({
								id: v,
								type: w,
								enableDataChannels: h.config.enableDataChannels && 'screen' !== w,
								receiveMedia: {
									offerToReceiveAudio: 'screen' !== w && h.config.receiveMedia.offerToReceiveAudio ? 1 : 0,
									offerToReceiveVideo: h.config.receiveMedia.offerToReceiveVideo
								}
							}), h.emit('createdPeer', T), T.start())
					}
					f && f(y, b), h.emit('joinedRoom', g)
				})
			}, n.prototype.getEl = function(g) {
				return 'string' == typeof g ? document.getElementById(g) : g
			}, n.prototype.startLocalVideo = function() {
				var g = this;
				this.webrtc.start(this.config.media, function(f, h) {
					f ? g.emit('localMediaError', f) : c(h, g.getLocalVideoContainer(), g.config.localVideo)
				})
			}, n.prototype.stopLocalVideo = function() {
				this.webrtc.stop()
			}, n.prototype.getLocalVideoContainer = function() {
				var g = this.getEl(this.config.localVideoEl);
				if (g && 'VIDEO' === g.tagName) return g.oncontextmenu = function() {
					return !1
				}, g;
				if (g) {
					var f = document.createElement('video');
					return f.oncontextmenu = function() {
						return !1
					}, g.appendChild(f), f
				}
			}, n.prototype.getRemoteVideoContainer = function() {
				return this.getEl(this.config.remoteVideosEl)
			}, n.prototype.shareScreen = function(g) {
				this.webrtc.startScreenShare(g)
			}, n.prototype.getLocalScreen = function() {
				return this.webrtc.localScreens && this.webrtc.localScreens[0]
			}, n.prototype.stopScreenShare = function() {
				this.connection.emit('unshareScreen');
				var g = document.getElementById('localScreen'),
					f = this.getRemoteVideoContainer();
				this.config.autoRemoveVideos && f && g && f.removeChild(g), g && this.emit('videoRemoved', g), this.getLocalScreen() && this.webrtc.stopScreenShare(), this.webrtc.peers.forEach(function(h) {
					h.broadcaster && h.end()
				})
			}, n.prototype.testReadiness = function() {
				var g = this;
				this.sessionReady && (this.config.media.video || this.config.media.audio ? 0 < this.webrtc.localStreams.length && g.emit('readyToCall', g.connection.getSessionid()) : g.emit('readyToCall', g.connection.getSessionid()))
			}, n.prototype.createRoom = function(g, f) {
				this.roomName = g, 2 === arguments.length ? this.connection.emit('create', g, f) : this.connection.emit('create', g)
			}, n.prototype.sendFile = function() {
				if (!s.dataChannel) return this.emit('error', new Error('DataChannelNotSupported'))
			}, r.exports = n
		}, {
			'./socketioconnection': 79,
			'./webrtc': 80,
			attachmediastream: 3,
			mockconsole: 46,
			webrtcsupport: 74,
			wildemitter: 75
		}],
		79: [function(t, r) {
			function n(o) {
				this.connection = a.connect(o.url, o.socketio)
			}
			var a = t('socket.io-client');
			n.prototype.on = function(o, s) {
				this.connection.on(o, s)
			}, n.prototype.emit = function() {
				this.connection.emit.apply(this.connection, arguments)
			}, n.prototype.getSessionid = function() {
				return this.connection.id
			}, n.prototype.disconnect = function() {
				return this.connection.disconnect()
			}, r.exports = n
		}, {
			'socket.io-client': 60
		}],
		80: [function(t, r) {
			function n(u) {
				var y, g = this,
					f = u || {},
					h = this.config = {
						debug: !1,
						peerConnectionConfig: {
							iceServers: [{
								urls: 'stun:stun.l.google.com:19302'
							}]
						},
						peerConnectionConstraints: {
							optional: []
						},
						receiveMedia: {
							offerToReceiveAudio: 1,
							offerToReceiveVideo: 1
						},
						enableDataChannels: !0
					};
				for (y in this.logger = function() {
						return u.debug ? u.logger || console : u.logger || s
					}(), f) f.hasOwnProperty(y) && (this.config[y] = f[y]);
				o.support || this.logger.error('Your browser doesn\'t seem to support WebRTC'), this.peers = [], c.call(this, this.config), this.on('speaking', function() {
					g.hardMuted || g.peers.forEach(function(b) {
						if (b.enableDataChannels) {
							var v = b.getDataChannel('hark');
							if ('open' != v.readyState) return;
							v.send(JSON.stringify({
								type: 'speaking'
							}))
						}
					})
				}), this.on('stoppedSpeaking', function() {
					g.hardMuted || g.peers.forEach(function(b) {
						if (b.enableDataChannels) {
							var v = b.getDataChannel('hark');
							if ('open' != v.readyState) return;
							v.send(JSON.stringify({
								type: 'stoppedSpeaking'
							}))
						}
					})
				}), this.on('volumeChange', function(b) {
					g.hardMuted || g.peers.forEach(function(v) {
						if (v.enableDataChannels) {
							var k = v.getDataChannel('hark');
							if ('open' != k.readyState) return;
							k.send(JSON.stringify({
								type: 'volume',
								volume: b
							}))
						}
					})
				}), this.config.debug && this.on('*', function(b, v, k) {
					var w;
					w = g.config.logger === s ? console : g.logger, w.log('event:', b, v, k)
				})
			}
			var a = t('util'),
				o = t('webrtcsupport'),
				s = t('mockconsole'),
				c = t('localmedia'),
				m = t('./peer');
			a.inherits(n, c), n.prototype.createPeer = function(u) {
				var g;
				return u.parent = this, g = new m(u), this.peers.push(g), g
			}, n.prototype.removePeers = function(u, g) {
				this.getPeers(u, g).forEach(function(f) {
					f.end()
				})
			}, n.prototype.getPeers = function(u, g) {
				return this.peers.filter(function(f) {
					return (!u || f.id === u) && (!g || f.type === g)
				})
			}, n.prototype.sendToAll = function(u, g) {
				this.peers.forEach(function(f) {
					f.send(u, g)
				})
			}, n.prototype.sendDirectlyToAll = function(u, g, f) {
				this.peers.forEach(function(h) {
					h.enableDataChannels && h.sendDirectly(u, g, f)
				})
			}, r.exports = n
		}, {
			'./peer': 77,
			localmedia: 44,
			mockconsole: 46,
			util: 73,
			webrtcsupport: 74
		}]
	}, {}, [78])(78)
});
